webpackJsonp([6],{"4efW":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s=a("oAV5"),n={data:function(){return{patientList:[],CareTypeList:[],orgId:null,EdialogVisible:!1,sJDialogVisible:!1,tableLoading:!1,renewDialogVisible:!1,treeData:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"},dialogTitle:"",date:"",curOrgName:"",searchCondition:l()({contact:null,name:null,code:null,orgId:null,startDate:null,endDate:null,isOnHospital:!1,projectId:2,curPage:1,pageSize:10},"projectId",this.$store.state.user.projectId),myPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},dateZone:"",totalSize:0,leaveDialog:!1,curRow:"",careTypeSearchDialogCurrentPage:1,careTypeSearchDialogTotalCount:10,serviceLsit:[],transactionList:[],leaveDTO:{leaveDate:null,totalServiceAmount:0,balance:0,hospitalCode:null,money:null,payMan:null,phone:null,orderId:null},chargeDialog:!1,chargeDTO:{totalServiceAmount:0,balance:0,payMan:null,money:null,patientCode:null,date:"",orderId:null,phone:""},detailDialog:!1,detailDTO:{patientCode:"",patientName:"",orderCode:"",hospitalizedDate:"",leaveDate:"",totalServiceAmount:0,phone:null},changeDialog:!1,changeDTO:{patientCode:"",patientName:"",orderCode:"",orderId:"",hospitalizedDate:"",serviceCode:"",serviceType:"",price:"",serviceTypePro:"",settleType:"",orgId:"",orgName:"",startDate:"",changeOrgId:"",changeOrgName:"",serviceTypeId:"",changeDate:"",changeServiceTypeName:"",changeServiceTypeId:"",changeServicePrice:"",changeSettleType:"",bedNum:"",changeBedNum:"",lastServiceEndDate:""},changeOrgTree:!1,resourceSelection:"",careTypeSearch:!1,dialogVisible:!1,resourcePatin:[],resourceTransaction:[],printing:{br_code:"",dy_code:"",y_m_d:"",dy_dh:"",dy_ks:"",dy_ch:"",dy_xm:"",dy_sfzh:"",dy_lx:"",dy_dj:"",dy_ksr:"",dy_ze:"",w:"",q:"",b:"",s:"",g:"",dy_jsr:""},renew:{xf_code:"",xf_Rcode:"",xf_ymd:"",xf_dh:"",xf_ks:"",xf_ch:"",xf_xm:"",xf_sfzh:"",xf_lx:"",xf_dj:"",xf_ksr:"",xf_ze:"",xf_w:"",xf_q:"",xf_b:"",xf_s:"",xf_g:"",xf_jsr:""},printingSj:{p_br_code:"",p_dy_ks:"",br_code:"",p_dy_ch:"",p_dy_xm:"",p_jsr:"",p_dy_q:"",p_dy_fwsj1:"",p_dy_fwsj2:"",p_q:"",p_b:"",p_s:"",p_g:"",p_date_y:"",p_date_d:"",p_date_m:""}}},mounted:function(){this.searchPatientList()},methods:{cancelEidt:function(){this.EdialogVisible=!1},showOrgTable:function(){this.dialogTitle="科室参照",this.EdialogVisible=!0},loadChild:function(t,e){var a=this,i=null==t.parent?null:t.data.id,l=e;this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:this.user.projectId}).then(function(t){if(t&&200===t.status)if("200"===t.data.code){for(var e=[],i=t.data.msg.result,s=0;s<i.length;s++)e.push({id:t.data.msg.result[s].id,label:t.data.msg.result[s].name,children:[],isLeaf:t.data.msg.result[s].isLeaf,disabled:!t.data.msg.result[s].isLeaf});l(e)}else a.getMasgg(t.data.msg);else a.getMasgg(t.status)})},clearOrgInput:function(){this.curOrgName="",this.orgId=null},orgClick:function(){var t=this.$refs.tree.getCheckedNodes();this.curOrgName=t[0].label,this.orgId=t[0].id,this.EdialogVisible=!1},orgNodeClick:function(t,e){var a=[];a.push(t),this.$refs.tree.setCheckedNodes(a,!0)},searchPatientList:function(){var t=this;this.tableLoading=!0,null==this.dateZone?(this.searchCondition.startDate=null,this.searchCondition.endDate=null):(this.searchCondition.startDate=void 0===this.dateZone[0]?null:this.dateZone[0],this.searchCondition.endDate=void 0===this.dateZone[1]?null:this.dateZone[1]),this.searchCondition.orgId=void 0===this.orgId?null:this.orgId,this.patientList=[],console.log(this.searchCondition),this.postRequestJson("/busi/patient/list",this.searchCondition).then(function(e){if(t.tableLoading=!1,e&&"200"===e.data.code){var a=e.data.msg;t.totalSize=a.totalSize;var i=a.result;if(0!==i.length)for(var l=0;l<i.length;l++)t.patientList.push({orderId:i[l].order.id,orderCode:i[l].order.code,patientCode:i[l].order.patientCode,patientName:i[l].order.name,phone:i[l].order.phone,orgName:i[l].request.orgName,price:i[l].request.price,serviceType:i[l].request.careTypeName,hospitalizedDate:i[l].order.hospitalizedTime,leaveDate:i[l].order.leaveTime,serviceTypePro:i[l].request.propertyName,settleType:i[l].request.settleTypeName,startDate:i[l].request.startDate,orgId:i[l].request.orgId,careTypeId:i[l].request.careTypeId,serviceCode:i[l].request.code,bedNum:i[l].request.bedNum});else t.$message({type:"fail",message:"没有病人数据"})}else t.$message({type:"fail",message:e.data.msg})})},showLeaveDialog:function(t){var e=this;this.leaveDialog=!0,this.curRow=t,this.leaveDTO.payMan=t.patientName,this.leaveDTO.orderId=t.orderId;var a=Object(s.a)(this.leaveDTO.leaveDate);this.leaveDTO.hospitalCode=t.orderCode,this.serviceLsit=[],this.transactionList=[],this.leaveDTO.balance=0,this.leaveDTO.totalServiceAmount=0,this.getRequestParams("/busi/patient/service/list",{orderId:t.orderId}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;console.log(a);for(var i=0;i<a.length;i++){var l=new Date(a[i].startDate),s="";null!=a[i].endDate&&(s=new Date(a[i].endDate),Math.floor((s.getTime()-l.getTime())/864e5)),e.serviceLsit.push({requestCode:a[i].code,serviceType:a[i].propertyName,serviceTypeName:a[i].careTypeName,settleType:a[i].settleTypeName,price:a[i].price,startDate:a[i].startDate,endDate:a[i].endDate,days:a[i].days,amount:a[i].amount,orgName:a[i].orgName,bedNum:a[i].bedNum})}}else e.$message({type:"fail",message:t.data.msg})}),this.getRequestParams("/busi/patient/transaction/list",{orderId:t.orderId}).then(function(t){if(t&&"200"===t.data.code)for(var a=t.data.msg,i=0;i<a.length;i++)e.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else e.$message({type:"fail",message:t.data.msg})}),this.getAmount(a,t.orderId),this.getRequestParams("/busi/patient/balance",{code:t.patientCode}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;e.leaveDTO.balance=a}else e.$message({type:"fail",message:t.data.msg})})},changeDateGetAmount:function(){var t=Object(s.a)(this.leaveDTO.leaveDate);if(null!=t){var e=Object(s.a)(this.leaveDTO.orderId);this.getAmount(t,e)}},getAmount:function(t,e){var a=this;this.getRequestParams("/busi/patient/service/amount",{orderId:e,endDate:t}).then(function(t){if(t&&"200"===t.data.code){var e=t.data.msg;a.leaveDTO.totalServiceAmount=e}else a.$message({type:"fail",message:t.data.msg})})},submitLeave:function(){var t=this,e=Object(s.a)(this.leaveDTO.leaveDate),a=Object(s.a)(this.leaveDTO.hospitalCode),i=Object(s.a)(this.leaveDTO.money),l=Object(s.a)(this.leaveDTO.payMan);this.deleteRequestJson("/busi/patient",{hospitalCode:a,dateTime:e,money:i,payMan:l}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;t.$message({type:"success",message:a})}else t.$message({type:"fail",message:e.data.msg})})},showChargeDialog:function(t){var e=this;this.chargeDialog=!0,this.curRow=t,this.transactionList=[],this.chargeDTO.payMan=t.patientName,this.chargeDTO.patientCode=t.patientCode,this.chargeDTO.patientName=t.patientName,this.chargeDTO.orderId=t.orderId,this.chargeDTO.phone=t.phone,this.getRequestParams("/busi/patient/transaction/list",{orderId:t.orderId}).then(function(t){if(t&&"200"===t.data.code)for(var a=t.data.msg,i=0;i<a.length;i++)e.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else e.$message({type:"fail",message:t.data.msg})}),this.getRequestParams("/busi/patient/service/amount",{orderId:this.chargeDTO.orderId}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;e.chargeDTO.totalServiceAmount=a}else e.$message({type:"fail",message:t.data.msg})}),this.getRequestParams("/busi/patient/balance",{code:t.patientCode}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;e.chargeDTO.balance=a}else e.$message({type:"fail",message:t.data.msg})})},showDetailDialog:function(t){var e=this;this.detailDialog=!0,this.detailDTO.hospitalizedDate=t.hospitalizedDate,this.detailDTO.patientName=t.patientName,this.detailDTO.patientCode=t.patientCode,this.detailDTO.orderCode=t.orderCode,this.detailDTO.leaveDate=t.leaveDate,this.detailDTO.phone=t.phone,this.serviceLsit=[],this.transactionList=[],this.getRequestParams("/busi/patient/service/list",{orderId:t.orderId}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;console.log(a);for(var i=0;i<a.length;i++){var l=new Date(a[i].startDate),s="";null!=a[i].endDate&&(s=new Date(a[i].endDate),Math.floor((s.getTime()-l.getTime())/864e5)),e.serviceLsit.push({requestCode:a[i].code,serviceType:a[i].propertyName,serviceTypeName:a[i].careTypeName,settleType:a[i].settleTypeName,price:a[i].price,startDate:a[i].startDate,endDate:a[i].endDate,days:a[i].days,amount:a[i].amount,orgName:a[i].orgName,bedNum:a[i].bedNum})}}else e.$message({type:"fail",message:t.data.msg})}),this.getRequestParams("/busi/patient/transaction/list",{orderId:t.orderId}).then(function(t){if(t&&"200"===t.data.code)for(var a=t.data.msg,i=0;i<a.length;i++)e.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else e.$message({type:"fail",message:t.data.msg})}),this.getRequestParams("/busi/patient/service/amount",{orderId:t.orderId}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;e.detailDTO.totalServiceAmount=a}else e.$message({type:"fail",message:t.data.msg})})},submitCharge:function(){var t=this,e=Object(s.a)(this.chargeDTO.date),a=Object(s.a)(this.chargeDTO.patientCode),i=Object(s.a)(this.chargeDTO.money),l=Object(s.a)(this.chargeDTO.payMan);this.postRequestJson("/busi/patient/balance",{code:a,date:e,money:i,payMan:l}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;t.$message({type:"success",message:a}),t.transactionList=[],t.getRequestParams("/busi/patient/transaction/list",{orderId:t.chargeDTO.orderId}).then(function(e){if(e&&"200"===e.data.code)for(var a=e.data.msg,i=0;i<a.length;i++)t.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else t.$message({type:"fail",message:e.data.msg})})}else t.$message({type:"fail",message:e.data.msg})})},showChangeDialog:function(t){console.log(t),this.changeDialog=!0,this.changeDTO.orgName=t.orgName,this.changeDTO.orgId=t.orgId,this.changeDTO.changeOrgName=t.orgName,this.changeDTO.changeOrgId=t.orgId,this.changeDTO.orderId=t.orderId,this.changeDTO.orderCode=t.orderCode,this.changeDTO.hospitalizedDate=t.hospitalizedDate,this.changeDTO.patientCode=t.patientCode,this.changeDTO.patientName=t.patientName,this.changeDTO.serviceType=t.serviceType,this.changeDTO.price=t.price,this.changeDTO.serviceTypePro=t.serviceTypePro,this.changeDTO.serviceTypeId=t.careTypeId,this.changeDTO.serviceCode=t.serviceCode,this.changeDTO.startDate=t.startDate,this.changeDTO.settleType=t.settleType,this.changeDTO.bedNum=t.bedNum},showOrgTableChange:function(){this.changeOrgTree=!0},orgClickChange:function(){var t=this.$refs.treeChange.getCheckedNodes();this.changeDTO.changeOrgId=t[0].id,this.changeDTO.changeOrgName=t[0].label,this.changeOrgTree=!1},orgNodeClickChange:function(t,e){var a=[];a.push(t),this.$refs.treeChange.setCheckedNodes(a,!0)},showService:function(){this.careTypeSearch=!0,this.getServiceTypeload()},currentChange:function(t){this.careTypeSearchDialogCurrentPage=t,this.getServiceTypeload()},getServiceTypeload:function(){var t=this;this.postRequestJson("/busi/baseinfo/caretype/list",{curPage:this.careTypeSearchDialogCurrentPage,projectId:2}).then(function(e){t.tableLoading=!1,e&&200===e.status?(t.CareTypeList=e.data.msg.result,t.careTypeSearchDialogTotalCount=e.data.msg.totalSize):t.$confirm(e.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})})},SelectionChange:function(t){this.resourceSelection=t},ServiceClick:function(){this.changeDTO.changeServiceTypeName=this.resourceSelection.name,this.changeDTO.changeServicePrice=this.resourceSelection.price,this.changeDTO.changeServiceTypeId=this.resourceSelection.id,this.changeDTO.changeSettleType=this.resourceSelection.settleTypeName,this.careTypeSearch=!1},submitChange:function(){var t=this,e=this.changeDTO.orderId,a=this.changeDTO.serviceCode,i=this.changeDTO.changeBedNum,l=this.changeDTO.changeServiceTypeId,s=this.changeDTO.changeOrgId,n=this.changeDTO.changeDate,r=this.changeDTO.lastServiceEndDate;this.putRequestJson("/busi/patient",{id:e,requestCode:a,bedNum:i,careTypeId:l,orgId:s,changeDate:n,lastServiceEndDate:r,clerk:"admin"}).then(function(e){e&&"200"===e.data.code?t.$message({type:"fail",message:e.data.msg}):t.getMasgg(e.data.msg)})},SelectionPatinChange:function(t){this.resourcePatin=t},SelectionTransactionChange:function(t){this.resourceTransaction=t},showPatinView:function(){this.dialogTitle="打印预收单",this.getSetPatin()},showSJView:function(){this.dialogTitle="打印收据",this.getSetSj()},renewView:function(){this.dialogTitle="打印续费收据",this.renewDialogVisible=!0,this.getRenew()},getSetPatin:function(){var t=this;if(this.detailDTO.totalServiceAmount<0)this.getMasgg("预收金额要大于零");else{if(void 0===this.resourcePatin.orgName)return this.getMasgg("请选最新一条服务记录，进行打印"),void(this.resourcePatin.orgName=void 0);this.dialogVisible=!0;var e=new Date;this.printing.y_m_d=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日",this.getRequest("/busi/baseinfo/docfile?id=1").then(function(e){e&&200===e.status?t.printing.dy_code=e.data.msg.currentCode:t.getMasgg(e.data.msg)}),this.printing.br_code=this.detailDTO.orderCode,this.printing.dy_ks=this.resourcePatin.orgName,this.printing.dy_ch=this.resourcePatin.bedNum,this.printing.dy_dh=this.detailDTO.phone,this.printing.dy_xm=this.detailDTO.patientName,this.printing.dy_sfzh="",this.printing.dy_lx=this.resourcePatin.serviceTypeName,this.printing.dy_dj=this.resourcePatin.price,this.printing.dy_ksr=this.resourcePatin.startDate.substring(0,10),this.printing.dy_ze=this.resourceTransaction.money,this.printing.dy_jsr=this.user.name;for(var a=this.padding(this.resourceTransaction.money,5),i=a.charAt(a.length-5),l=a.charAt(a.length-4),s=a.charAt(a.length-3),n=a.charAt(a.length-2),r=a.charAt(a.length-1),o=0;o<1;o++)this.printing.w=""!==this.convertCurrency(i)?this.convertCurrency(i):"零",this.printing.q=""!==this.convertCurrency(l)?this.convertCurrency(l):"零",this.printing.b=""!==this.convertCurrency(s)?this.convertCurrency(s):"零",this.printing.s=""!==this.convertCurrency(n)?this.convertCurrency(n):"零",this.printing.g=""!==this.convertCurrency(r)?this.convertCurrency(r):"零"}},getSetSj:function(){var t=this,e=new Date;if(null!==this.detailDTO.leaveDate){if(void 0===this.resourcePatin.orgName)return this.getMasgg("请选最新一条服务记录，进行打印"),void(this.resourcePatin.orgName=void 0);this.sJDialogVisible=!0,this.printingSj.p_date_y=e.getFullYear(),this.printingSj.p_date_m=e.getMonth()+1,this.printingSj.p_date_d=e.getDate(),this.getRequest("/busi/baseinfo/docfile?id=2").then(function(e){e&&200===e.status?t.printingSj.br_code="NO"+e.data.msg.currentCode:t.getMasgg(e.data.msg)}),this.printingSj.p_br_code=this.detailDTO.orderCode,this.printingSj.p_dy_ks=this.resourcePatin.orgName,this.printingSj.p_dy_ch=this.resourcePatin.bedNum,this.printingSj.p_dy_xm=this.detailDTO.patientName,this.printingSj.p_jsr=this.user.name,this.printingSj.p_dy_q=this.detailDTO.totalServiceAmount-this.leaveDTO.money,this.printingSj.p_dy_fwsj1=this.detailDTO.hospitalizedDate.substring(0,10),this.printingSj.p_dy_fwsj2=this.detailDTO.leaveDate.substring(0,10);for(var a=this.padding(this.detailDTO.totalServiceAmount,4),i=a.charAt(a.length-4),l=a.charAt(a.length-3),s=a.charAt(a.length-2),n=a.charAt(a.length-1),r=0;r<1;r++)this.printingSj.p_q=""!==this.convertCurrency(i)?this.convertCurrency(i):"零",this.printingSj.p_b=""!==this.convertCurrency(l)?this.convertCurrency(l):"零",this.printingSj.p_s=""!==this.convertCurrency(s)?this.convertCurrency(s):"零",this.printingSj.p_g=""!==this.convertCurrency(n)?this.convertCurrency(n):"零"}else this.getMasgg("该病人还没出院，不能打印收据")},getRenew:function(){var t=this,e=new Date;this.renew.xf_ymd=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日",this.getRequest("/busi/baseinfo/docfile?id=1").then(function(e){e&&200===e.status?t.renew.xf_Rcode=e.data.msg.currentCode:t.getMasgg(e.data.msg)}),this.renew.xf_code=this.curRow.orderCode,this.renew.xf_ks=this.curRow.orgName,this.renew.xf_ch=this.resourcePatin.bedNum,this.renew.xf_dh=this.chargeDTO.phone,this.renew.xf_xm=this.chargeDTO.patientName,this.renew.xf_sfzh="",this.renew.xf_lx=this.curRow.serviceType,this.renew.xf_dj=this.curRow.price,this.renew.xf_ksr=this.chargeDTO.date.substring(0,10),this.renew.xf_ze=this.chargeDTO.money,this.renew.xf_jsr=this.user.name;for(var a=this.padding(this.chargeDTO.money,5),i=a.charAt(a.length-5),l=a.charAt(a.length-4),s=a.charAt(a.length-3),n=a.charAt(a.length-2),r=a.charAt(a.length-1),o=0;o<1;o++)this.renew.xf_w=""!==this.convertCurrency(i)?this.convertCurrency(i):"零",this.renew.xf_q=""!==this.convertCurrency(l)?this.convertCurrency(l):"零",this.renew.xf_b=""!==this.convertCurrency(s)?this.convertCurrency(s):"零",this.renew.xf_s=""!==this.convertCurrency(n)?this.convertCurrency(n):"零",this.renew.xf_g=""!==this.convertCurrency(r)?this.convertCurrency(r):"零"},convertCurrency:function(t){var e,a,i,l=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),s=new Array("","拾","佰","仟"),n=new Array("","万","亿","兆"),r=new Array("角","分","毫","厘"),o="";if(""==t)return"";if((t=parseFloat(t))>=1e15)return"";if(0==t)return o=l[0]+"";if(-1==(t=t.toString()).indexOf(".")?(e=t,a=""):(e=(i=t.split("."))[0],a=i[1].substr(0,4)),parseInt(e,10)>0){for(var c=0,d=e.length,p=0;p<d;p++){var h=d-p-1,g=h/4,v=h%4;"0"==(u=e.substr(p,1))?c++:(c>0&&(o+=l[0]),c=0,o+=l[parseInt(u)]+s[v]),0==v&&c<4&&(o+=n[g])}o+=""}if(""!=a){var m=a.length;for(p=0;p<m;p++){var u;"0"!=(u=a.substr(p,1))&&(o+=l[Number(u)]+r[p])}}return""==o?o+=l[0]+"":""==a&&(o+=""),o},padding:function(t,e){for(var a=(t+"").length;a<e;a=t.length)t="0"+t;return t},divPrint:function(t){var e=document.getElementById(t);console.log(e.innerHTML);var a=e.innerHTML,i=document.body.innerHTML;return document.body.innerHTML=a,window.print(),window.location.reload(),document.body.innerHTML=i,!1},getMasgg:function(t){var e=this;this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.changeDialog=!1,e.searchPatientList()}).catch(function(){})}},computed:{user:function(){return this.$store.state.user}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-header",[a("div",{},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px",width:"100%"},attrs:{inline:!0}},[a("el-row",{staticStyle:{float:"left"}},[a("el-col",[a("el-form-item",{attrs:{label:"姓名:",prop:"username"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入病人姓名"},model:{value:t.searchCondition.name,callback:function(e){t.$set(t.searchCondition,"name",e)},expression:"searchCondition.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编号:",prop:"username"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入病人编号"},model:{value:t.searchCondition.code,callback:function(e){t.$set(t.searchCondition,"code",e)},expression:"searchCondition.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号:",prop:"username"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入手机号"},model:{value:t.searchCondition.contact,callback:function(e){t.$set(t.searchCondition,"contact",e)},expression:"searchCondition.contact"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"科室:",prop:"orgId"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",value:t.curOrgName,size:"mini",placeholder:"选择科室"},on:{focus:t.showOrgTable}},[a("i",{staticClass:"el-input__icon el-icon-circle-close",attrs:{slot:"suffix"},on:{click:t.clearOrgInput},slot:"suffix"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"时间区间"}},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd",size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.myPickerOptions},model:{value:t.dateZone,callback:function(e){t.dateZone=e},expression:"dateZone"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:t.searchPatientList}},[t._v("查询")])],1)],1)],1)],1)],1)]),t._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.patientList,border:"",stripe:"",size:"mini"}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"patientCode",align:"center",width:"140px",label:"病人编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patientName",align:"center",width:"100px",label:"病人姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"所在科室"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceType",width:"100px",align:"center",label:"陪护类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",align:"center",width:"100px",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hospitalizedDate",align:"center",width:"170px",label:"入院时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leaveDate",width:"170px",align:"center",label:"出院时间"}}),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[null===e.row.leaveDate?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return t.showLeaveDialog(e.row)}}},[t._v("出院\n                ")]):t._e(),t._v(" "),null===e.row.leaveDate?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return t.showChargeDialog(e.row)}}},[t._v("续费\n                ")]):t._e(),t._v(" "),null===e.row.leaveDate?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return t.showChangeDialog(e.row)}}},[t._v("变更服务\n                ")]):t._e(),t._v(" "),a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return t.showDetailDialog(e.row)}}},[t._v("详细信息\n                ")])]}}])})],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{"current-page":t.searchCondition.curPage,"page-size":t.searchCondition.pageSize,layout:"prev, pager, next, jumper",total:t.totalSize},on:{"current-change":t.searchPatientList,"update:currentPage":function(e){return t.$set(t.searchCondition,"curPage",e)},"update:current-page":function(e){return t.$set(t.searchCondition,"curPage",e)}}})],1)],1),t._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.dialogTitle,"close-on-click-modal":!1,visible:t.EdialogVisible,width:"30%"},on:{"update:visible":function(e){t.EdialogVisible=e}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:t.treeData,load:t.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:t.orgNodeClick}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:t.cancelEidt}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.orgClick}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"OrgFormChange",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"科室参照","close-on-click-modal":!1,visible:t.changeOrgTree,width:"30%"},on:{"update:visible":function(e){t.changeOrgTree=e}}},[a("el-row",[a("el-tree",{ref:"treeChange",attrs:{props:t.treeData,load:t.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:t.orgNodeClickChange}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.changeOrgTree=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.orgClickChange}},[t._v("确 定")])],1)],1)],1)])],1)],1),t._v(" "),a("el-form",{ref:"leaveForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"出院",width:"90%",height:"80%",visible:t.leaveDialog},on:{"update:visible":function(e){t.leaveDialog=e}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.curRow.orderCode,callback:function(e){t.$set(t.curRow,"orderCode",e)},expression:"curRow.orderCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.curRow.patientCode,callback:function(e){t.$set(t.curRow,"patientCode",e)},expression:"curRow.patientCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.curRow.patientName,callback:function(e){t.$set(t.curRow,"patientName",e)},expression:"curRow.patientName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.curRow.phone,callback:function(e){t.$set(t.curRow,"phone",e)},expression:"curRow.phone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.curRow.hospitalizedDate,callback:function(e){t.$set(t.curRow,"hospitalizedDate",e)},expression:"curRow.hospitalizedDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出院日期:"}},[a("el-date-picker",{attrs:{type:"datetime",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},on:{change:t.changeDateGetAmount},model:{value:t.leaveDTO.leaveDate,callback:function(e){t.$set(t.leaveDTO,"leaveDate",e)},expression:"leaveDTO.leaveDate"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"消费总额:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:t.leaveDTO.totalServiceAmount,callback:function(e){t.$set(t.leaveDTO,"totalServiceAmount",e)},expression:"leaveDTO.totalServiceAmount"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账号余额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:!0},model:{value:t.leaveDTO.balance,callback:function(e){t.$set(t.leaveDTO,"balance",e)},expression:"leaveDTO.balance"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"退款接收人:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",v:""},model:{value:t.leaveDTO.payMan,callback:function(e){t.$set(t.leaveDTO,"payMan",e)},expression:"leaveDTO.payMan"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"退款金额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入数字"},model:{value:t.leaveDTO.money,callback:function(e){t.$set(t.leaveDTO,"money",e)},expression:"leaveDTO.money"}})],1)],1)],1),t._v(" "),a("el-row"),t._v(" "),a("label",[t._v("服务记录")]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:t.serviceLsit,border:"",height:"250",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requestCode",align:"center",label:"单据编号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceType",align:"center",label:"服务类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceTypeName",width:"120",align:"center",label:"服务类型名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"settleType",label:"结算方式",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"开始日期",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"结束日期",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"days",label:"天数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"服务金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orgName",label:"科室",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bedNum",label:"床号",align:"center",width:"100"}})],1)],1),t._v(" "),a("label",[t._v("续费/充值记录")]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:t.transactionList,border:"",stripe:"",height:"250","show-summary":"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payMan",label:"经手人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型",align:"center"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t._e(),t._v(" "),a("el-button",{on:{click:function(e){t.leaveDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitLeave}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"chargeForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"续费/充值",width:"90%",height:"80%",visible:t.chargeDialog},on:{"update:visible":function(e){t.chargeDialog=e}}},[a("label",[t._v("病人入院登记信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.chargeDTO.patientCode,callback:function(e){t.$set(t.chargeDTO,"patientCode",e)},expression:"chargeDTO.patientCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.chargeDTO.patientName,callback:function(e){t.$set(t.chargeDTO,"patientName",e)},expression:"chargeDTO.patientName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.chargeDTO.phone,callback:function(e){t.$set(t.chargeDTO,"phone",e)},expression:"chargeDTO.phone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.curRow.hospitalizedDate,callback:function(e){t.$set(t.curRow,"hospitalizedDate",e)},expression:"curRow.hospitalizedDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.curRow.orderCode,callback:function(e){t.$set(t.curRow,"orderCode",e)},expression:"curRow.orderCode"}})],1)],1)],1),t._v(" "),a("label",[t._v("病人当前服务信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务类型:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{size:"mini"},model:{value:t.curRow.serviceType,callback:function(e){t.$set(t.curRow,"serviceType",e)},expression:"curRow.serviceType"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"陪护服务价格:"}},[a("el-input",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:t.curRow.price,callback:function(e){t.$set(t.curRow,"price",e)},expression:"curRow.price"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务属性:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:t.curRow.serviceTypePro,callback:function(e){t.$set(t.curRow,"serviceTypePro",e)},expression:"curRow.serviceTypePro"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"结算方式:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.curRow.settleType,callback:function(e){t.$set(t.curRow,"settleType",e)},expression:"curRow.settleType"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所在科室:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.curRow.orgName,callback:function(e){t.$set(t.curRow,"orgName",e)},expression:"curRow.orgName"}})],1)],1)],1),t._v(" "),a("label",[t._v("充值/续费信息")]),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"消费总额:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:t.chargeDTO.totalServiceAmount,callback:function(e){t.$set(t.chargeDTO,"totalServiceAmount",e)},expression:"chargeDTO.totalServiceAmount"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账号余额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:!0},model:{value:t.chargeDTO.balance,callback:function(e){t.$set(t.chargeDTO,"balance",e)},expression:"chargeDTO.balance"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"充值/续费人:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",v:""},model:{value:t.chargeDTO.payMan,callback:function(e){t.$set(t.chargeDTO,"payMan",e)},expression:"chargeDTO.payMan"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"充值/续费金额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入数字"},model:{value:t.chargeDTO.money,callback:function(e){t.$set(t.chargeDTO,"money",e)},expression:"chargeDTO.money"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"日期:"}},[a("el-date-picker",{attrs:{type:"datetime",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.chargeDTO.date,callback:function(e){t.$set(t.chargeDTO,"date",e)},expression:"chargeDTO.date"}})],1)],1)],1),t._v(" "),a("label",[t._v("续费/充值记录")]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:t.transactionList,border:"",stripe:"",height:"250",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payMan",label:"经手人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型",align:"center"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.renewView}},[t._v("打印续费单")]),t._v(" "),a("el-button",{on:{click:function(e){t.chargeDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitCharge}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"detailForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"详细信息",width:"90%",height:"80%",visible:t.detailDialog},on:{"update:visible":function(e){t.detailDialog=e}}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.detailDTO.patientCode,callback:function(e){t.$set(t.detailDTO,"patientCode",e)},expression:"detailDTO.patientCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.detailDTO.patientName,callback:function(e){t.$set(t.detailDTO,"patientName",e)},expression:"detailDTO.patientName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.detailDTO.phone,callback:function(e){t.$set(t.detailDTO,"phone",e)},expression:"detailDTO.phone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.detailDTO.hospitalizedDate,callback:function(e){t.$set(t.detailDTO,"hospitalizedDate",e)},expression:"detailDTO.hospitalizedDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.detailDTO.leaveDate,callback:function(e){t.$set(t.detailDTO,"leaveDate",e)},expression:"detailDTO.leaveDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.detailDTO.orderCode,callback:function(e){t.$set(t.detailDTO,"orderCode",e)},expression:"detailDTO.orderCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"消费总额:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:t.detailDTO.totalServiceAmount,callback:function(e){t.$set(t.detailDTO,"totalServiceAmount",e)},expression:"detailDTO.totalServiceAmount"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5}}),t._v(" "),a("label",[t._v("服务记录")]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:t.serviceLsit,border:"","highlight-current-row":"",height:"250",stripe:"",size:"mini"},on:{"current-change":t.SelectionPatinChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requestCode",align:"center",label:"单据编号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceType",align:"center",label:"服务类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceTypeName",width:"120",align:"center",label:"服务类型名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"settleType",label:"结算方式",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"开始日期",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"结束日期",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"days",label:"天数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"服务金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orgName",label:"科室",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bedNum",label:"床号",align:"center",width:"100"}}),t._v("s\n            ")],1)],1),t._v(" "),a("label",[t._v("续费/充值记录")]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:t.transactionList,border:"","show-summary":"","highlight-current-row":"",stripe:"",height:"250",size:"mini"},on:{"current-change":t.SelectionTransactionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payMan",label:"经手人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型",align:"center"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:[function(t){},t.showSJView]}},[t._v("打印收据")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:[function(t){},t.showPatinView]}},[t._v("打印预收单")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.detailDialog=!1}}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"changeForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"变更服务",width:"90%",height:"80%",visible:t.changeDialog},on:{"update:visible":function(e){t.changeDialog=e}}},[a("label",[t._v("病人入院登记信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.changeDTO.patientCode,callback:function(e){t.$set(t.changeDTO,"patientCode",e)},expression:"changeDTO.patientCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:t.changeDTO.patientName,callback:function(e){t.$set(t.changeDTO,"patientName",e)},expression:"changeDTO.patientName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:t.changeDTO.hospitalizedDate,callback:function(e){t.$set(t.changeDTO,"hospitalizedDate",e)},expression:"changeDTO.hospitalizedDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.changeDTO.orderCode,callback:function(e){t.$set(t.changeDTO,"orderCode",e)},expression:"changeDTO.orderCode"}})],1)],1)],1),t._v(" "),a("label",[t._v("病人当前服务信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.changeDTO.serviceCode,callback:function(e){t.$set(t.changeDTO,"serviceCode",e)},expression:"changeDTO.serviceCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务类型:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:t.changeDTO.serviceType,callback:function(e){t.$set(t.changeDTO,"serviceType",e)},expression:"changeDTO.serviceType"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"陪护服务价格:"}},[a("el-input",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:t.changeDTO.price,callback:function(e){t.$set(t.changeDTO,"price",e)},expression:"changeDTO.price"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务属性:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.changeDTO.serviceTypePro,callback:function(e){t.$set(t.changeDTO,"serviceTypePro",e)},expression:"changeDTO.serviceTypePro"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"结算方式:"}},[a("el-input",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:t.changeDTO.settleType,callback:function(e){t.$set(t.changeDTO,"settleType",e)},expression:"changeDTO.settleType"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所在科室:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.changeDTO.orgName,callback:function(e){t.$set(t.changeDTO,"orgName",e)},expression:"changeDTO.orgName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"床号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:t.changeDTO.bedNum,callback:function(e){t.$set(t.changeDTO,"bedNum",e)},expression:"changeDTO.bedNum"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"开始时间:"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:t.changeDTO.startDate,callback:function(e){t.$set(t.changeDTO,"startDate",e)},expression:"changeDTO.startDate"}})],1)],1)],1),t._v(" "),a("label",[t._v("变更信息")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"变更科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择科室"},on:{focus:t.showOrgTableChange},model:{value:t.changeDTO.changeOrgName,callback:function(e){t.$set(t.changeDTO,"changeOrgName",e)},expression:"changeDTO.changeOrgName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"变更床号:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请填写床号"},model:{value:t.changeDTO.changeBedNum,callback:function(e){t.$set(t.changeDTO,"changeBedNum",e)},expression:"changeDTO.changeBedNum"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"变更日期:"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",size:"mini",placeholder:"选择日期"},model:{value:t.changeDTO.changeDate,callback:function(e){t.$set(t.changeDTO,"changeDate",e)},expression:"changeDTO.changeDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"服务类型:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择服务类型"},on:{focus:t.showService},model:{value:t.changeDTO.changeServiceTypeName,callback:function(e){t.$set(t.changeDTO,"changeServiceTypeName",e)},expression:"changeDTO.changeServiceTypeName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"类型价格:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:t.changeDTO.changeServicePrice,callback:function(e){t.$set(t.changeDTO,"changeServicePrice",e)},expression:"changeDTO.changeServicePrice"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"结算方式:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:t.changeDTO.changeSettleType,callback:function(e){t.$set(t.changeDTO,"changeSettleType",e)},expression:"changeDTO.changeSettleType"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.changeDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitChange}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"ServiceForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"陪护类型对照","close-on-click-modal":!1,visible:t.careTypeSearch,width:"44%"},on:{"update:visible":function(e){t.careTypeSearch=e}}},[a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.CareTypeList,border:"","highlight-current-row":"",size:"mini"},on:{"current-change":t.SelectionChange}},[t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"陪护类型名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"propertyName",align:"center",fixed:"",label:"陪护属性"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",fixed:"",align:"center",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"settleTypeName",fixed:"",align:"center",label:"计算方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"salaryIndex",fixed:"",align:"center",label:"工资系数"}})],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":t.careTypeSearchDialogCurrentPage,layout:"prev, pager, next",total:t.careTypeSearchDialogTotalCount},on:{"current-change":t.currentChange}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.careTypeSearch=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.ServiceClick("ServiceForm")}}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.dialogTitle,"close-on-click-modal":!1,visible:t.dialogVisible,width:"52%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"260px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[t._v("预收单")])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[t._v("\n                          NO:"),a("label",{attrs:{id:"br_code"}},[t._v(t._s(t.printing.br_code))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"right"}},[a("span",{staticStyle:{position:"relative",left:"53px",top:"-10px"}},[t._v("\n\t                         NO: "),a("label",{staticStyle:{width:"100px"},attrs:{id:"dy_code"}},[t._v(t._s(t.printing.dy_code))])])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{attrs:{id:"y_m_d"}},[t._v(t._s(t.printing.y_m_d))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("      今收到\n                            "),a("label",{staticClass:"labelstyle2",attrs:{id:"dy_ks"}},[t._v(t._s(t.printing.dy_ks))]),t._v("科\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"},attrs:{id:"dy_ch"}},[t._v(t._s(t.printing.dy_ch))]),t._v("床\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"},attrs:{id:"dy_xm"}},[t._v(t._s(t.printing.dy_xm))]),t._v("产妇/患者\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"150px"},attrs:{id:"dy_sfzh"}},[t._v(t._s(t.printing.dy_sfzh))]),t._v("身份证\n                          ")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("手机号码"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"107px"},attrs:{id:"dy_dh"}},[t._v(t._s(t.printing.dy_dh))]),t._v("\n                                 交来预收款"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"},attrs:{id:"dy_lx"}},[t._v(t._s(t.printing.dy_lx))]),t._v("\n                                 （类型），单价"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"},attrs:{id:"dy_dj"}},[t._v(t._s(t.printing.dy_dj))]),t._v("元/天，\n                          ")])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("\n\t\t\t\t                         开始日期为"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"100px"},attrs:{id:"dy_ksr"}},[t._v(t._s(t.printing.dy_ksr))]),t._v("，\n\t\t\t\t                        共"),a("label",{staticClass:"labelstyle2",attrs:{id:"dy_ze"}},[t._v(t._s(t.printing.dy_ze))]),t._v("元。\n                              ")])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[t._v("\n                          合计大写金额：\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"w"}},[t._v(t._s(t.printing.w))]),t._v("万\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"q"}},[t._v(t._s(t.printing.q))]),t._v("仟\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"b"}},[t._v(t._s(t.printing.b))]),t._v("佰\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"s"}},[t._v(t._s(t.printing.s))]),t._v("拾\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"g"}},[t._v(t._s(t.printing.g))]),t._v("元整\n                        ")])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("收款单位  （盖章） ")])])])])]),t._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"12px"},attrs:{align:"right"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"-10px"}},[t._v("经手人：")]),t._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"},attrs:{id:"dy_jsr"}},[t._v(t._s(t.printing.dy_jsr))])])]),t._v(" "),a("div",{staticStyle:{float:"left",height:"260px",width:"16px","font-size":"11px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"30px"}},[t._v("①存根︵ 白︶")]),t._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"40px"}},[t._v("②收据︵红︶")])])])])]),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(e){return e.preventDefault(),t.divPrint("div_print")}}},[t._v("点击打印")])],1)],1)],1)]),t._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.dialogTitle,"close-on-click-modal":!1,visible:t.sJDialogVisible,width:"52%"},on:{"update:visible":function(e){t.sJDialogVisible=e}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print2"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"250px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[t._v("安裕陪护服务收据")])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{staticStyle:{position:"relative",top:"-10px"}}),t._v(" "),a("label",{staticStyle:{position:"relative",left:"-38px",top:"5px"}},[t._v(t._s(t.printingSj.br_code))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"}}),t._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{staticClass:"labelstyle1",staticStyle:{width:"25px",position:"relative",top:"-10px"},attrs:{id:"date_y"}},[t._v("　")]),t._v(" "),a("label",{staticStyle:{position:"relative",top:"-10px"}},[t._v("年")]),t._v(" "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"20px",position:"relative",top:"-10px"},attrs:{id:"date_m"}},[t._v("　")]),t._v(" "),a("label",{staticStyle:{position:"relative",top:"-10px"}},[t._v("月 ")]),t._v(" "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"20px",position:"relative",top:"-10px"},attrs:{id:"date_d"}},[t._v("　")]),t._v(" "),a("label",{staticStyle:{position:"relative",top:"-10px"}},[t._v("日")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("      今收到\n\t\t\t\t                     "),a("label",{staticClass:"labelstyle1"},[t._v("　")]),t._v("科\n                             "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"55px"}},[t._v("　")]),t._v("床\n                             "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"75px"}},[t._v("　")]),t._v("产妇/患者交来服务费￥\n                              "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"45px"}},[t._v("　")]),t._v("元\n                     ")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("服务时间:\n\t\t      \t\t              "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"450px"},attrs:{id:"dy_fwsj1"}},[t._v("　")])])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("               \n\t\t      \t\t               "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"450px"},attrs:{id:"dy_fwsj2"}},[t._v("　")])])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[t._v("\n                          合  计  大  写  金  额：\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[t._v("　")]),t._v("仟\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[t._v("　")]),t._v("佰\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[t._v("　")]),t._v("拾\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[t._v("　")]),t._v("元整\n                        ")])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("收款单位  （盖章） ")])])])])]),t._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"13px"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"80px"}},[t._v("核准：")]),t._v(" "),a("label",{staticStyle:{position:"relative",top:"5px",left:"250px"}},[t._v("出纳：")]),t._v(" "),a("label",{staticStyle:{position:"relative",top:"5px",left:"350px"}},[t._v("经手人：")]),t._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"}})])]),t._v(" "),a("div",{staticStyle:{float:"left",height:"280px",width:"13px","font-size":"10px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px","line-height":"13px",position:"relative",top:"0px"}},[t._v("第一联:存根")]),t._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px","line-height":"13px",position:"relative",top:"0px"}},[t._v(" 第二联:交顾客")]),t._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px","line-height":"13px",position:"relative",top:"0px"}},[t._v(" 第三联:记账")])])])]),t._v(" "),a("div",{staticStyle:{width:"649px",margin:"20px auto",position:"absolute",left:"0",top:"0",background:"rgba(255,255,255,0)"},attrs:{id:"p_div_print"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"250px",margin:"0px auto",background:"rgba(255,255,255,0)"}},[a("table",{staticStyle:{margin:"-9px auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[t._v(" 　 　 　 　 　 　 　 　")])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[t._v("　　　"),a("label",{staticStyle:{position:"relative",top:"-10px"},attrs:{id:"p_br_code"}},[t._v("NO"+t._s(t.printingSj.p_br_code))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"}}),t._v(" "),a("td",{staticStyle:{width:"30%"}},[t._v("\n                           "),a("label",{staticClass:"labelstyle",staticStyle:{width:"60px",position:"relative",top:"-13px"},attrs:{id:"p_date_y"}},[t._v(t._s(t.printingSj.p_date_y))]),t._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"28px",position:"relative",top:"-13px"},attrs:{id:"p_date_m"}},[t._v(t._s(t.printingSj.p_date_m))]),t._v(" 　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"28px",position:"relative",top:"-13px"},attrs:{id:"p_date_d"}},[t._v(t._s(t.printingSj.p_date_d))]),t._v("　\n                        ")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("　　　　　 "),t._v(" "),a("label",{staticClass:"labelstyle",attrs:{id:"p_dy_ks"}},[t._v(t._s(t.printingSj.p_dy_ks))]),t._v("　\n                             "),a("label",{staticClass:"labelstyle",staticStyle:{width:"50px"},attrs:{id:"p_dy_ch"}},[t._v(t._s(t.printingSj.p_dy_ch))]),t._v("　\n                             "),a("label",{staticClass:"labelstyle",staticStyle:{width:"65px"},attrs:{id:"p_dy_xm"}},[t._v(t._s(t.printingSj.p_dy_xm))]),t._v("　　　　　　　　　　　\n                              "),a("label",{staticClass:"labelstyle",staticStyle:{width:"45px"},attrs:{id:"p_dy_q"}},[t._v(t._s(t.printingSj.p_dy_q))]),t._v("  　\n                     ")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("　　　　　\n\t\t      \t\t               "),a("label",{staticClass:"labelstyle",staticStyle:{width:"450px",float:"left","margin-top":"0px"},attrs:{id:"p_dy_fwsj1"}},[t._v(t._s(t.printingSj.p_dy_fwsj1))])])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("　　　　　\n\t\t      \t\t               "),a("label",{staticClass:"labelstyle",staticStyle:{width:"450px",float:"left","margin-top":"0px"},attrs:{id:"p_dy_fwsj2"}},[t._v(t._s(t.printingSj.p_dy_fwsj2))])])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"0px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[t._v("　  "),t._v("　  "),t._v("　  "),t._v("　  "),t._v("　  "),t._v("　　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"84px"},attrs:{id:"p_q"}},[t._v(t._s(t.printingSj.p_q))]),t._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"74px"},attrs:{id:"p_b"}},[t._v(t._s(t.printingSj.p_b))]),t._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"74px"},attrs:{id:"p_s"}},[t._v(t._s(t.printingSj.p_s))]),t._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"74px"},attrs:{id:"p_g"}},[t._v(t._s(t.printingSj.p_g))]),t._v("　　\n                        ")])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v(" 　　　　　　　　")])])])])]),t._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"13px"}},[a("table",{staticStyle:{width:"600px",height:"25px"}},[a("tr",[a("td",{staticStyle:{width:"75px"}},[a("label",{staticStyle:{position:"relative"}},[t._v("　　　")])]),t._v(" "),a("td",{staticStyle:{width:"60px"}},[a("label",{staticStyle:{position:"relative"}})]),t._v(" "),a("td",{staticStyle:{width:"90px"}},[a("label",{staticStyle:{position:"relative"}},[t._v("　　　")])]),t._v(" "),a("td",{staticStyle:{width:"60px"}},[a("label",{staticStyle:{position:"relative"}})]),t._v(" "),a("td",{staticStyle:{width:"30px"}},[a("label",{staticStyle:{position:"relative"}},[t._v("　")])]),t._v(" "),a("td",{staticStyle:{width:"60px"}},[a("label",{staticStyle:{position:"relative"},attrs:{id:"p_jsr"}},[t._v(t._s(t.printingSj.p_jsr))])])])])])])])])]),t._v(" "),a("el-row",[a("el-form-item",{staticStyle:{"margin-top":"-10px"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(e){return e.preventDefault(),t.divPrint("p_div_print")}}},[t._v("点击打印")])],1)],1)],1)],1)]),t._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.dialogTitle,"close-on-click-modal":!1,visible:t.renewDialogVisible,width:"52%"},on:{"update:visible":function(e){t.renewDialogVisible=e}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print3"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"260px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[t._v("续费单")])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[t._v("\n                          NO:"),a("label",[t._v(t._s(t.renew.xf_code))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"right"}},[a("span",{staticStyle:{position:"relative",left:"53px",top:"-10px"}},[t._v("\n\t                         NO: "),a("label",{staticStyle:{width:"100px"},attrs:{id:"dy_Rode"}},[t._v(t._s(t.renew.xf_Rcode))])])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",[t._v(t._s(t.renew.xf_ymd))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("      今收到\n                            "),a("label",{staticClass:"labelstyle2"},[t._v(t._s(t.renew.xf_ks))]),t._v("科\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"}},[t._v(t._s(t.renew.xf_ch))]),t._v("床\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"}},[t._v(t._s(t.renew.xf_xm))]),t._v("产妇/患者\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"150px"}},[t._v(t._s(t.renew.xf_sfzh))]),t._v("身份证\n                          ")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("手机号码"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"107px"}},[t._v(t._s(t.renew.xf_dh))]),t._v("\n                                 交来预收款"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"}},[t._v(t._s(t.renew.xf_lx))]),t._v("\n                                 （类型），单价"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"}},[t._v(t._s(t.renew.xf_dj))]),t._v("元/天，\n                          ")])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("\n\t\t\t\t                         开始日期为"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"100px"}},[t._v(t._s(t.renew.xf_ksr))]),t._v("，\n\t\t\t\t                        共"),a("label",{staticClass:"labelstyle2"},[t._v(t._s(t.renew.xf_ze))]),t._v("元。\n                              ")])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[t._v("\n                          合计大写金额：\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[t._v(t._s(t.renew.xf_w))]),t._v("万\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[t._v(t._s(t.renew.xf_q))]),t._v("仟\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[t._v(t._s(t.renew.xf_b))]),t._v("佰\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[t._v(t._s(t.renew.xf_s))]),t._v("拾\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[t._v(t._s(t.renew.xf_g))]),t._v("元整\n                        ")])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("收款单位  （盖章） ")])])])])]),t._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"12px"},attrs:{align:"right"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"-10px"}},[t._v("经手人：")]),t._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"}},[t._v(t._s(t.renew.xf_jsr))])])]),t._v(" "),a("div",{staticStyle:{float:"left",height:"260px",width:"16px","font-size":"11px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"30px"}},[t._v("①存根︵ 白︶")]),t._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"40px"}},[t._v("②收据︵红︶")])])])])]),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(e){return e.preventDefault(),t.divPrint("div_print3")}}},[t._v("点击打印")])],1)],1)],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(t){a("7LXC")},null,null);e.default=o.exports},"7LXC":function(t,e){},Ivt8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s={data:function(){var t;return t={CareTypeList:[],dialogTitle:"",tableLoading:!1,hideRow:!1,SdialogTitle:"",orgdialogTitle:"",totalCount:-1,currentPage:1,serviceDay:"",patientCode:"",resourceSelection:[],dialogVisible:!1},l()(t,"tableLoading",!1),l()(t,"SdialogVisible",!1),l()(t,"EdialogVisible",!1),l()(t,"advanceSearchViewVisible",!1),l()(t,"orgDataNode",{orgId:"",orgName:""}),l()(t,"hospitalizedInfo",{hospitalizedTime:"",clerk:"",projectId:"2"}),l()(t,"orderCode",""),l()(t,"serviceInfo",{bedNum:"",orgId:"",careTypeId:"",startTime:""}),l()(t,"serviceType",{serviceName:"",price:""}),l()(t,"patient",{idcard:"",name:"",sex:"",address:"",phone:"",linkman:""}),l()(t,"transactionRecord",{payMan:"",money:0,date:""}),l()(t,"defaultProps",{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"}),l()(t,"sexData",[{sex:"1",mame:"男"},{sex:"2",mame:"女"}]),l()(t,"rules",{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],phone:[{required:!0,message:"必填:手机号",trigger:"blur"}]}),l()(t,"printing",{br_code:"",dy_code:"",y_m_d:"",dy_dh:"",dy_ks:"",dy_ch:"",dy_xm:"",dy_sfzh:"",dy_lx:"",dy_dj:"",dy_ksr:"",dy_ze:"",w:"",q:"",b:"",s:"",g:"",dy_jsr:""}),t},mounted:function(){},methods:{testDate:function(){console.log(this.hospitalizedInfo.hospitalizedTime)},number:function(){this.serviceDay=this.serviceDay.replace(/[^\.\d]/g,""),this.patient.phone=this.patient.phone.replace(/[^\.\d]/g,"")},showEditEmpView:function(){this.dialogTitle="编辑员工"},showOrgTable:function(){this.orgdialogTitle="科室参照",this.EdialogVisible=!0},loadChild:function(t,e){var a=this,i=null==t.parent?null:t.data.id,l=e;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:this.$store.state.user.projectId}).then(function(t){if(a.tableLoading=!1,t&&200===t.status){for(var e=[],i=0;i<t.data.msg.result.length;i++)e.push({id:t.data.msg.result[i].id,label:t.data.msg.result[i].name,children:[],isLeaf:t.data.msg.result[i].isLeaf,disabled:!t.data.msg.result[i].isLeaf});l(e)}})},showService:function(){this.SdialogTitle="陪护类型参照",this.SdialogVisible=!0,this.getServiceTypeload()},currentChange:function(t){this.currentPage=t,this.getServiceTypeload()},getServiceTypeload:function(){var t=this;this.postRequestJson("/busi/baseinfo/caretype/list",{name:"陪",curPage:this.currentPage,projectId:this.$store.state.user.projectId}).then(function(e){t.tableLoading=!1,e&&200===e.status?(t.CareTypeList=e.data.msg.result,t.totalCount=e.data.msg.totalSize):t.$confirm(e.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})})},orgClick:function(){this.EdialogVisible=!1;var t=this.$refs.tree.getCheckedNodes(!0,!1);this.orgDataNode.orgName=t[0].label,this.orgDataNode.orgId=t[0].id},orgNodeClick:function(t,e){var a=[];a.push(t),this.$refs.tree.setCheckedNodes(a,!0)},cancelEidt:function(){this.dialogVisible=!1,this.EdialogVisible=!1},SelectionChange:function(t){this.resourceSelection=t},ServiceClick:function(){this.serviceType.serviceName=this.resourceSelection.name,this.serviceType.price=this.resourceSelection.price,this.serviceInfo.careTypeId=this.resourceSelection.id,""!==this.transactionRecord.money&&(this.serviceDay=this.transactionRecord.money/this.serviceType.price),this.SdialogVisible=!1},moneyChange:function(){""!==this.serviceType.price&&(this.serviceDay=this.transactionRecord.money/this.serviceType.price)},addPatient:function(){var t=this;if(new Date(this.hospitalizedInfo.hospitalizedTime).getTime()>=new Date(this.serviceInfo.startTime).getTime())this.getMasgg("服务时间不早于入院时间");else{var e=this.$loading({lock:!0,text:"数据提交中，请等待操作完成...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.hospitalizedInfo.hospitalizedTime+=" 00:00:00";var a={payMan:this.patient.name,money:this.transactionRecord.money,date:this.hospitalizedInfo.hospitalizedTime},i={bedNum:this.serviceInfo.bedNum,orgId:this.orgDataNode.orgId,careTypeId:this.serviceInfo.careTypeId,startTime:this.serviceInfo.startTime};this.postRequestJson("/busi/patient",{hospitalizedInfo:this.hospitalizedInfo,serviceInfo:i,patient:this.patient,transactionRecord:a,projectId:this.$store.state.user.projectId}).then(function(a){e.close(),a&&200===a.status?"200"===a.data.code?(t.patientCode=a.data.msg.patientCode,t.orderCode=a.data.msg.orderCode,t.getMasgg("入院成功")):t.getMasgg(a.data.msg):t.getMasgg(a.status+a.data)})}},getMasgg:function(t){this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})},clearAddView:function(){this.patient.code="",this.patient.name="",this.patient.address="",this.patient.phone="",this.patient.idcard="",this.patient.sex="",this.patient.linkman="",this.serviceInfo.startTime="",this.serviceInfo.bedNum="",this.serviceInfo.careTypeId="",this.serviceInfo.orgId="",this.transactionRecord.money=0,this.transactionRecord.date="",this.transactionRecord.payMan="",this.hospitalizedInfo.hospitalizedTime="",this.orgDataNode.orgName="",this.orgDataNode.orgId="",this.patientCode="",this.orderCode="",this.serviceType.serviceName="",this.serviceType.price=""},divPrint:function(){var t=document.getElementById("div_print");console.log(t.innerHTML);var e=t.innerHTML,a=document.body.innerHTML;return document.body.innerHTML=e,window.print(),window.location.reload(),document.body.innerHTML=a,!1},showAddEmpView:function(){""!==this.patientCode?(this.dialogTitle="打印预收单",this.dialogVisible=!0,this.getSetPatin()):this.getMasgg("先入院，在打印预收单")},getSetPatin:function(){var t=this,e=new Date;this.printing.y_m_d=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日",this.getRequest("/busi/baseinfo/docfile?id=1").then(function(e){e&&200===e.status?t.printing.dy_code=e.data.msg.currentCode:t.getMasgg(e.data.msg)}),this.printing.br_code=this.orderCode,this.printing.dy_ks=this.orgDataNode.orgName,this.printing.dy_ch=this.serviceInfo.bedNum,this.printing.dy_dh=this.patient.phone,this.printing.dy_xm=this.patient.name,this.printing.dy_sfzh=this.patient.idcard,this.printing.dy_lx=this.serviceType.serviceName,this.printing.dy_dj=this.serviceType.price,this.printing.dy_ksr=this.serviceInfo.startTime.substring(0,10),this.printing.dy_ze=this.transactionRecord.money,this.printing.dy_jsr=this.user.name;for(var a=this.padding(this.transactionRecord.money,5),i=a.charAt(a.length-5),l=a.charAt(a.length-4),s=a.charAt(a.length-3),n=a.charAt(a.length-2),r=a.charAt(a.length-1),o=0;o<1;o++)this.printing.w=""!=this.convertCurrency(i)?this.convertCurrency(i):"零",this.printing.q=""!=this.convertCurrency(l)?this.convertCurrency(l):"零",this.printing.b=""!=this.convertCurrency(s)?this.convertCurrency(s):"零",this.printing.s=""!=this.convertCurrency(n)?this.convertCurrency(n):"零",this.printing.g=""!=this.convertCurrency(r)?this.convertCurrency(r):"零"},convertCurrency:function(t){var e,a,i,l=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),s=new Array("","拾","佰","仟"),n=new Array("","万","亿","兆"),r=new Array("角","分","毫","厘"),o="";if(""==t)return"";if((t=parseFloat(t))>=1e15)return"";if(0==t)return o=l[0]+"";if(-1==(t=t.toString()).indexOf(".")?(e=t,a=""):(e=(i=t.split("."))[0],a=i[1].substr(0,4)),parseInt(e,10)>0){for(var c=0,d=e.length,p=0;p<d;p++){var h=d-p-1,g=h/4,v=h%4;"0"==(u=e.substr(p,1))?c++:(c>0&&(o+=l[0]),c=0,o+=l[parseInt(u)]+s[v]),0==v&&c<4&&(o+=n[g])}o+=""}if(""!=a){var m=a.length;for(p=0;p<m;p++){var u;"0"!=(u=a.substr(p,1))&&(o+=l[Number(u)]+r[p])}}return""==o?o+=l[0]+"":""==a&&(o+=""),o},padding:function(t,e){for(var a=(t+"").length;a<e;a=t.length)t="0"+t;return t}},computed:{user:function(){return this.$store.state.user},routes:function(){return this.$store.state.routes}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"30px"},attrs:{inline:!0,rules:t.rules}},[a("el-row",[a("el-form-item",{staticStyle:{"margin-top":"20px",float:"right"}},[a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.addPatient}},[t._v("\n              入 院\n            ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:t.showAddEmpView}},[t._v("\n              打印预收单\n            ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:t.clearAddView}},[t._v("\n              新增\n            ")])],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"病人编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:t.patientCode,callback:function(e){t.patientCode=e},expression:"patientCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"病人姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入病人姓名"},model:{value:t.patient.name,callback:function(e){t.$set(t.patient,"name",e)},expression:"patient.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份证:",prop:"idcard"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入身份证"},model:{value:t.patient.idcard,callback:function(e){t.$set(t.patient,"idcard",e)},expression:"patient.idcard"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"性别"},model:{value:t.patient.sex,callback:function(e){t.$set(t.patient,"sex",e)},expression:"patient.sex"}},t._l(t.sexData,function(t){return a("el-option",{key:t.sex,attrs:{label:t.mame,value:t.sex}})}),1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入电话号码"},nativeOn:{keyup:function(e){return t.number(e)}},model:{value:t.patient.phone,callback:function(e){t.$set(t.patient,"phone",e)},expression:"patient.phone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"家属姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入家属姓名"},model:{value:t.patient.linkman,callback:function(e){t.$set(t.patient,"linkman",e)},expression:"patient.linkman"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{float:"left","margin-left":"20px"},attrs:{label:"通讯地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"420px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入通讯地址"},model:{value:t.patient.address,callback:function(e){t.$set(t.patient,"address",e)},expression:"patient.address"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入院科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择入院科室"},on:{focus:t.showOrgTable},model:{value:t.orgDataNode.orgName,callback:function(e){t.$set(t.orgDataNode,"orgName",e)},expression:"orgDataNode.orgName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"床 号:",prop:"bedNum"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入床号"},model:{value:t.serviceInfo.bedNum,callback:function(e){t.$set(t.serviceInfo,"bedNum",e)},expression:"serviceInfo.bedNum"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"预交款:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入预交款"},on:{change:t.moneyChange},nativeOn:{keyup:function(e){return t.number(e)}},model:{value:t.transactionRecord.money,callback:function(e){t.$set(t.transactionRecord,"money",e)},expression:"transactionRecord.money"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"付款人:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入付款人"},model:{value:t.patient.name,callback:function(e){t.$set(t.patient,"name",e)},expression:"patient.name"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{staticStyle:{float:"left","margin-left":"20px"},attrs:{label:"入院日期:"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"155px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",size:"mini",placeholder:"选择日期"},on:{change:t.testDate},model:{value:t.hospitalizedInfo.hospitalizedTime,callback:function(e){t.$set(t.hospitalizedInfo,"hospitalizedTime",e)},expression:"hospitalizedInfo.hospitalizedTime"}})],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"服务类型:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择服务类型"},on:{focus:t.showService},model:{value:t.serviceType.serviceName,callback:function(e){t.$set(t.serviceType,"serviceName",e)},expression:"serviceType.serviceName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"类型价格:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:t.serviceType.price,callback:function(e){t.$set(t.serviceType,"price",e)},expression:"serviceType.price"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"服务开始时间:",prop:"startTime"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"175px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",size:"mini",placeholder:"选择服务开始时间"},model:{value:t.serviceInfo.startTime,callback:function(e){t.$set(t.serviceInfo,"startTime",e)},expression:"serviceInfo.startTime"}})],1)])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"服务天数:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入服务天数"},nativeOn:{keyup:function(e){return t.number(e)}},model:{value:t.serviceDay,callback:function(e){t.serviceDay=e},expression:"serviceDay"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"陪护注意事项:",clearable:""}},[a("el-input",{staticStyle:{width:"975px"},attrs:{type:"textarea"}})],1)],1)],1),t._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.dialogTitle,"close-on-click-modal":!1,visible:t.dialogVisible,width:"52%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"260px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[t._v("预收单")])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[t._v("\n                          NO:"),a("label",{attrs:{id:"br_code"}},[t._v(t._s(t.printing.br_code))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),t._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"right"}},[a("span",{staticStyle:{position:"relative",left:"53px",top:"-10px"}},[t._v("\n\t                         NO: "),a("label",{staticStyle:{width:"100px"},attrs:{id:"dy_code"}},[t._v(t._s(t.printing.dy_code))])])]),t._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{attrs:{id:"y_m_d"}},[t._v(t._s(t.printing.y_m_d))])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("      今收到\n                            "),a("label",{staticClass:"labelstyle",attrs:{id:"dy_ks"}},[t._v(t._s(t.printing.dy_ks))]),t._v("科\n                            "),a("label",{staticClass:"labelstyle",staticStyle:{width:"65px"},attrs:{id:"dy_ch"}},[t._v(t._s(t.printing.dy_ch))]),t._v("床\n                            "),a("label",{staticClass:"labelstyle",staticStyle:{width:"65px"},attrs:{id:"dy_xm"}},[t._v(t._s(t.printing.dy_xm))]),t._v("产妇/患者\n                            "),a("label",{staticClass:"labelstyle",staticStyle:{width:"150px"},attrs:{id:"dy_sfzh"}},[t._v(t._s(t.printing.dy_sfzh))]),t._v("身份证\n                          ")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("手机号码"),a("label",{staticClass:"labelstyle",staticStyle:{width:"107px"},attrs:{id:"dy_dh"}},[t._v(t._s(t.printing.dy_dh))]),t._v("\n                                 交来预收款"),a("label",{staticClass:"labelstyle",staticStyle:{width:"80px"},attrs:{id:"dy_lx"}},[t._v(t._s(t.printing.dy_lx))]),t._v("\n                                 （类型），单价"),a("label",{staticClass:"labelstyle",staticStyle:{width:"80px"},attrs:{id:"dy_dj"}},[t._v(t._s(t.printing.dy_dj))]),t._v("元/天，\n                          ")])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("\n\t\t\t\t                         开始日期为"),a("label",{staticClass:"labelstyle",staticStyle:{width:"100px"},attrs:{id:"dy_ksr"}},[t._v(t._s(t.printing.dy_ksr))]),t._v("，\n\t\t\t\t                        共"),a("label",{staticClass:"labelstyle",attrs:{id:"dy_ze"}},[t._v(t._s(t.printing.dy_ze))]),t._v("元。\n                              ")])])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}})]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[t._v("\n                          合计大写金额：\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"w"}},[t._v(t._s(t.printing.w))]),t._v("万\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"q"}},[t._v(t._s(t.printing.q))]),t._v("仟\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"b"}},[t._v(t._s(t.printing.b))]),t._v("佰\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"s"}},[t._v(t._s(t.printing.s))]),t._v("拾\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"g"}},[t._v(t._s(t.printing.g))]),t._v("元整\n                        ")])]),t._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[t._v("收款单位  （盖章） ")])])])])]),t._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"12px"},attrs:{align:"right"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"-10px"}},[t._v("经手人：")]),t._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"},attrs:{id:"dy_jsr"}},[t._v(t._s(t.printing.dy_jsr))])])]),t._v(" "),a("div",{staticStyle:{float:"left",height:"260px",width:"16px","font-size":"11px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"30px"}},[t._v("①存根︵ 白︶")]),t._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"40px"}},[t._v("②收据︵红︶")])])])])]),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(e){return e.preventDefault(),t.divPrint(e)}}},[t._v("点击打印")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.orgdialogTitle,"close-on-click-modal":!1,visible:t.EdialogVisible,width:"30%"},on:{"update:visible":function(e){t.EdialogVisible=e}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:t.defaultProps,load:t.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:t.orgNodeClick}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:t.cancelEidt}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.orgClick()}}},[t._v("确 定")])],1)],1)],1)]),t._v(" "),a("el-form",{ref:"ServiceForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:t.SdialogTitle,"close-on-click-modal":!1,visible:t.SdialogVisible,width:"44%"},on:{"update:visible":function(e){t.SdialogVisible=e}}},[a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.CareTypeList,border:"","highlight-current-row":"",size:"mini"},on:{"current-change":t.SelectionChange}},[t.hideRow?a("el-table-column",{attrs:{prop:"",label:"陪护人员记录号",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"陪护类型名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"propertyName",align:"center",fixed:"",label:"陪护属性"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",fixed:"",align:"center",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"settleTypeName",fixed:"",align:"center",label:"计算方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"salaryIndex",fixed:"",align:"center",label:"工资系数"}})],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":t.currentPage,layout:"prev, pager, next",total:t.totalCount},on:{"current-change":t.currentChange}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.SdialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.ServiceClick("ServiceForm")}}},[t._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(t){a("dBPg")},"data-v-7f2668de",null);e.default=r.exports},dBPg:function(t,e){},yUN8:function(t,e,a){var i={"./Pabehospitalize.vue":"Ivt8","./Paquerypatient.vue":"ocUf","./PaquerypatientBK.vue":"4efW"};function l(t){return a(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}l.keys=function(){return Object.keys(i)},l.resolve=s,t.exports=l,l.id="yUN8"}});
//# sourceMappingURL=6.e7d34a79f6b99cc92c7b.js.map