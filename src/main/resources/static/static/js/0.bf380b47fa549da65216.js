webpackJsonp([0],{"0ktf":function(e,t){},"1uuo":function(e,t){},"2EgX":function(e,t){},"2buM":function(e,t){},"2eoi":function(e,t,a){var i={"./HelloWorld.vue":"gORT","./Home.vue":"lO7g","./Login.vue":"xJsL","./arrangement/Arrangement.vue":"fQWI","./emp/Empbasis.vue":"Tk22","./emp/Employee.vue":"dFTf","./emp/Emppatientbasi.vue":"kfXf","./finance/Financemain.vue":"Ovix","./finance/Fininpatient.vue":"eY1r","./finance/Finstatistics.vue":"ISf/","./patient/Pabehospitalize.vue":"Ivt8","./patient/Paquerypatient.vue":"ocUf","./patient/PaquerypatientBK.vue":"4efW","./setup/SetSetting.vue":"UuUC","./setup/basic/Organizationed.vue":"LpkV","./setup/resource.vue":"TnRj","./system/SysAuthority.vue":"txOK","./system/SysOperationLog.vue":"yQaU","./system/SysProject.vue":"q00q","./system/SysResource.vue":"GrGH","./system/SysRole.vue":"HnHe","./system/SysUser.vue":"IOOP","./util/OrgTree.vue":"lFL5","./work/WorkSign.vue":"bT9Y","./work/Workformulate.vue":"ZPWa","./work/Workpersonal.vue":"Ard5"};function l(e){return a(s(e))}function s(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}l.keys=function(){return Object.keys(i)},l.resolve=s,e.exports=l,l.id="2eoi"},"4efW":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s=a("oAV5"),n={data:function(){return{patientList:[],CareTypeList:[],orgId:null,EdialogVisible:!1,sJDialogVisible:!1,tableLoading:!1,renewDialogVisible:!1,treeData:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"},dialogTitle:"",date:"",curOrgName:"",searchCondition:l()({contact:null,name:null,code:null,orgId:null,startDate:null,endDate:null,isOnHospital:!1,projectId:2,curPage:1,pageSize:10},"projectId",this.$store.state.user.projectId),myPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},dateZone:"",totalSize:0,leaveDialog:!1,curRow:"",careTypeSearchDialogCurrentPage:1,careTypeSearchDialogTotalCount:10,serviceLsit:[],transactionList:[],leaveDTO:{leaveDate:null,totalServiceAmount:0,balance:0,hospitalCode:null,money:null,payMan:null,phone:null,orderId:null},chargeDialog:!1,chargeDTO:{totalServiceAmount:0,balance:0,payMan:null,money:null,patientCode:null,date:"",orderId:null,phone:""},detailDialog:!1,detailDTO:{patientCode:"",patientName:"",orderCode:"",hospitalizedDate:"",leaveDate:"",totalServiceAmount:0,phone:null},changeDialog:!1,changeDTO:{patientCode:"",patientName:"",orderCode:"",orderId:"",hospitalizedDate:"",serviceCode:"",serviceType:"",price:"",serviceTypePro:"",settleType:"",orgId:"",orgName:"",startDate:"",changeOrgId:"",changeOrgName:"",serviceTypeId:"",changeDate:"",changeServiceTypeName:"",changeServiceTypeId:"",changeServicePrice:"",changeSettleType:"",bedNum:"",changeBedNum:"",lastServiceEndDate:""},changeOrgTree:!1,resourceSelection:"",careTypeSearch:!1,dialogVisible:!1,resourcePatin:[],resourceTransaction:[],printing:{br_code:"",dy_code:"",y_m_d:"",dy_dh:"",dy_ks:"",dy_ch:"",dy_xm:"",dy_sfzh:"",dy_lx:"",dy_dj:"",dy_ksr:"",dy_ze:"",w:"",q:"",b:"",s:"",g:"",dy_jsr:""},renew:{xf_code:"",xf_Rcode:"",xf_ymd:"",xf_dh:"",xf_ks:"",xf_ch:"",xf_xm:"",xf_sfzh:"",xf_lx:"",xf_dj:"",xf_ksr:"",xf_ze:"",xf_w:"",xf_q:"",xf_b:"",xf_s:"",xf_g:"",xf_jsr:""},printingSj:{p_br_code:"",p_dy_ks:"",br_code:"",p_dy_ch:"",p_dy_xm:"",p_jsr:"",p_dy_q:"",p_dy_fwsj1:"",p_dy_fwsj2:"",p_q:"",p_b:"",p_s:"",p_g:"",p_date_y:"",p_date_d:"",p_date_m:""}}},mounted:function(){this.searchPatientList()},methods:{cancelEidt:function(){this.EdialogVisible=!1},showOrgTable:function(){this.dialogTitle="科室参照",this.EdialogVisible=!0},loadChild:function(e,t){var a=this,i=null==e.parent?null:e.data.id,l=t;this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:this.user.projectId}).then(function(e){if(e&&200===e.status)if("200"===e.data.code){for(var t=[],i=e.data.msg.result,s=0;s<i.length;s++)t.push({id:e.data.msg.result[s].id,label:e.data.msg.result[s].name,children:[],isLeaf:e.data.msg.result[s].isLeaf,disabled:!e.data.msg.result[s].isLeaf});l(t)}else a.getMasgg(e.data.msg);else a.getMasgg(e.status)})},clearOrgInput:function(){this.curOrgName="",this.orgId=null},orgClick:function(){var e=this.$refs.tree.getCheckedNodes();this.curOrgName=e[0].label,this.orgId=e[0].id,this.EdialogVisible=!1},orgNodeClick:function(e,t){var a=[];a.push(e),this.$refs.tree.setCheckedNodes(a,!0)},searchPatientList:function(){var e=this;this.tableLoading=!0,null==this.dateZone?(this.searchCondition.startDate=null,this.searchCondition.endDate=null):(this.searchCondition.startDate=void 0===this.dateZone[0]?null:this.dateZone[0],this.searchCondition.endDate=void 0===this.dateZone[1]?null:this.dateZone[1]),this.searchCondition.orgId=void 0===this.orgId?null:this.orgId,this.patientList=[],console.log(this.searchCondition),this.postRequestJson("/busi/patient/list",this.searchCondition).then(function(t){if(e.tableLoading=!1,t&&"200"===t.data.code){var a=t.data.msg;e.totalSize=a.totalSize;var i=a.result;if(0!==i.length)for(var l=0;l<i.length;l++)e.patientList.push({orderId:i[l].order.id,orderCode:i[l].order.code,patientCode:i[l].order.patientCode,patientName:i[l].order.name,phone:i[l].order.phone,orgName:i[l].request.orgName,price:i[l].request.price,serviceType:i[l].request.careTypeName,hospitalizedDate:i[l].order.hospitalizedTime,leaveDate:i[l].order.leaveTime,serviceTypePro:i[l].request.propertyName,settleType:i[l].request.settleTypeName,startDate:i[l].request.startDate,orgId:i[l].request.orgId,careTypeId:i[l].request.careTypeId,serviceCode:i[l].request.code,bedNum:i[l].request.bedNum});else e.$message({type:"fail",message:"没有病人数据"})}else e.$message({type:"fail",message:t.data.msg})})},showLeaveDialog:function(e){var t=this;this.leaveDialog=!0,this.curRow=e,this.leaveDTO.payMan=e.patientName,this.leaveDTO.orderId=e.orderId;var a=Object(s.a)(this.leaveDTO.leaveDate);this.leaveDTO.hospitalCode=e.orderCode,this.serviceLsit=[],this.transactionList=[],this.leaveDTO.balance=0,this.leaveDTO.totalServiceAmount=0,this.getRequestParams("/busi/patient/service/list",{orderId:e.orderId}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;console.log(a);for(var i=0;i<a.length;i++){var l=new Date(a[i].startDate),s="";null!=a[i].endDate&&(s=new Date(a[i].endDate),Math.floor((s.getTime()-l.getTime())/864e5)),t.serviceLsit.push({requestCode:a[i].code,serviceType:a[i].propertyName,serviceTypeName:a[i].careTypeName,settleType:a[i].settleTypeName,price:a[i].price,startDate:a[i].startDate,endDate:a[i].endDate,days:a[i].days,amount:a[i].amount,orgName:a[i].orgName,bedNum:a[i].bedNum})}}else t.$message({type:"fail",message:e.data.msg})}),this.getRequestParams("/busi/patient/transaction/list",{orderId:e.orderId}).then(function(e){if(e&&"200"===e.data.code)for(var a=e.data.msg,i=0;i<a.length;i++)t.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else t.$message({type:"fail",message:e.data.msg})}),this.getAmount(a,e.orderId),this.getRequestParams("/busi/patient/balance",{code:e.patientCode}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;t.leaveDTO.balance=a}else t.$message({type:"fail",message:e.data.msg})})},changeDateGetAmount:function(){var e=Object(s.a)(this.leaveDTO.leaveDate);if(null!=e){var t=Object(s.a)(this.leaveDTO.orderId);this.getAmount(e,t)}},getAmount:function(e,t){var a=this;this.getRequestParams("/busi/patient/service/amount",{orderId:t,endDate:e}).then(function(e){if(e&&"200"===e.data.code){var t=e.data.msg;a.leaveDTO.totalServiceAmount=t}else a.$message({type:"fail",message:e.data.msg})})},submitLeave:function(){var e=this,t=Object(s.a)(this.leaveDTO.leaveDate),a=Object(s.a)(this.leaveDTO.hospitalCode),i=Object(s.a)(this.leaveDTO.money),l=Object(s.a)(this.leaveDTO.payMan);this.deleteRequestJson("/busi/patient",{hospitalCode:a,dateTime:t,money:i,payMan:l}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;e.$message({type:"success",message:a})}else e.$message({type:"fail",message:t.data.msg})})},showChargeDialog:function(e){var t=this;this.chargeDialog=!0,this.curRow=e,this.transactionList=[],this.chargeDTO.payMan=e.patientName,this.chargeDTO.patientCode=e.patientCode,this.chargeDTO.patientName=e.patientName,this.chargeDTO.orderId=e.orderId,this.chargeDTO.phone=e.phone,this.getRequestParams("/busi/patient/transaction/list",{orderId:e.orderId}).then(function(e){if(e&&"200"===e.data.code)for(var a=e.data.msg,i=0;i<a.length;i++)t.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else t.$message({type:"fail",message:e.data.msg})}),this.getRequestParams("/busi/patient/service/amount",{orderId:this.chargeDTO.orderId}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;t.chargeDTO.totalServiceAmount=a}else t.$message({type:"fail",message:e.data.msg})}),this.getRequestParams("/busi/patient/balance",{code:e.patientCode}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;t.chargeDTO.balance=a}else t.$message({type:"fail",message:e.data.msg})})},showDetailDialog:function(e){var t=this;this.detailDialog=!0,this.detailDTO.hospitalizedDate=e.hospitalizedDate,this.detailDTO.patientName=e.patientName,this.detailDTO.patientCode=e.patientCode,this.detailDTO.orderCode=e.orderCode,this.detailDTO.leaveDate=e.leaveDate,this.detailDTO.phone=e.phone,this.serviceLsit=[],this.transactionList=[],this.getRequestParams("/busi/patient/service/list",{orderId:e.orderId}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;console.log(a);for(var i=0;i<a.length;i++){var l=new Date(a[i].startDate),s="";null!=a[i].endDate&&(s=new Date(a[i].endDate),Math.floor((s.getTime()-l.getTime())/864e5)),t.serviceLsit.push({requestCode:a[i].code,serviceType:a[i].propertyName,serviceTypeName:a[i].careTypeName,settleType:a[i].settleTypeName,price:a[i].price,startDate:a[i].startDate,endDate:a[i].endDate,days:a[i].days,amount:a[i].amount,orgName:a[i].orgName,bedNum:a[i].bedNum})}}else t.$message({type:"fail",message:e.data.msg})}),this.getRequestParams("/busi/patient/transaction/list",{orderId:e.orderId}).then(function(e){if(e&&"200"===e.data.code)for(var a=e.data.msg,i=0;i<a.length;i++)t.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else t.$message({type:"fail",message:e.data.msg})}),this.getRequestParams("/busi/patient/service/amount",{orderId:e.orderId}).then(function(e){if(e&&"200"===e.data.code){var a=e.data.msg;t.detailDTO.totalServiceAmount=a}else t.$message({type:"fail",message:e.data.msg})})},submitCharge:function(){var e=this,t=Object(s.a)(this.chargeDTO.date),a=Object(s.a)(this.chargeDTO.patientCode),i=Object(s.a)(this.chargeDTO.money),l=Object(s.a)(this.chargeDTO.payMan);this.postRequestJson("/busi/patient/balance",{code:a,date:t,money:i,payMan:l}).then(function(t){if(t&&"200"===t.data.code){var a=t.data.msg;e.$message({type:"success",message:a}),e.transactionList=[],e.getRequestParams("/busi/patient/transaction/list",{orderId:e.chargeDTO.orderId}).then(function(t){if(t&&"200"===t.data.code)for(var a=t.data.msg,i=0;i<a.length;i++)e.transactionList.push({code:a[i].code,money:a[i].money,date:a[i].date,payMan:a[i].payMan,type:a[i].hospitalName});else e.$message({type:"fail",message:t.data.msg})})}else e.$message({type:"fail",message:t.data.msg})})},showChangeDialog:function(e){console.log(e),this.changeDialog=!0,this.changeDTO.orgName=e.orgName,this.changeDTO.orgId=e.orgId,this.changeDTO.changeOrgName=e.orgName,this.changeDTO.changeOrgId=e.orgId,this.changeDTO.orderId=e.orderId,this.changeDTO.orderCode=e.orderCode,this.changeDTO.hospitalizedDate=e.hospitalizedDate,this.changeDTO.patientCode=e.patientCode,this.changeDTO.patientName=e.patientName,this.changeDTO.serviceType=e.serviceType,this.changeDTO.price=e.price,this.changeDTO.serviceTypePro=e.serviceTypePro,this.changeDTO.serviceTypeId=e.careTypeId,this.changeDTO.serviceCode=e.serviceCode,this.changeDTO.startDate=e.startDate,this.changeDTO.settleType=e.settleType,this.changeDTO.bedNum=e.bedNum},showOrgTableChange:function(){this.changeOrgTree=!0},orgClickChange:function(){var e=this.$refs.treeChange.getCheckedNodes();this.changeDTO.changeOrgId=e[0].id,this.changeDTO.changeOrgName=e[0].label,this.changeOrgTree=!1},orgNodeClickChange:function(e,t){var a=[];a.push(e),this.$refs.treeChange.setCheckedNodes(a,!0)},showService:function(){this.careTypeSearch=!0,this.getServiceTypeload()},currentChange:function(e){this.careTypeSearchDialogCurrentPage=e,this.getServiceTypeload()},getServiceTypeload:function(){var e=this;this.postRequestJson("/busi/baseinfo/caretype/list",{curPage:this.careTypeSearchDialogCurrentPage,projectId:2}).then(function(t){e.tableLoading=!1,t&&200===t.status?(e.CareTypeList=t.data.msg.result,e.careTypeSearchDialogTotalCount=t.data.msg.totalSize):e.$confirm(t.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})})},SelectionChange:function(e){this.resourceSelection=e},ServiceClick:function(){this.changeDTO.changeServiceTypeName=this.resourceSelection.name,this.changeDTO.changeServicePrice=this.resourceSelection.price,this.changeDTO.changeServiceTypeId=this.resourceSelection.id,this.changeDTO.changeSettleType=this.resourceSelection.settleTypeName,this.careTypeSearch=!1},submitChange:function(){var e=this,t=this.changeDTO.orderId,a=this.changeDTO.serviceCode,i=this.changeDTO.changeBedNum,l=this.changeDTO.changeServiceTypeId,s=this.changeDTO.changeOrgId,n=this.changeDTO.changeDate,r=this.changeDTO.lastServiceEndDate;this.putRequestJson("/busi/patient",{id:t,requestCode:a,bedNum:i,careTypeId:l,orgId:s,changeDate:n,lastServiceEndDate:r,clerk:"admin"}).then(function(t){t&&"200"===t.data.code?e.$message({type:"fail",message:t.data.msg}):e.getMasgg(t.data.msg)})},SelectionPatinChange:function(e){this.resourcePatin=e},SelectionTransactionChange:function(e){this.resourceTransaction=e},showPatinView:function(){this.dialogTitle="打印预收单",this.getSetPatin()},showSJView:function(){this.dialogTitle="打印收据",this.getSetSj()},renewView:function(){this.dialogTitle="打印续费收据",this.renewDialogVisible=!0,this.getRenew()},getSetPatin:function(){var e=this;if(this.detailDTO.totalServiceAmount<0)this.getMasgg("预收金额要大于零");else{if(void 0===this.resourcePatin.orgName)return this.getMasgg("请选最新一条服务记录，进行打印"),void(this.resourcePatin.orgName=void 0);this.dialogVisible=!0;var t=new Date;this.printing.y_m_d=t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日",this.getRequest("/busi/baseinfo/docfile?id=1").then(function(t){t&&200===t.status?e.printing.dy_code=t.data.msg.currentCode:e.getMasgg(t.data.msg)}),this.printing.br_code=this.detailDTO.orderCode,this.printing.dy_ks=this.resourcePatin.orgName,this.printing.dy_ch=this.resourcePatin.bedNum,this.printing.dy_dh=this.detailDTO.phone,this.printing.dy_xm=this.detailDTO.patientName,this.printing.dy_sfzh="",this.printing.dy_lx=this.resourcePatin.serviceTypeName,this.printing.dy_dj=this.resourcePatin.price,this.printing.dy_ksr=this.resourcePatin.startDate.substring(0,10),this.printing.dy_ze=this.resourceTransaction.money,this.printing.dy_jsr=this.user.name;for(var a=this.padding(this.resourceTransaction.money,5),i=a.charAt(a.length-5),l=a.charAt(a.length-4),s=a.charAt(a.length-3),n=a.charAt(a.length-2),r=a.charAt(a.length-1),o=0;o<1;o++)this.printing.w=""!==this.convertCurrency(i)?this.convertCurrency(i):"零",this.printing.q=""!==this.convertCurrency(l)?this.convertCurrency(l):"零",this.printing.b=""!==this.convertCurrency(s)?this.convertCurrency(s):"零",this.printing.s=""!==this.convertCurrency(n)?this.convertCurrency(n):"零",this.printing.g=""!==this.convertCurrency(r)?this.convertCurrency(r):"零"}},getSetSj:function(){var e=this,t=new Date;if(null!==this.detailDTO.leaveDate){if(void 0===this.resourcePatin.orgName)return this.getMasgg("请选最新一条服务记录，进行打印"),void(this.resourcePatin.orgName=void 0);this.sJDialogVisible=!0,this.printingSj.p_date_y=t.getFullYear(),this.printingSj.p_date_m=t.getMonth()+1,this.printingSj.p_date_d=t.getDate(),this.getRequest("/busi/baseinfo/docfile?id=2").then(function(t){t&&200===t.status?e.printingSj.br_code="NO"+t.data.msg.currentCode:e.getMasgg(t.data.msg)}),this.printingSj.p_br_code=this.detailDTO.orderCode,this.printingSj.p_dy_ks=this.resourcePatin.orgName,this.printingSj.p_dy_ch=this.resourcePatin.bedNum,this.printingSj.p_dy_xm=this.detailDTO.patientName,this.printingSj.p_jsr=this.user.name,this.printingSj.p_dy_q=this.detailDTO.totalServiceAmount-this.leaveDTO.money,this.printingSj.p_dy_fwsj1=this.detailDTO.hospitalizedDate.substring(0,10),this.printingSj.p_dy_fwsj2=this.detailDTO.leaveDate.substring(0,10);for(var a=this.padding(this.detailDTO.totalServiceAmount,4),i=a.charAt(a.length-4),l=a.charAt(a.length-3),s=a.charAt(a.length-2),n=a.charAt(a.length-1),r=0;r<1;r++)this.printingSj.p_q=""!==this.convertCurrency(i)?this.convertCurrency(i):"零",this.printingSj.p_b=""!==this.convertCurrency(l)?this.convertCurrency(l):"零",this.printingSj.p_s=""!==this.convertCurrency(s)?this.convertCurrency(s):"零",this.printingSj.p_g=""!==this.convertCurrency(n)?this.convertCurrency(n):"零"}else this.getMasgg("该病人还没出院，不能打印收据")},getRenew:function(){var e=this,t=new Date;this.renew.xf_ymd=t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日",this.getRequest("/busi/baseinfo/docfile?id=1").then(function(t){t&&200===t.status?e.renew.xf_Rcode=t.data.msg.currentCode:e.getMasgg(t.data.msg)}),this.renew.xf_code=this.curRow.orderCode,this.renew.xf_ks=this.curRow.orgName,this.renew.xf_ch=this.resourcePatin.bedNum,this.renew.xf_dh=this.chargeDTO.phone,this.renew.xf_xm=this.chargeDTO.patientName,this.renew.xf_sfzh="",this.renew.xf_lx=this.curRow.serviceType,this.renew.xf_dj=this.curRow.price,this.renew.xf_ksr=this.chargeDTO.date.substring(0,10),this.renew.xf_ze=this.chargeDTO.money,this.renew.xf_jsr=this.user.name;for(var a=this.padding(this.chargeDTO.money,5),i=a.charAt(a.length-5),l=a.charAt(a.length-4),s=a.charAt(a.length-3),n=a.charAt(a.length-2),r=a.charAt(a.length-1),o=0;o<1;o++)this.renew.xf_w=""!==this.convertCurrency(i)?this.convertCurrency(i):"零",this.renew.xf_q=""!==this.convertCurrency(l)?this.convertCurrency(l):"零",this.renew.xf_b=""!==this.convertCurrency(s)?this.convertCurrency(s):"零",this.renew.xf_s=""!==this.convertCurrency(n)?this.convertCurrency(n):"零",this.renew.xf_g=""!==this.convertCurrency(r)?this.convertCurrency(r):"零"},convertCurrency:function(e){var t,a,i,l=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),s=new Array("","拾","佰","仟"),n=new Array("","万","亿","兆"),r=new Array("角","分","毫","厘"),o="";if(""==e)return"";if((e=parseFloat(e))>=1e15)return"";if(0==e)return o=l[0]+"";if(-1==(e=e.toString()).indexOf(".")?(t=e,a=""):(t=(i=e.split("."))[0],a=i[1].substr(0,4)),parseInt(t,10)>0){for(var c=0,d=t.length,p=0;p<d;p++){var u=d-p-1,m=u/4,g=u%4;"0"==(v=t.substr(p,1))?c++:(c>0&&(o+=l[0]),c=0,o+=l[parseInt(v)]+s[g]),0==g&&c<4&&(o+=n[m])}o+=""}if(""!=a){var h=a.length;for(p=0;p<h;p++){var v;"0"!=(v=a.substr(p,1))&&(o+=l[Number(v)]+r[p])}}return""==o?o+=l[0]+"":""==a&&(o+=""),o},padding:function(e,t){for(var a=(e+"").length;a<t;a=e.length)e="0"+e;return e},divPrint:function(e){var t=document.getElementById(e);console.log(t.innerHTML);var a=t.innerHTML,i=document.body.innerHTML;return document.body.innerHTML=a,window.print(),window.location.reload(),document.body.innerHTML=i,!1},getMasgg:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.changeDialog=!1,t.searchPatientList()}).catch(function(){})}},computed:{user:function(){return this.$store.state.user}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",[a("div",{},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px",width:"100%"},attrs:{inline:!0}},[a("el-row",{staticStyle:{float:"left"}},[a("el-col",[a("el-form-item",{attrs:{label:"姓名:",prop:"username"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入病人姓名"},model:{value:e.searchCondition.name,callback:function(t){e.$set(e.searchCondition,"name",t)},expression:"searchCondition.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编号:",prop:"username"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入病人编号"},model:{value:e.searchCondition.code,callback:function(t){e.$set(e.searchCondition,"code",t)},expression:"searchCondition.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号:",prop:"username"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入手机号"},model:{value:e.searchCondition.contact,callback:function(t){e.$set(e.searchCondition,"contact",t)},expression:"searchCondition.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室:",prop:"orgId"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",value:e.curOrgName,size:"mini",placeholder:"选择科室"},on:{focus:e.showOrgTable}},[a("i",{staticClass:"el-input__icon el-icon-circle-close",attrs:{slot:"suffix"},on:{click:e.clearOrgInput},slot:"suffix"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"时间区间"}},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd",size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.myPickerOptions},model:{value:e.dateZone,callback:function(t){e.dateZone=t},expression:"dateZone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.searchPatientList}},[e._v("查询")])],1)],1)],1)],1)],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.patientList,border:"",stripe:"",size:"mini"}},[e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"patientCode",align:"center",width:"140px",label:"病人编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"patientName",align:"center",width:"100px",label:"病人姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"所在科室"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceType",width:"100px",align:"center",label:"陪护类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",align:"center",width:"100px",label:"价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hospitalizedDate",align:"center",width:"170px",label:"入院时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaveDate",width:"170px",align:"center",label:"出院时间"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.leaveDate?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showLeaveDialog(t.row)}}},[e._v("出院\n                ")]):e._e(),e._v(" "),null===t.row.leaveDate?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showChargeDialog(t.row)}}},[e._v("续费\n                ")]):e._e(),e._v(" "),null===t.row.leaveDate?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showChangeDialog(t.row)}}},[e._v("变更服务\n                ")]):e._e(),e._v(" "),a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showDetailDialog(t.row)}}},[e._v("详细信息\n                ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{"current-page":e.searchCondition.curPage,"page-size":e.searchCondition.pageSize,layout:"prev, pager, next, jumper",total:e.totalSize},on:{"current-change":e.searchPatientList,"update:currentPage":function(t){return e.$set(e.searchCondition,"curPage",t)},"update:current-page":function(t){return e.$set(e.searchCondition,"curPage",t)}}})],1)],1),e._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.EdialogVisible,width:"30%"},on:{"update:visible":function(t){e.EdialogVisible=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.treeData,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.orgClick}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"OrgFormChange",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"科室参照","close-on-click-modal":!1,visible:e.changeOrgTree,width:"30%"},on:{"update:visible":function(t){e.changeOrgTree=t}}},[a("el-row",[a("el-tree",{ref:"treeChange",attrs:{props:e.treeData,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClickChange}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.changeOrgTree=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.orgClickChange}},[e._v("确 定")])],1)],1)],1)])],1)],1),e._v(" "),a("el-form",{ref:"leaveForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"出院",width:"90%",height:"80%",visible:e.leaveDialog},on:{"update:visible":function(t){e.leaveDialog=t}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.curRow.orderCode,callback:function(t){e.$set(e.curRow,"orderCode",t)},expression:"curRow.orderCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.curRow.patientCode,callback:function(t){e.$set(e.curRow,"patientCode",t)},expression:"curRow.patientCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.curRow.patientName,callback:function(t){e.$set(e.curRow,"patientName",t)},expression:"curRow.patientName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.curRow.phone,callback:function(t){e.$set(e.curRow,"phone",t)},expression:"curRow.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.curRow.hospitalizedDate,callback:function(t){e.$set(e.curRow,"hospitalizedDate",t)},expression:"curRow.hospitalizedDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出院日期:"}},[a("el-date-picker",{attrs:{type:"datetime",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},on:{change:e.changeDateGetAmount},model:{value:e.leaveDTO.leaveDate,callback:function(t){e.$set(e.leaveDTO,"leaveDate",t)},expression:"leaveDTO.leaveDate"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"消费总额:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:e.leaveDTO.totalServiceAmount,callback:function(t){e.$set(e.leaveDTO,"totalServiceAmount",t)},expression:"leaveDTO.totalServiceAmount"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账号余额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:!0},model:{value:e.leaveDTO.balance,callback:function(t){e.$set(e.leaveDTO,"balance",t)},expression:"leaveDTO.balance"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"退款接收人:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",v:""},model:{value:e.leaveDTO.payMan,callback:function(t){e.$set(e.leaveDTO,"payMan",t)},expression:"leaveDTO.payMan"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"退款金额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入数字"},model:{value:e.leaveDTO.money,callback:function(t){e.$set(e.leaveDTO,"money",t)},expression:"leaveDTO.money"}})],1)],1)],1),e._v(" "),a("el-row"),e._v(" "),a("label",[e._v("服务记录")]),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:e.serviceLsit,border:"",height:"250",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"requestCode",align:"center",label:"单据编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceType",align:"center",label:"服务类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceTypeName",width:"120",align:"center",label:"服务类型名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"settleType",label:"结算方式",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"开始日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"结束日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"days",label:"天数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"服务金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",label:"科室",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bedNum",label:"床号",align:"center",width:"100"}})],1)],1),e._v(" "),a("label",[e._v("续费/充值记录")]),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:e.transactionList,border:"",stripe:"",height:"250","show-summary":"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payMan",label:"经手人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型",align:"center"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e._e(),e._v(" "),a("el-button",{on:{click:function(t){e.leaveDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitLeave}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"chargeForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"续费/充值",width:"90%",height:"80%",visible:e.chargeDialog},on:{"update:visible":function(t){e.chargeDialog=t}}},[a("label",[e._v("病人入院登记信息")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.chargeDTO.patientCode,callback:function(t){e.$set(e.chargeDTO,"patientCode",t)},expression:"chargeDTO.patientCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.chargeDTO.patientName,callback:function(t){e.$set(e.chargeDTO,"patientName",t)},expression:"chargeDTO.patientName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.chargeDTO.phone,callback:function(t){e.$set(e.chargeDTO,"phone",t)},expression:"chargeDTO.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.curRow.hospitalizedDate,callback:function(t){e.$set(e.curRow,"hospitalizedDate",t)},expression:"curRow.hospitalizedDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.curRow.orderCode,callback:function(t){e.$set(e.curRow,"orderCode",t)},expression:"curRow.orderCode"}})],1)],1)],1),e._v(" "),a("label",[e._v("病人当前服务信息")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务类型:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{size:"mini"},model:{value:e.curRow.serviceType,callback:function(t){e.$set(e.curRow,"serviceType",t)},expression:"curRow.serviceType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"陪护服务价格:"}},[a("el-input",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:e.curRow.price,callback:function(t){e.$set(e.curRow,"price",t)},expression:"curRow.price"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务属性:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.curRow.serviceTypePro,callback:function(t){e.$set(e.curRow,"serviceTypePro",t)},expression:"curRow.serviceTypePro"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"结算方式:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.curRow.settleType,callback:function(t){e.$set(e.curRow,"settleType",t)},expression:"curRow.settleType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所在科室:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.curRow.orgName,callback:function(t){e.$set(e.curRow,"orgName",t)},expression:"curRow.orgName"}})],1)],1)],1),e._v(" "),a("label",[e._v("充值/续费信息")]),e._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"消费总额:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:e.chargeDTO.totalServiceAmount,callback:function(t){e.$set(e.chargeDTO,"totalServiceAmount",t)},expression:"chargeDTO.totalServiceAmount"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账号余额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:!0},model:{value:e.chargeDTO.balance,callback:function(t){e.$set(e.chargeDTO,"balance",t)},expression:"chargeDTO.balance"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"充值/续费人:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",v:""},model:{value:e.chargeDTO.payMan,callback:function(t){e.$set(e.chargeDTO,"payMan",t)},expression:"chargeDTO.payMan"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"充值/续费金额:"}},[a("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入数字"},model:{value:e.chargeDTO.money,callback:function(t){e.$set(e.chargeDTO,"money",t)},expression:"chargeDTO.money"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"日期:"}},[a("el-date-picker",{attrs:{type:"datetime",size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.chargeDTO.date,callback:function(t){e.$set(e.chargeDTO,"date",t)},expression:"chargeDTO.date"}})],1)],1)],1),e._v(" "),a("label",[e._v("续费/充值记录")]),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:e.transactionList,border:"",stripe:"",height:"250",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payMan",label:"经手人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型",align:"center"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.renewView}},[e._v("打印续费单")]),e._v(" "),a("el-button",{on:{click:function(t){e.chargeDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitCharge}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"detailForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"详细信息",width:"90%",height:"80%",visible:e.detailDialog},on:{"update:visible":function(t){e.detailDialog=t}}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.detailDTO.patientCode,callback:function(t){e.$set(e.detailDTO,"patientCode",t)},expression:"detailDTO.patientCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.detailDTO.patientName,callback:function(t){e.$set(e.detailDTO,"patientName",t)},expression:"detailDTO.patientName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.detailDTO.phone,callback:function(t){e.$set(e.detailDTO,"phone",t)},expression:"detailDTO.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.detailDTO.hospitalizedDate,callback:function(t){e.$set(e.detailDTO,"hospitalizedDate",t)},expression:"detailDTO.hospitalizedDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.detailDTO.leaveDate,callback:function(t){e.$set(e.detailDTO,"leaveDate",t)},expression:"detailDTO.leaveDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.detailDTO.orderCode,callback:function(t){e.$set(e.detailDTO,"orderCode",t)},expression:"detailDTO.orderCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"消费总额:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:e.detailDTO.totalServiceAmount,callback:function(t){e.$set(e.detailDTO,"totalServiceAmount",t)},expression:"detailDTO.totalServiceAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:5}}),e._v(" "),a("label",[e._v("服务记录")]),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:e.serviceLsit,border:"","highlight-current-row":"",height:"250",stripe:"",size:"mini"},on:{"current-change":e.SelectionPatinChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"requestCode",align:"center",label:"单据编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceType",align:"center",label:"服务类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceTypeName",width:"120",align:"center",label:"服务类型名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"settleType",label:"结算方式",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"开始日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"结束日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"days",label:"天数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"服务金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",label:"科室",align:"center",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bedNum",label:"床号",align:"center",width:"100"}}),e._v("s\n            ")],1)],1),e._v(" "),a("label",[e._v("续费/充值记录")]),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%",height:"200px","margin-top":"10px"},attrs:{data:e.transactionList,border:"","show-summary":"","highlight-current-row":"",stripe:"",height:"250",size:"mini"},on:{"current-change":e.SelectionTransactionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payMan",label:"经手人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"交易类型",align:"center"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:[function(e){},e.showSJView]}},[e._v("打印收据")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:[function(e){},e.showPatinView]}},[e._v("打印预收单")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailDialog=!1}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"changeForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",[a("el-dialog",{attrs:{title:"变更服务",width:"90%",height:"80%",visible:e.changeDialog},on:{"update:visible":function(t){e.changeDialog=t}}},[a("label",[e._v("病人入院登记信息")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"病人编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.changeDTO.patientCode,callback:function(t){e.$set(e.changeDTO,"patientCode",t)},expression:"changeDTO.patientCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.changeDTO.patientName,callback:function(t){e.$set(e.changeDTO,"patientName",t)},expression:"changeDTO.patientName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入院时间:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.changeDTO.hospitalizedDate,callback:function(t){e.$set(e.changeDTO,"hospitalizedDate",t)},expression:"changeDTO.hospitalizedDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"住院单编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.changeDTO.orderCode,callback:function(t){e.$set(e.changeDTO,"orderCode",t)},expression:"changeDTO.orderCode"}})],1)],1)],1),e._v(" "),a("label",[e._v("病人当前服务信息")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务编号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.changeDTO.serviceCode,callback:function(t){e.$set(e.changeDTO,"serviceCode",t)},expression:"changeDTO.serviceCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务类型:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini"},model:{value:e.changeDTO.serviceType,callback:function(t){e.$set(e.changeDTO,"serviceType",t)},expression:"changeDTO.serviceType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"陪护服务价格:"}},[a("el-input",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:e.changeDTO.price,callback:function(t){e.$set(e.changeDTO,"price",t)},expression:"changeDTO.price"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"陪护服务属性:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.changeDTO.serviceTypePro,callback:function(t){e.$set(e.changeDTO,"serviceTypePro",t)},expression:"changeDTO.serviceTypePro"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"结算方式:"}},[a("el-input",{staticStyle:{width:"70px"},attrs:{size:"mini"},model:{value:e.changeDTO.settleType,callback:function(t){e.$set(e.changeDTO,"settleType",t)},expression:"changeDTO.settleType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所在科室:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.changeDTO.orgName,callback:function(t){e.$set(e.changeDTO,"orgName",t)},expression:"changeDTO.orgName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"床号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.changeDTO.bedNum,callback:function(t){e.$set(e.changeDTO,"bedNum",t)},expression:"changeDTO.bedNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"开始时间:"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{size:"mini"},model:{value:e.changeDTO.startDate,callback:function(t){e.$set(e.changeDTO,"startDate",t)},expression:"changeDTO.startDate"}})],1)],1)],1),e._v(" "),a("label",[e._v("变更信息")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"变更科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择科室"},on:{focus:e.showOrgTableChange},model:{value:e.changeDTO.changeOrgName,callback:function(t){e.$set(e.changeDTO,"changeOrgName",t)},expression:"changeDTO.changeOrgName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"变更床号:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请填写床号"},model:{value:e.changeDTO.changeBedNum,callback:function(t){e.$set(e.changeDTO,"changeBedNum",t)},expression:"changeDTO.changeBedNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"变更日期:"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",size:"mini",placeholder:"选择日期"},model:{value:e.changeDTO.changeDate,callback:function(t){e.$set(e.changeDTO,"changeDate",t)},expression:"changeDTO.changeDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"服务类型:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择服务类型"},on:{focus:e.showService},model:{value:e.changeDTO.changeServiceTypeName,callback:function(t){e.$set(e.changeDTO,"changeServiceTypeName",t)},expression:"changeDTO.changeServiceTypeName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"类型价格:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:e.changeDTO.changeServicePrice,callback:function(t){e.$set(e.changeDTO,"changeServicePrice",t)},expression:"changeDTO.changeServicePrice"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"结算方式:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:e.changeDTO.changeSettleType,callback:function(t){e.$set(e.changeDTO,"changeSettleType",t)},expression:"changeDTO.changeSettleType"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.changeDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitChange}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"ServiceForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"陪护类型对照","close-on-click-modal":!1,visible:e.careTypeSearch,width:"44%"},on:{"update:visible":function(t){e.careTypeSearch=t}}},[a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.CareTypeList,border:"","highlight-current-row":"",size:"mini"},on:{"current-change":e.SelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"陪护类型名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propertyName",align:"center",fixed:"",label:"陪护属性"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",fixed:"",align:"center",label:"价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"settleTypeName",fixed:"",align:"center",label:"计算方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salaryIndex",fixed:"",align:"center",label:"工资系数"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.careTypeSearchDialogCurrentPage,layout:"prev, pager, next",total:e.careTypeSearchDialogTotalCount},on:{"current-change":e.currentChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.careTypeSearch=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.ServiceClick("ServiceForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"52%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"260px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[e._v("预收单")])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[e._v("\n                          NO:"),a("label",{attrs:{id:"br_code"}},[e._v(e._s(e.printing.br_code))])])]),e._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"right"}},[a("span",{staticStyle:{position:"relative",left:"53px",top:"-10px"}},[e._v("\n\t                         NO: "),a("label",{staticStyle:{width:"100px"},attrs:{id:"dy_code"}},[e._v(e._s(e.printing.dy_code))])])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{attrs:{id:"y_m_d"}},[e._v(e._s(e.printing.y_m_d))])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("      今收到\n                            "),a("label",{staticClass:"labelstyle2",attrs:{id:"dy_ks"}},[e._v(e._s(e.printing.dy_ks))]),e._v("科\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"},attrs:{id:"dy_ch"}},[e._v(e._s(e.printing.dy_ch))]),e._v("床\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"},attrs:{id:"dy_xm"}},[e._v(e._s(e.printing.dy_xm))]),e._v("产妇/患者\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"150px"},attrs:{id:"dy_sfzh"}},[e._v(e._s(e.printing.dy_sfzh))]),e._v("身份证\n                          ")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("手机号码"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"107px"},attrs:{id:"dy_dh"}},[e._v(e._s(e.printing.dy_dh))]),e._v("\n                                 交来预收款"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"},attrs:{id:"dy_lx"}},[e._v(e._s(e.printing.dy_lx))]),e._v("\n                                 （类型），单价"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"},attrs:{id:"dy_dj"}},[e._v(e._s(e.printing.dy_dj))]),e._v("元/天，\n                          ")])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("\n\t\t\t\t                         开始日期为"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"100px"},attrs:{id:"dy_ksr"}},[e._v(e._s(e.printing.dy_ksr))]),e._v("，\n\t\t\t\t                        共"),a("label",{staticClass:"labelstyle2",attrs:{id:"dy_ze"}},[e._v(e._s(e.printing.dy_ze))]),e._v("元。\n                              ")])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}})]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[e._v("\n                          合计大写金额：\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"w"}},[e._v(e._s(e.printing.w))]),e._v("万\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"q"}},[e._v(e._s(e.printing.q))]),e._v("仟\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"b"}},[e._v(e._s(e.printing.b))]),e._v("佰\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"s"}},[e._v(e._s(e.printing.s))]),e._v("拾\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"},attrs:{id:"g"}},[e._v(e._s(e.printing.g))]),e._v("元整\n                        ")])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("收款单位  （盖章） ")])])])])]),e._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"12px"},attrs:{align:"right"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"-10px"}},[e._v("经手人：")]),e._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"},attrs:{id:"dy_jsr"}},[e._v(e._s(e.printing.dy_jsr))])])]),e._v(" "),a("div",{staticStyle:{float:"left",height:"260px",width:"16px","font-size":"11px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"30px"}},[e._v("①存根︵ 白︶")]),e._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"40px"}},[e._v("②收据︵红︶")])])])])]),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(t){return t.preventDefault(),e.divPrint("div_print")}}},[e._v("点击打印")])],1)],1)],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.sJDialogVisible,width:"52%"},on:{"update:visible":function(t){e.sJDialogVisible=t}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print2"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"250px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[e._v("安裕陪护服务收据")])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{staticStyle:{position:"relative",top:"-10px"}}),e._v(" "),a("label",{staticStyle:{position:"relative",left:"-38px",top:"5px"}},[e._v(e._s(e.printingSj.br_code))])])]),e._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"}}),e._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{staticClass:"labelstyle1",staticStyle:{width:"25px",position:"relative",top:"-10px"},attrs:{id:"date_y"}},[e._v("　")]),e._v(" "),a("label",{staticStyle:{position:"relative",top:"-10px"}},[e._v("年")]),e._v(" "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"20px",position:"relative",top:"-10px"},attrs:{id:"date_m"}},[e._v("　")]),e._v(" "),a("label",{staticStyle:{position:"relative",top:"-10px"}},[e._v("月 ")]),e._v(" "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"20px",position:"relative",top:"-10px"},attrs:{id:"date_d"}},[e._v("　")]),e._v(" "),a("label",{staticStyle:{position:"relative",top:"-10px"}},[e._v("日")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("      今收到\n\t\t\t\t                     "),a("label",{staticClass:"labelstyle1"},[e._v("　")]),e._v("科\n                             "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"55px"}},[e._v("　")]),e._v("床\n                             "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"75px"}},[e._v("　")]),e._v("产妇/患者交来服务费￥\n                              "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"45px"}},[e._v("　")]),e._v("元\n                     ")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("服务时间:\n\t\t      \t\t              "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"450px"},attrs:{id:"dy_fwsj1"}},[e._v("　")])])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("               \n\t\t      \t\t               "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"450px"},attrs:{id:"dy_fwsj2"}},[e._v("　")])])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[e._v("\n                          合  计  大  写  金  额：\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[e._v("　")]),e._v("仟\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[e._v("　")]),e._v("佰\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[e._v("　")]),e._v("拾\n                          "),a("label",{staticClass:"labelstyle1",staticStyle:{width:"74px"}},[e._v("　")]),e._v("元整\n                        ")])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("收款单位  （盖章） ")])])])])]),e._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"13px"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"80px"}},[e._v("核准：")]),e._v(" "),a("label",{staticStyle:{position:"relative",top:"5px",left:"250px"}},[e._v("出纳：")]),e._v(" "),a("label",{staticStyle:{position:"relative",top:"5px",left:"350px"}},[e._v("经手人：")]),e._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"}})])]),e._v(" "),a("div",{staticStyle:{float:"left",height:"280px",width:"13px","font-size":"10px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px","line-height":"13px",position:"relative",top:"0px"}},[e._v("第一联:存根")]),e._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px","line-height":"13px",position:"relative",top:"0px"}},[e._v(" 第二联:交顾客")]),e._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px","line-height":"13px",position:"relative",top:"0px"}},[e._v(" 第三联:记账")])])])]),e._v(" "),a("div",{staticStyle:{width:"649px",margin:"20px auto",position:"absolute",left:"0",top:"0",background:"rgba(255,255,255,0)"},attrs:{id:"p_div_print"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"250px",margin:"0px auto",background:"rgba(255,255,255,0)"}},[a("table",{staticStyle:{margin:"-9px auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[e._v(" 　 　 　 　 　 　 　 　")])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[e._v("　　　"),a("label",{staticStyle:{position:"relative",top:"-10px"},attrs:{id:"p_br_code"}},[e._v("NO"+e._s(e.printingSj.p_br_code))])])]),e._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"}}),e._v(" "),a("td",{staticStyle:{width:"30%"}},[e._v("\n                           "),a("label",{staticClass:"labelstyle",staticStyle:{width:"60px",position:"relative",top:"-13px"},attrs:{id:"p_date_y"}},[e._v(e._s(e.printingSj.p_date_y))]),e._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"28px",position:"relative",top:"-13px"},attrs:{id:"p_date_m"}},[e._v(e._s(e.printingSj.p_date_m))]),e._v(" 　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"28px",position:"relative",top:"-13px"},attrs:{id:"p_date_d"}},[e._v(e._s(e.printingSj.p_date_d))]),e._v("　\n                        ")])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("　　　　　 "),e._v(" "),a("label",{staticClass:"labelstyle",attrs:{id:"p_dy_ks"}},[e._v(e._s(e.printingSj.p_dy_ks))]),e._v("　\n                             "),a("label",{staticClass:"labelstyle",staticStyle:{width:"50px"},attrs:{id:"p_dy_ch"}},[e._v(e._s(e.printingSj.p_dy_ch))]),e._v("　\n                             "),a("label",{staticClass:"labelstyle",staticStyle:{width:"65px"},attrs:{id:"p_dy_xm"}},[e._v(e._s(e.printingSj.p_dy_xm))]),e._v("　　　　　　　　　　　\n                              "),a("label",{staticClass:"labelstyle",staticStyle:{width:"45px"},attrs:{id:"p_dy_q"}},[e._v(e._s(e.printingSj.p_dy_q))]),e._v("  　\n                     ")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("　　　　　\n\t\t      \t\t               "),a("label",{staticClass:"labelstyle",staticStyle:{width:"450px",float:"left","margin-top":"0px"},attrs:{id:"p_dy_fwsj1"}},[e._v(e._s(e.printingSj.p_dy_fwsj1))])])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("　　　　　\n\t\t      \t\t               "),a("label",{staticClass:"labelstyle",staticStyle:{width:"450px",float:"left","margin-top":"0px"},attrs:{id:"p_dy_fwsj2"}},[e._v(e._s(e.printingSj.p_dy_fwsj2))])])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"0px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[e._v("　  "),e._v("　  "),e._v("　  "),e._v("　  "),e._v("　  "),e._v("　　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"84px"},attrs:{id:"p_q"}},[e._v(e._s(e.printingSj.p_q))]),e._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"74px"},attrs:{id:"p_b"}},[e._v(e._s(e.printingSj.p_b))]),e._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"74px"},attrs:{id:"p_s"}},[e._v(e._s(e.printingSj.p_s))]),e._v("　\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"74px"},attrs:{id:"p_g"}},[e._v(e._s(e.printingSj.p_g))]),e._v("　　\n                        ")])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v(" 　　　　　　　　")])])])])]),e._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"13px"}},[a("table",{staticStyle:{width:"600px",height:"25px"}},[a("tr",[a("td",{staticStyle:{width:"75px"}},[a("label",{staticStyle:{position:"relative"}},[e._v("　　　")])]),e._v(" "),a("td",{staticStyle:{width:"60px"}},[a("label",{staticStyle:{position:"relative"}})]),e._v(" "),a("td",{staticStyle:{width:"90px"}},[a("label",{staticStyle:{position:"relative"}},[e._v("　　　")])]),e._v(" "),a("td",{staticStyle:{width:"60px"}},[a("label",{staticStyle:{position:"relative"}})]),e._v(" "),a("td",{staticStyle:{width:"30px"}},[a("label",{staticStyle:{position:"relative"}},[e._v("　")])]),e._v(" "),a("td",{staticStyle:{width:"60px"}},[a("label",{staticStyle:{position:"relative"},attrs:{id:"p_jsr"}},[e._v(e._s(e.printingSj.p_jsr))])])])])])])])])]),e._v(" "),a("el-row",[a("el-form-item",{staticStyle:{"margin-top":"-10px"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(t){return t.preventDefault(),e.divPrint("p_div_print")}}},[e._v("点击打印")])],1)],1)],1)],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.renewDialogVisible,width:"52%"},on:{"update:visible":function(t){e.renewDialogVisible=t}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print3"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"260px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[e._v("续费单")])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[e._v("\n                          NO:"),a("label",[e._v(e._s(e.renew.xf_code))])])]),e._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"right"}},[a("span",{staticStyle:{position:"relative",left:"53px",top:"-10px"}},[e._v("\n\t                         NO: "),a("label",{staticStyle:{width:"100px"},attrs:{id:"dy_Rode"}},[e._v(e._s(e.renew.xf_Rcode))])])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",[e._v(e._s(e.renew.xf_ymd))])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("      今收到\n                            "),a("label",{staticClass:"labelstyle2"},[e._v(e._s(e.renew.xf_ks))]),e._v("科\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"}},[e._v(e._s(e.renew.xf_ch))]),e._v("床\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"65px"}},[e._v(e._s(e.renew.xf_xm))]),e._v("产妇/患者\n                            "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"150px"}},[e._v(e._s(e.renew.xf_sfzh))]),e._v("身份证\n                          ")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("手机号码"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"107px"}},[e._v(e._s(e.renew.xf_dh))]),e._v("\n                                 交来预收款"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"}},[e._v(e._s(e.renew.xf_lx))]),e._v("\n                                 （类型），单价"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"80px"}},[e._v(e._s(e.renew.xf_dj))]),e._v("元/天，\n                          ")])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("\n\t\t\t\t                         开始日期为"),a("label",{staticClass:"labelstyle2",staticStyle:{width:"100px"}},[e._v(e._s(e.renew.xf_ksr))]),e._v("，\n\t\t\t\t                        共"),a("label",{staticClass:"labelstyle2"},[e._v(e._s(e.renew.xf_ze))]),e._v("元。\n                              ")])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}})]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[e._v("\n                          合计大写金额：\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[e._v(e._s(e.renew.xf_w))]),e._v("万\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[e._v(e._s(e.renew.xf_q))]),e._v("仟\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[e._v(e._s(e.renew.xf_b))]),e._v("佰\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[e._v(e._s(e.renew.xf_s))]),e._v("拾\n                          "),a("label",{staticClass:"labelstyle2",staticStyle:{width:"70px"}},[e._v(e._s(e.renew.xf_g))]),e._v("元整\n                        ")])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("收款单位  （盖章） ")])])])])]),e._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"12px"},attrs:{align:"right"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"-10px"}},[e._v("经手人：")]),e._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"}},[e._v(e._s(e.renew.xf_jsr))])])]),e._v(" "),a("div",{staticStyle:{float:"left",height:"260px",width:"16px","font-size":"11px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"30px"}},[e._v("①存根︵ 白︶")]),e._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"40px"}},[e._v("②收据︵红︶")])])])])]),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(t){return t.preventDefault(),e.divPrint("div_print3")}}},[e._v("点击打印")])],1)],1)],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(e){a("7LXC")},null,null);t.default=o.exports},"4gno":function(e,t){},"7LXC":function(e,t){},A0R1:function(e,t){},Ard5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("oAV5"),l={data:function(){return{selectedDate:"",cols:[],tableData:[],tableLoading:!1,treeData:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"},curOrgName:"",searchCondition:{careworkerName:null,startDate:null,endDate:null,orgId:null,curPage:1,pageSize:100,totalSize:10},showOrgSearchDialog:!1}},mounted:function(){},methods:{signIn:function(e,t){var a=this,i=e;this.putRequest("/busi/routine",{careworkerId:e.row.careworkerId,date:e.column.property,isWorked:t}).then(function(e){console.log(e),e&&"200"===e.data.code?(i.row[i.column.property].signIn=t,a.$message({type:"success",message:e.data.msg})):a.$message.error({type:"fail",message:e.data.msg})})},orgSearchDialog:function(){this.showOrgSearchDialog=!0},loadChild:function(e,t){var a=this,i=null==e.parent?null:e.data.id,l=t;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:2}).then(function(e){if(a.tableLoading=!1,e&&200===e.status){for(var t=[],i=e.data.msg.result,s=0;s<i.length;s++)t.push({id:e.data.msg.result[s].id,label:e.data.msg.result[s].name,children:[],isLeaf:e.data.msg.result[s].isLeaf,disabled:!e.data.msg.result[s].isLeaf});l(t)}})},orgNodeClick:function(e,t){var a=[];a.push(e),this.$refs.tree.setCheckedNodes(a,!0)},orgClick:function(){var e=this.$refs.tree.getCheckedNodes();e.length>0&&(this.curOrgName=e[0].label,this.searchCondition.orgId=e[0].id),this.showOrgSearchDialog=!1},clearOrgInput:function(){this.curOrgName="",this.searchCondition.orgId=null},searchDutyInfoList:function(){var e=this;this.tableLoading=!0,this.searchCondition.startDate=this.searchCondition.endDate=null,this.cols=[],this.tableData=[];var t=function(e,t){var a=0,i="",l="";if(null!=e&&""!=e&&e.length>0){i=e[0],l=e[1];var n=new Date(i),r=new Date(l);a=Math.floor((r.getTime()-n.getTime())/864e5)+1}else{var o=new Date,c=o.getFullYear(),d=o.getMonth()+1;a=new Date(c,d,0).getDate(),o.setDate(1),i=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),o.setDate(a),l=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()}if(a>31)return null;for(var p=new Date(i),u=0;u<a;u++){var m=s(p);t.cols.push({label:m,prop:m,type:"normal"}),p.setDate(p.getDate()+1)}return{start:i,end:l}}(this.selectedDate,this);null!=t?(this.searchCondition.startDate=t.start,this.searchCondition.endDate=t.end,this.postRequestJson("/busi/routine/list",this.searchCondition).then(function(t){if(e.tableLoading=!1,t&&"200"===t.data.code){console.log(t.data.msg.result);for(var a=t.data.msg.result,i=0;i<a.length;i++){for(var l=a[i].routineInfoDTO,s={careworkerId:a[i].careworkerId,careworkerName:a[i].careworkerName},r=0;r<l.length;r++)null==s[l[r].date]&&(s[l[r].date]={info:[],signIn:!0}),s[l[r].date].info.push(n(l[r])),s[l[r].date].signIn=s[l[r].date].signIn&&l[r].isWorked;console.log(s),e.tableData.push(s)}}else e.$message.error({type:"fail",message:t.data.msg})})):this.$message.error({type:"fail",message:"时间间隔不得超过一个月"})}}};function s(e){return e.getFullYear()+"-"+Object(i.b)(e.getMonth()+1+"")+"-"+Object(i.b)(e.getDate()+"")}function n(e){if(null!=e&&""!=e)return e.schedule+"-"+e.property+"-"+e.dayIndex+"天"}var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"20px"},attrs:{inline:!0}},[a("el-row",{staticStyle:{"margin-left":"-200px"}},[a("el-form-item",{attrs:{label:"员工姓名"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.searchCondition.careworkerName,callback:function(t){e.$set(e.searchCondition,"careworkerName",t)},expression:"searchCondition.careworkerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},on:{focus:e.orgSearchDialog},model:{value:e.curOrgName,callback:function(t){e.curOrgName=t},expression:"curOrgName"}},[a("i",{staticClass:"el-input__icon el-icon-circle-close",attrs:{slot:"suffix"},on:{click:e.clearOrgInput},slot:"suffix"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"时间间隔"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",size:"mini"},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.searchDutyInfoList}},[e._v("查 询")])],1)],1),e._v(" "),a("el-row",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,border:"","v-loading":e.tableLoading,stripe:""}},[e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"careworkerName",fixed:"",align:"center",label:"员工姓名",width:"150"}}),e._v(" "),e._l(e.cols,function(t,i){return["normal"===t.type?a("el-table-column",{attrs:{prop:t.prop,label:t.label,width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row[t.column.property]?a("el-col",[e._l(t.row[t.column.property].info,function(t){return a("el-row",{key:t},[e._v("\n                    "+e._s(t)+"\n                  ")])}),e._v(" "),t.row[t.column.property].signIn?a("el-row",[a("el-row",{staticStyle:{color:"green"}},[e._v("\n                      已签到\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.signIn(t,!1)}}},[e._v("\n                      取消签到\n                    ")])],1):a("el-row",[a("el-row",{staticStyle:{color:"red"}},[e._v("\n                      未签到\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.signIn(t,!0)}}},[e._v("\n                      签到\n                    ")])],1)],2):a("el-col",[a("el-row",[e._v("\n                    没有排班\n                  ")])],1)]}}],null,!0)}):e._e()]})],2),e._v(" "),a("el-pagination",{attrs:{"current-page":e.searchCondition.curPage,"page-size":e.searchCondition.pageSize,layout:"prev, pager, next, jumper",total:e.searchCondition.totalSize},on:{"current-change":e.searchDutyInfoList,"update:currentPage":function(t){return e.$set(e.searchCondition,"curPage",t)},"update:current-page":function(t){return e.$set(e.searchCondition,"curPage",t)}}})],1)])],1),e._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"科室参照","close-on-click-modal":!1,visible:e.showOrgSearchDialog,width:"30%"},on:{"update:visible":function(t){e.showOrgSearchDialog=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.treeData,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showOrgSearchDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.orgClick}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(l,r,!1,function(e){a("nfyr")},"data-v-78101c46",null);t.default=o.exports},DVR3:function(e,t){},GrGH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",[a("el-row",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.loadResourcesList}},[e._v("刷新")])],1)],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resourceList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"id",label:"id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faId",align:"center",label:"父记录号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"资源名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"uri",align:"center",label:"URI"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",align:"center",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"componet",align:"center",label:"资源名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",align:"center",label:"图标"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scope",align:"center",label:"范围"}}),e._v(" "),a("el-table-column",{attrs:{prop:"requesMethod",align:"center",label:"资源请求方法"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iSDisabled",align:"center",label:"是否不可用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isRequireAuth",align:"center",label:"是否需要权限"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",align:"center",label:"版本"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n            ")])]}}])})],1)],1)],1),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.resourceVisible,width:"65%"},on:{"update:visible":function(t){e.resourceVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源名"},model:{value:e.curResource.name,callback:function(t){e.$set(e.curResource,"name",t)},expression:"curResource.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"URI:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入URL"},model:{value:e.curResource.uri,callback:function(t){e.$set(e.curResource,"uri",t)},expression:"curResource.uri"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"类型:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入类型"},model:{value:e.curResource.type,callback:function(t){e.$set(e.curResource,"type",t)},expression:"curResource.type"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"组件名称:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源名称"},model:{value:e.curResource.componet,callback:function(t){e.$set(e.curResource,"componet",t)},expression:"curResource.componet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"父资源id:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源名称"},model:{value:e.curResource.faId,callback:function(t){e.$set(e.curResource,"faId",t)},expression:"curResource.faId"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"图 标:"}},[a("el-input",{staticStyle:{width:"155px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入图标"},model:{value:e.curResource.icon,callback:function(t){e.$set(e.curResource,"icon",t)},expression:"curResource.icon"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源操作域:",prop:"startCode"},model:{value:e.curResource.scope,callback:function(t){e.$set(e.curResource,"scope",t)},expression:"curResource.scope"}},[a("el-input",{staticStyle:{width:"110px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源操作域"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源请求方法:",prop:"endCode"}},[a("el-input",{staticStyle:{width:"95px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源请求方法"},model:{value:e.curResource.requestMethod,callback:function(t){e.$set(e.curResource,"requestMethod",t)},expression:"curResource.requestMethod"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否不可用:",prop:"endCode"}},[a("el-select",{staticStyle:{width:"135px"},attrs:{size:"mini",placeholder:"是否不可用"},model:{value:e.curResource.isDisabledName,callback:function(t){e.$set(e.curResource,"isDisabledName",t)},expression:"curResource.isDisabledName"}},e._l(e.disabledData,function(e){return a("el-option",{key:e.disabledid,attrs:{label:e.mame,value:e.disabledid}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否需要权限:"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"是否需要权限"},model:{value:e.curResource.isRequireAuthName,callback:function(t){e.$set(e.curResource,"isRequireAuthName",t)},expression:"curResource.isRequireAuthName"}},e._l(e.requireData,function(e){return a("el-option",{key:e.requireid,attrs:{label:e.mame,value:e.requireid}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"版本:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入版本"},model:{value:e.curResource.version,callback:function(t){e.$set(e.curResource,"version",t)},expression:"curResource.version"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:e.madyifResource}},[e._v("修改资源")])],1)],1)],1)],1)],1)])],1)},staticRenderFns:[]};var l=a("VU/8")({data:function(){return{resourceList:[],tableLoading:!1,dialogTitle:"",resourceVisible:!1,disabledid:"1",requireid:"1",requireData:[{requireid:"1",mame:"是"},{requireid:"0",mame:"否"}],disabledData:[{disabledid:"1",mame:"是"},{disabledid:"0",mame:"否"}],curResource:{id:null,faId:null,name:null,uri:null,type:null,componet:null,icon:null,scope:null,requestMethod:null,isDisabled:0,isDisabledName:"否",isRequireAuth:1,isRequireAuthName:"是",version:null}}},mounted:function(){this.resourceVisible=!1,this.loadResourcesList()},methods:{loadResourcesList:function(){var e=this;this.tableLoading=!0,this.resourceList=[],this.getRequest("/aut/resource/list").then(function(t){if(e.tableLoading=!1,t&&200==t.status&&"200"==t.data.code)for(var a=t.data.msg,i=0;i<a.length;i++)e.resourceList.push({id:a[i].id,faId:a[i].faId,name:a[i].name,uri:a[i].uri,type:a[i].type,componet:a[i].componet,icon:a[i].icon,scope:a[i].scope,requesMethod:a[i].requestMethod,iSDisabled:a[i].isDisabled,isRequireAuth:a[i].isRequireAuth,version:a[i].version})})},showEditEmpView:function(e){this.resourceVisible=!0,this.curResource.id=e.id,this.curResource.faId=e.faId,this.curResource.name=e.name,this.curResource.uri=e.uri,this.curResource.type=e.type,this.curResource.icon=e.icon,this.curResource.version=e.version,this.curResource.requestMethod=e.requestMethod,this.curResource.scope=e.scope,this.curResource.componet=e.componet},madyifResource:function(){var e=this;this.dialogTitle="编辑资源信息",this.resourceVisible=!1,this.putRequestJson("/aut/resource",{id:this.curResource.id,componet:this.curResource.componet}).then(function(t){t&&200==t.status&&"200"==t.data.code?e.$message({type:"success",message:t.data.msg}):e.$message.error({type:"fail",message:t.data.msg})})}}},i,!1,function(e){a("0ktf")},"data-v-9dffad6c",null);t.default=l.exports},GzbA:function(e,t){},HnHe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("mtWM");var i={data:function(){return{resourceList:[],roleList:[],beginDateScope:"",dataTitles:["待分配资源","已选中"],roleName:"",checked:!1,dialogTitle:"",multipleSelection:[],resourceSelection:[],totalCount:-1,currentPage:1,dialogVisible:!1,dialogVisible2:!1,tableLoading:!1,advanceSearchViewVisible:!1,emp:{username:"",nickname:"",isLocked:"",isDisabled:"",roleName:"",password:"",projectName:""},modifyResource:{name:"",id:""},rules:{roleName:[{required:!0,message:"必填:角色名称",trigger:"blur"}],nickname:[{required:!0,message:"必填:别名",trigger:"blur"}],password:[{required:!0,message:"必填:密码",trigger:"blur"}],phone:[{required:!0,message:"必填:电话号码",trigger:"blur"}],address:[{required:!0,message:"必填:联系地址",trigger:"blur"}]},data:[],value1:[]}},mounted:function(){this.loadEmps()},methods:{handleSelectionChange:function(e){},SelectionChange:function(e){this.resourceSelection=e},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.roleName+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id),t.$message({type:"success",message:"删除成功!"})}).catch(function(){})},doDelete:function(e){var t=this;this.tableLoading=!0;var a=this;this.deleteRequest("/aut/role?id="+e+"&disable=true").then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?a.loadEmps():t.getMsg(e.data.msg):t.getMsg(e.status)})},keywordsChange:function(e){""===e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.postRequestJson("/aut/role/list",{roleName:this.roleName,curPage:this.currentPage}).then(function(a){if(e.tableLoading=!1,a&&200===a.status)if("200"===a.data.code){for(var i=a.data,l=[],s="使用中",n=0;n<i.msg.result.length;n++)s=i.msg.result[n].isDisabled?"已弃用":"使用中",l.push({id:i.msg.result[n].id,roleName:i.msg.result[n].roleName,isDisabled:s});t.roleList=l,t.totalCount=i.msg.totalSize,t.emptyEmpData()}else e.getMsg(a.data.msg);else e.getMsg(a.status)})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;for(var i=new Array,l=0;l<t.resourceSelection.length;l++)i.push(t.resourceSelection[l].id);t.tableLoading=!0,t.postRequestJson("/aut/role",{roleName:t.emp.roleName,auths:i}).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible=!1,a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)})})},modifyResource1:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.tableLoading=!0,t.putRequestJson("/aut/role",{id:t.modifyResource.id,auths:t.value1}).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible2=!1,a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)})})},cancelEidt:function(){this.dialogVisible=!1,this.dialogVisible2=!1,this.emptyEmpData()},showEditEmpView:function(e){console.log(e),this.dialogTitle="编辑角色",this.modifyResource.name=e.roleName,this.modifyResource.id=e.id,this.dialogVisible2=!0,this.generateData(e.id)},generateData:function(e){var t=this;this.getRequest("/aut/resource").then(function(e){if(t.tableLoading=!1,e&&200===e.status)if("200"===e.data.code){for(var a=e.data,i=[],l=0;l<a.msg.length;l++)i.push({key:a.msg[l].id,label:a.msg[l].name});t.data=i}else t.getMsg(e.data.msg);else t.getMsg(e.status)}),this.getRequest("/aut/role?id="+e).then(function(e){if(t.tableLoading=!1,e&&200===e.status)if("200"===e.data.code){for(var a=e.data,i=[],l=0;l<a.msg.auths.length;l++)i.push(a.msg.auths[l].id);t.value1=i}else t.getMsg(e.data.msg);else t.getMsg(e.status)})},showAddEmpView:function(){var e=this;this.dialogTitle="添加角色",this.dialogVisible=!0;var t=this;this.getRequest("/aut/resource").then(function(a){if(e.tableLoading=!1,a&&200===a.status)if("200"===a.data.code){var i=a.data;t.resourceList=i.msg}else e.getMsg(a.data.msg);else e.getMsg(a.status)})},getMsg:function(e){this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})},emptyEmpData:function(){this.emp={username:"",nickname:"",isLocked:"",isDisabled:"",roleName:"",projectName:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过角色名搜索角色信息,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchEmp(t)}},model:{value:e.roleName,callback:function(t){e.roleName=t},expression:"roleName"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n          添加角色\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.roleList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"id",align:"center",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",align:"center",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isDisabled",align:"center",label:"使用状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{type:"danger",size:"small"},on:{click:function(a){return e.deleteEmp(t.row)}}},[e._v("删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.emp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"角色名称:",prop:"roleName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入角色名称"},model:{value:e.emp.roleName,callback:function(t){e.$set(e.emp,"roleName",t)},expression:"emp.roleName"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resourceList,border:"",stripe:"",size:"mini"},on:{"selection-change":e.SelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",align:"center",fixed:"",label:"记录号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",fixed:"",align:"center",label:"资源名"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"modifyEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.modifyResource,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible2,width:"65%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"角色名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",disabled:!0,size:"mini",placeholder:"请输入角色名称"},model:{value:e.modifyResource.name,callback:function(t){e.$set(e.modifyResource,"name",t)},expression:"modifyResource.name"}})],1)],1)])],1),e._v(" "),a("el-row",[[a("el-transfer",{attrs:{data:e.data,titles:e.dataTitles},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})]],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.modifyResource1("modifyEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("DVR3")},null,null);t.default=s.exports},HwlH:function(e,t){},IOOP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过员工名搜索员工,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchEmp(t)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n          添加用户\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.userList,border:""}},[a("el-table-column",{attrs:{prop:"username",align:"center",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname",align:"center",label:"别名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isDisabled",align:"center",label:"使用状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{type:"danger",size:"small"},on:{click:function(a){return e.deleteEmp(t.row)}}},[e._v("删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.emp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入用户名"},model:{value:e.emp.username,callback:function(t){e.$set(e.emp,"username",t)},expression:"emp.username"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"别名:",prop:"nickname"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"别名"},model:{value:e.emp.nickname,callback:function(t){e.$set(e.emp,"nickname",t)},expression:"emp.nickname"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":" el-icon-edit",size:"mini",placeholder:"密码"},model:{value:e.emp.password,callback:function(t){e.$set(e.emp,"password",t)},expression:"emp.password"}})],1)],1)])],1),e._v(" "),a("el-row"),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"modifyEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.modifyUser,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible2,width:"65%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",disabled:!0,size:"mini",placeholder:"请输入用户名"},model:{value:e.modifyUser.username,callback:function(t){e.$set(e.modifyUser,"username",t)},expression:"modifyUser.username"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"别名:",prop:"nickname"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"别名"},model:{value:e.modifyUser.nickname,callback:function(t){e.$set(e.modifyUser,"nickname",t)},expression:"modifyUser.nickname"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":" el-icon-edit",size:"mini",placeholder:"密码"},model:{value:e.modifyUser.password,callback:function(t){e.$set(e.modifyUser,"password",t)},expression:"modifyUser.password"}})],1)],1)])],1),e._v(" "),a("el-row"),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.modifyUser1("modifyEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var l=a("VU/8")({data:function(){return{userList:[],roleList:[],username:"",beginDateScope:"",dialogTitle:"",multipleSelection:[],nations:[],politics:[],positions:[],totalCount:-1,currentPage:1,dialogVisible:!1,dialogVisible2:!1,tableLoading:!1,advanceSearchViewVisible:!1,emp:{username:"",nickname:"",isLocked:"",isDisabled:"",roleName:"",password:"",projectName:""},modifyUser:{username:"",nickname:"",password:""},rules:{username:[{required:!0,message:"必填:用户名",trigger:"blur"}],nickname:[{required:!0,message:"必填:别名",trigger:"blur"}],password:[{required:!0,message:"必填:密码",trigger:"blur"}],phone:[{required:!0,message:"必填:电话号码",trigger:"blur"}],address:[{required:!0,message:"必填:联系地址",trigger:"blur"}]}}},mounted:function(){this.loadEmps()},methods:{handleSelectionChange:function(e){},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.multipleSelection.length;a++)t+=e.multipleSelection[a].username+",";e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.username+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.username),t.$message({type:"success",message:"删除成功!"})}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/aut/user?username="+e+"&disable=true").then(function(e){t.tableLoading=!1,e&&200===e.status&&(e.data,t.loadEmps())})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.postRequestJson("/aut/user/list",{username:this.username,curPage:this.currentPage,nickname:this.emp.nickname}).then(function(a){if(e.tableLoading=!1,a&&200===a.status)if("200"===a.data.code){for(var i=a.data,l=[],s="使用中",n=0;n<i.msg.result.length;n++)s=i.msg.result[n].isDisabled?"已弃用":"使用中",l.push({username:i.msg.result[n].username,nickname:i.msg.result[n].nickname,isDisabled:s});t.userList=l,t.totalCount=i.msg.totalSize,t.emptyEmpData()}else e.getMsg(a.data.msg);else e.getMsg(a.status)})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.emp.id?(t.tableLoading=!0,t.putRequestJson("/aut/user",t.modifyUser).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible2=!1,a.emptyEmpData(),a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)})):(t.tableLoading=!0,t.postRequestJson("/aut/user",t.emp).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)}))})},modifyUser1:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.tableLoading=!0,t.putRequestJson("/aut/user",t.modifyUser).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible2=!1,a.emptyEmpData(),a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)})})},cancelEidt:function(){this.dialogVisible=!1},showEditEmpView:function(e){this.dialogTitle="编辑员工",this.modifyUser.username=e.username,this.modifyUser.nickname=e.nickname,this.dialogVisible2=!0},showAddEmpView:function(){this.dialogTitle="添加用户",this.dialogVisible=!0},getMsg:function(e){this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})},emptyEmpData:function(){this.emp={username:"",nickname:"",isLocked:"",isDisabled:"",roleName:"",projectName:""}}}},i,!1,function(e){a("k9q9")},null,null);t.default=l.exports},"ISf/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{salaryList:[],mergeArr:[],pos:0,date:"",headerTitle:"广州安裕物业管理有限公司驻   "+this.$store.state.user.projectName+"   员工考勤统计表",tableLoading:!1}},methods:{cellMerge:function(e){e.row,e.column;var t=e.rowIndex;if(1===e.columnIndex){var a=this.mergeArr[t];return{rowspan:a,colspan:a>0?1:0}}},generalSalaryReport:function(){var e=this,t=this.$loading({lock:!0,text:"数据加载中，请等待...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.tableLoading=!0,this.postRequestJson("/report/salary",{projectId:2,date:this.date}).then(function(a){if(console.log(a),t.close(),e.salaryList=[],a&&"200"===a.data.code){var i=a.data.msg;if(0!==i.length){for(var l=0;l<i.length;l++){var s=i[l].careworkers;e.mergeArr.push(s.length);for(var n=0;n<s.length;n++)e.mergeArr.push(0),e.salaryList.push({org:i[l].orgName,name:s[n].name,job:s[n].jobName,daycount:s[n].countDay,salary:s[n].salary,reward:s[n].reward,total:s[n].reward+s[n].salary});e.mergeArr.pop()}e.tableLoading=!1}else e.$message({type:"fail",message:"该月份没有数据"})}else e.$message({type:"fail",message:a.data.msg})})},changeTitle:function(){this.headerTitle="广州安裕物业管理有限公司驻   "+this.$store.state.user.projectName+"   员工"+this.date+"考勤统计表"},exportExcelFile:function(){var e=this,t=this.$loading({lock:!0,text:"数据加载中，请等待...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.postRequestFile("/report/salary/file",{projectId:2,date:this.date}).then(function(a){if(console.log(a),t.close(),a&&200==a.status&&null==a.data.code){var i=new Blob([a.data],{type:"application/vnd.ms-excel"}),l=document.createElement("a");l.href=window.URL.createObjectURL(i),l.download="陪护人员工资统计_"+e.date+".xlsx",l.click()}else if(null!=a.data.code)return void e.$message({type:"fail",message:a.data.msg})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"月份:",prop:"username"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"month",size:"mini","value-format":"yyyy-MM",format:"yyyy年MM月",placeholder:"选择月"},on:{change:e.changeTitle},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.generalSalaryReport}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-upload2",type:"primary"},on:{click:e.exportExcelFile}},[e._v("导出Excel")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salaryList,"v-loading":e.tableLoading,border:"","span-method":e.cellMerge,height:"650"}},[a("el-table-column",{attrs:{label:e.headerTitle,width:"100%",align:"center"}},[a("el-table-column",{attrs:{type:"index",prop:"index",align:"center",fixed:"",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"org",align:"center",fixed:"",label:"科室"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"job",align:"center",label:"职务",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"daycount",fixed:"",align:"center",label:"计发天数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salary",label:"应发工资",fixed:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reward",align:"center",fixed:"",label:"奖励"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",align:"center",fixed:"",label:"工资合计"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("z0eb")},"data-v-85947b70",null);t.default=s.exports},Ivt8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s={data:function(){var e;return e={CareTypeList:[],dialogTitle:"",tableLoading:!1,hideRow:!1,SdialogTitle:"",orgdialogTitle:"",totalCount:-1,currentPage:1,serviceDay:"",patientCode:"",resourceSelection:[],dialogVisible:!1},l()(e,"tableLoading",!1),l()(e,"SdialogVisible",!1),l()(e,"EdialogVisible",!1),l()(e,"advanceSearchViewVisible",!1),l()(e,"orgDataNode",{orgId:"",orgName:""}),l()(e,"hospitalizedInfo",{hospitalizedTime:"",clerk:"",projectId:"2"}),l()(e,"orderCode",""),l()(e,"serviceInfo",{bedNum:"",orgId:"",careTypeId:"",startTime:""}),l()(e,"serviceType",{serviceName:"",price:""}),l()(e,"patient",{idcard:"",name:"",sex:"",address:"",phone:"",linkman:""}),l()(e,"transactionRecord",{payMan:"",money:0,date:""}),l()(e,"defaultProps",{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"}),l()(e,"sexData",[{sex:"1",mame:"男"},{sex:"2",mame:"女"}]),l()(e,"rules",{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],phone:[{required:!0,message:"必填:手机号",trigger:"blur"}]}),l()(e,"printing",{br_code:"",dy_code:"",y_m_d:"",dy_dh:"",dy_ks:"",dy_ch:"",dy_xm:"",dy_sfzh:"",dy_lx:"",dy_dj:"",dy_ksr:"",dy_ze:"",w:"",q:"",b:"",s:"",g:"",dy_jsr:""}),e},mounted:function(){},methods:{testDate:function(){console.log(this.hospitalizedInfo.hospitalizedTime)},number:function(){this.serviceDay=this.serviceDay.replace(/[^\.\d]/g,""),this.patient.phone=this.patient.phone.replace(/[^\.\d]/g,"")},showEditEmpView:function(){this.dialogTitle="编辑员工"},showOrgTable:function(){this.orgdialogTitle="科室参照",this.EdialogVisible=!0},loadChild:function(e,t){var a=this,i=null==e.parent?null:e.data.id,l=t;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:this.$store.state.user.projectId}).then(function(e){if(a.tableLoading=!1,e&&200===e.status){for(var t=[],i=0;i<e.data.msg.result.length;i++)t.push({id:e.data.msg.result[i].id,label:e.data.msg.result[i].name,children:[],isLeaf:e.data.msg.result[i].isLeaf,disabled:!e.data.msg.result[i].isLeaf});l(t)}})},showService:function(){this.SdialogTitle="陪护类型参照",this.SdialogVisible=!0,this.getServiceTypeload()},currentChange:function(e){this.currentPage=e,this.getServiceTypeload()},getServiceTypeload:function(){var e=this;this.postRequestJson("/busi/baseinfo/caretype/list",{name:"陪",curPage:this.currentPage,projectId:this.$store.state.user.projectId}).then(function(t){e.tableLoading=!1,t&&200===t.status?(e.CareTypeList=t.data.msg.result,e.totalCount=t.data.msg.totalSize):e.$confirm(t.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})})},orgClick:function(){this.EdialogVisible=!1;var e=this.$refs.tree.getCheckedNodes(!0,!1);this.orgDataNode.orgName=e[0].label,this.orgDataNode.orgId=e[0].id},orgNodeClick:function(e,t){var a=[];a.push(e),this.$refs.tree.setCheckedNodes(a,!0)},cancelEidt:function(){this.dialogVisible=!1,this.EdialogVisible=!1},SelectionChange:function(e){this.resourceSelection=e},ServiceClick:function(){this.serviceType.serviceName=this.resourceSelection.name,this.serviceType.price=this.resourceSelection.price,this.serviceInfo.careTypeId=this.resourceSelection.id,""!==this.transactionRecord.money&&(this.serviceDay=this.transactionRecord.money/this.serviceType.price),this.SdialogVisible=!1},moneyChange:function(){""!==this.serviceType.price&&(this.serviceDay=this.transactionRecord.money/this.serviceType.price)},addPatient:function(){var e=this;if(new Date(this.hospitalizedInfo.hospitalizedTime).getTime()>=new Date(this.serviceInfo.startTime).getTime())this.getMasgg("服务时间不早于入院时间");else{var t=this.$loading({lock:!0,text:"数据提交中，请等待操作完成...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.hospitalizedInfo.hospitalizedTime+=" 00:00:00";var a={payMan:this.patient.name,money:this.transactionRecord.money,date:this.hospitalizedInfo.hospitalizedTime},i={bedNum:this.serviceInfo.bedNum,orgId:this.orgDataNode.orgId,careTypeId:this.serviceInfo.careTypeId,startTime:this.serviceInfo.startTime};this.postRequestJson("/busi/patient",{hospitalizedInfo:this.hospitalizedInfo,serviceInfo:i,patient:this.patient,transactionRecord:a,projectId:this.$store.state.user.projectId}).then(function(a){t.close(),a&&200===a.status?"200"===a.data.code?(e.patientCode=a.data.msg.patientCode,e.orderCode=a.data.msg.orderCode,e.getMasgg("入院成功")):e.getMasgg(a.data.msg):e.getMasgg(a.status+a.data)})}},getMasgg:function(e){this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})},clearAddView:function(){this.patient.code="",this.patient.name="",this.patient.address="",this.patient.phone="",this.patient.idcard="",this.patient.sex="",this.patient.linkman="",this.serviceInfo.startTime="",this.serviceInfo.bedNum="",this.serviceInfo.careTypeId="",this.serviceInfo.orgId="",this.transactionRecord.money=0,this.transactionRecord.date="",this.transactionRecord.payMan="",this.hospitalizedInfo.hospitalizedTime="",this.orgDataNode.orgName="",this.orgDataNode.orgId="",this.patientCode="",this.orderCode="",this.serviceType.serviceName="",this.serviceType.price=""},divPrint:function(){var e=document.getElementById("div_print");console.log(e.innerHTML);var t=e.innerHTML,a=document.body.innerHTML;return document.body.innerHTML=t,window.print(),window.location.reload(),document.body.innerHTML=a,!1},showAddEmpView:function(){""!==this.patientCode?(this.dialogTitle="打印预收单",this.dialogVisible=!0,this.getSetPatin()):this.getMasgg("先入院，在打印预收单")},getSetPatin:function(){var e=this,t=new Date;this.printing.y_m_d=t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日",this.getRequest("/busi/baseinfo/docfile?id=1").then(function(t){t&&200===t.status?e.printing.dy_code=t.data.msg.currentCode:e.getMasgg(t.data.msg)}),this.printing.br_code=this.orderCode,this.printing.dy_ks=this.orgDataNode.orgName,this.printing.dy_ch=this.serviceInfo.bedNum,this.printing.dy_dh=this.patient.phone,this.printing.dy_xm=this.patient.name,this.printing.dy_sfzh=this.patient.idcard,this.printing.dy_lx=this.serviceType.serviceName,this.printing.dy_dj=this.serviceType.price,this.printing.dy_ksr=this.serviceInfo.startTime.substring(0,10),this.printing.dy_ze=this.transactionRecord.money,this.printing.dy_jsr=this.user.name;for(var a=this.padding(this.transactionRecord.money,5),i=a.charAt(a.length-5),l=a.charAt(a.length-4),s=a.charAt(a.length-3),n=a.charAt(a.length-2),r=a.charAt(a.length-1),o=0;o<1;o++)this.printing.w=""!=this.convertCurrency(i)?this.convertCurrency(i):"零",this.printing.q=""!=this.convertCurrency(l)?this.convertCurrency(l):"零",this.printing.b=""!=this.convertCurrency(s)?this.convertCurrency(s):"零",this.printing.s=""!=this.convertCurrency(n)?this.convertCurrency(n):"零",this.printing.g=""!=this.convertCurrency(r)?this.convertCurrency(r):"零"},convertCurrency:function(e){var t,a,i,l=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),s=new Array("","拾","佰","仟"),n=new Array("","万","亿","兆"),r=new Array("角","分","毫","厘"),o="";if(""==e)return"";if((e=parseFloat(e))>=1e15)return"";if(0==e)return o=l[0]+"";if(-1==(e=e.toString()).indexOf(".")?(t=e,a=""):(t=(i=e.split("."))[0],a=i[1].substr(0,4)),parseInt(t,10)>0){for(var c=0,d=t.length,p=0;p<d;p++){var u=d-p-1,m=u/4,g=u%4;"0"==(v=t.substr(p,1))?c++:(c>0&&(o+=l[0]),c=0,o+=l[parseInt(v)]+s[g]),0==g&&c<4&&(o+=n[m])}o+=""}if(""!=a){var h=a.length;for(p=0;p<h;p++){var v;"0"!=(v=a.substr(p,1))&&(o+=l[Number(v)]+r[p])}}return""==o?o+=l[0]+"":""==a&&(o+=""),o},padding:function(e,t){for(var a=(e+"").length;a<t;a=e.length)e="0"+e;return e}},computed:{user:function(){return this.$store.state.user},routes:function(){return this.$store.state.routes}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-left":"30px"},attrs:{inline:!0,rules:e.rules}},[a("el-row",[a("el-form-item",{staticStyle:{"margin-top":"20px",float:"right"}},[a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addPatient}},[e._v("\n              入 院\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:e.showAddEmpView}},[e._v("\n              打印预收单\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:e.clearAddView}},[e._v("\n              新增\n            ")])],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"病人编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:e.patientCode,callback:function(t){e.patientCode=t},expression:"patientCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"病人姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入病人姓名"},model:{value:e.patient.name,callback:function(t){e.$set(e.patient,"name",t)},expression:"patient.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"身份证:",prop:"idcard"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入身份证"},model:{value:e.patient.idcard,callback:function(t){e.$set(e.patient,"idcard",t)},expression:"patient.idcard"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"性别"},model:{value:e.patient.sex,callback:function(t){e.$set(e.patient,"sex",t)},expression:"patient.sex"}},e._l(e.sexData,function(e){return a("el-option",{key:e.sex,attrs:{label:e.mame,value:e.sex}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入电话号码"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.patient.phone,callback:function(t){e.$set(e.patient,"phone",t)},expression:"patient.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"家属姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入家属姓名"},model:{value:e.patient.linkman,callback:function(t){e.$set(e.patient,"linkman",t)},expression:"patient.linkman"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{float:"left","margin-left":"20px"},attrs:{label:"通讯地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"420px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入通讯地址"},model:{value:e.patient.address,callback:function(t){e.$set(e.patient,"address",t)},expression:"patient.address"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入院科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择入院科室"},on:{focus:e.showOrgTable},model:{value:e.orgDataNode.orgName,callback:function(t){e.$set(e.orgDataNode,"orgName",t)},expression:"orgDataNode.orgName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"床 号:",prop:"bedNum"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入床号"},model:{value:e.serviceInfo.bedNum,callback:function(t){e.$set(e.serviceInfo,"bedNum",t)},expression:"serviceInfo.bedNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"预交款:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入预交款"},on:{change:e.moneyChange},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.transactionRecord.money,callback:function(t){e.$set(e.transactionRecord,"money",t)},expression:"transactionRecord.money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"付款人:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入付款人"},model:{value:e.patient.name,callback:function(t){e.$set(e.patient,"name",t)},expression:"patient.name"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{staticStyle:{float:"left","margin-left":"20px"},attrs:{label:"入院日期:"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"155px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",size:"mini",placeholder:"选择日期"},on:{change:e.testDate},model:{value:e.hospitalizedInfo.hospitalizedTime,callback:function(t){e.$set(e.hospitalizedInfo,"hospitalizedTime",t)},expression:"hospitalizedInfo.hospitalizedTime"}})],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"服务类型:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请选择服务类型"},on:{focus:e.showService},model:{value:e.serviceType.serviceName,callback:function(t){e.$set(e.serviceType,"serviceName",t)},expression:"serviceType.serviceName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"类型价格:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:e.serviceType.price,callback:function(t){e.$set(e.serviceType,"price",t)},expression:"serviceType.price"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"服务开始时间:",prop:"startTime"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"175px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",size:"mini",placeholder:"选择服务开始时间"},model:{value:e.serviceInfo.startTime,callback:function(t){e.$set(e.serviceInfo,"startTime",t)},expression:"serviceInfo.startTime"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"服务天数:"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"el-icon-edit",clearable:"",size:"mini",placeholder:"请输入服务天数"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.serviceDay,callback:function(t){e.serviceDay=t},expression:"serviceDay"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"陪护注意事项:",clearable:""}},[a("el-input",{staticStyle:{width:"975px"},attrs:{type:"textarea"}})],1)],1)],1),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"52%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("div",{staticStyle:{margin:"5px auto"},attrs:{id:"div_print"}},[a("div",{staticStyle:{width:"96.2%",margin:"0 auto"}},[a("div",{staticStyle:{float:"left"}},[a("div",{staticStyle:{width:"602.5px",height:"260px",border:"1px dotted #000000",margin:"0px auto",background:"#FFF"}},[a("table",{staticStyle:{margin:"0 auto"}},[a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"center"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[e._v("预收单")])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[e._v("\n                          NO:"),a("label",{attrs:{id:"br_code"}},[e._v(e._s(e.printing.br_code))])])]),e._v(" "),a("tr",[a("td",{staticStyle:{width:"30%"}}),e._v(" "),a("td",{staticStyle:{width:"40%"},attrs:{align:"right"}},[a("span",{staticStyle:{position:"relative",left:"53px",top:"-10px"}},[e._v("\n\t                         NO: "),a("label",{staticStyle:{width:"100px"},attrs:{id:"dy_code"}},[e._v(e._s(e.printing.dy_code))])])]),e._v(" "),a("td",{staticStyle:{width:"30%"}},[a("label",{attrs:{id:"y_m_d"}},[e._v(e._s(e.printing.y_m_d))])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("      今收到\n                            "),a("label",{staticClass:"labelstyle",attrs:{id:"dy_ks"}},[e._v(e._s(e.printing.dy_ks))]),e._v("科\n                            "),a("label",{staticClass:"labelstyle",staticStyle:{width:"65px"},attrs:{id:"dy_ch"}},[e._v(e._s(e.printing.dy_ch))]),e._v("床\n                            "),a("label",{staticClass:"labelstyle",staticStyle:{width:"65px"},attrs:{id:"dy_xm"}},[e._v(e._s(e.printing.dy_xm))]),e._v("产妇/患者\n                            "),a("label",{staticClass:"labelstyle",staticStyle:{width:"150px"},attrs:{id:"dy_sfzh"}},[e._v(e._s(e.printing.dy_sfzh))]),e._v("身份证\n                          ")])])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("手机号码"),a("label",{staticClass:"labelstyle",staticStyle:{width:"107px"},attrs:{id:"dy_dh"}},[e._v(e._s(e.printing.dy_dh))]),e._v("\n                                 交来预收款"),a("label",{staticClass:"labelstyle",staticStyle:{width:"80px"},attrs:{id:"dy_lx"}},[e._v(e._s(e.printing.dy_lx))]),e._v("\n                                 （类型），单价"),a("label",{staticClass:"labelstyle",staticStyle:{width:"80px"},attrs:{id:"dy_dj"}},[e._v(e._s(e.printing.dy_dj))]),e._v("元/天，\n                          ")])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("\n\t\t\t\t                         开始日期为"),a("label",{staticClass:"labelstyle",staticStyle:{width:"100px"},attrs:{id:"dy_ksr"}},[e._v(e._s(e.printing.dy_ksr))]),e._v("，\n\t\t\t\t                        共"),a("label",{staticClass:"labelstyle",attrs:{id:"dy_ze"}},[e._v(e._s(e.printing.dy_ze))]),e._v("元。\n                              ")])])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}})]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[e._v("\n                          合计大写金额：\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"w"}},[e._v(e._s(e.printing.w))]),e._v("万\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"q"}},[e._v(e._s(e.printing.q))]),e._v("仟\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"b"}},[e._v(e._s(e.printing.b))]),e._v("佰\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"s"}},[e._v(e._s(e.printing.s))]),e._v("拾\n                          "),a("label",{staticClass:"labelstyle",staticStyle:{width:"70px"},attrs:{id:"g"}},[e._v(e._s(e.printing.g))]),e._v("元整\n                        ")])]),e._v(" "),a("tr",{staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("td",{attrs:{colspan:"3"}},[a("span",[e._v("收款单位  （盖章） ")])])])])]),e._v(" "),a("div",{staticStyle:{width:"602.5px",height:"25px",margin:"0 auto","font-size":"12px"},attrs:{align:"right"}},[a("label",{staticStyle:{position:"relative",top:"5px",left:"-10px"}},[e._v("经手人：")]),e._v(" "),a("label",{staticStyle:{width:"70px",position:"relative",top:"5px",left:"-10px"},attrs:{id:"dy_jsr"}},[e._v(e._s(e.printing.dy_jsr))])])]),e._v(" "),a("div",{staticStyle:{float:"left",height:"260px",width:"16px","font-size":"11px","text-align":"right"}},[a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"30px"}},[e._v("①存根︵ 白︶")]),e._v(" "),a("a",{staticStyle:{width:"5px","word-wrap":"break-word","word-spacing":"3px",position:"relative",top:"40px"}},[e._v("②收据︵红︶")])])])])]),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:function(t){return t.preventDefault(),e.divPrint(t)}}},[e._v("点击打印")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.orgdialogTitle,"close-on-click-modal":!1,visible:e.EdialogVisible,width:"30%"},on:{"update:visible":function(t){e.EdialogVisible=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.defaultProps,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.orgClick()}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"ServiceForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.SdialogTitle,"close-on-click-modal":!1,visible:e.SdialogVisible,width:"44%"},on:{"update:visible":function(t){e.SdialogVisible=t}}},[a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.CareTypeList,border:"","highlight-current-row":"",size:"mini"},on:{"current-change":e.SelectionChange}},[e.hideRow?a("el-table-column",{attrs:{prop:"",label:"陪护人员记录号",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"陪护类型名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propertyName",align:"center",fixed:"",label:"陪护属性"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",fixed:"",align:"center",label:"价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"settleTypeName",fixed:"",align:"center",label:"计算方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salaryIndex",fixed:"",align:"center",label:"工资系数"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.SdialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.ServiceClick("ServiceForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(e){a("dBPg")},"data-v-7f2668de",null);t.default=r.exports},LpkV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s=a("mvHQ"),n=a.n(s),r={data:function(){return{treeInitData:JSON.parse(n()([{children:[],label:"项目",id:0,isLeaf:!1}])),depName:"",treeLoading:!1,dialogVisible:!1,orgDialogVisible:!1,orgVisible:!1,allDeps:[],pDep:"",treeData:[],defaultProps:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"},orgDataNode:{orgId:"",orgName:""},orgData:{faId:"",faName:"",name:"",address:"",principal:"",phone:"",code:""},orgData2:{id:"",faId:"",faName:"",name:"",address:"",principal:"",phone:"",code:""}}},mounted:function(){},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},loadChild:function(e,t){var a=this;if(null==e.parent){var i=[];return i.push({children:[],label:"项目",id:null,isLeaf:!1,disabled:!0}),void t(i)}var l=e.data.id,s=t;this.postRequestJson("/busi/baseinfo/organization/list",{orgId:l,projectId:this.user.projectId}).then(function(e){if(a.tableLoading=!1,e&&200===e.status){a.treeLoading=!1;for(var t=[],i=0;i<e.data.msg.result.length;i++)t.push({id:e.data.msg.result[i].id,label:e.data.msg.result[i].name,children:[],isLeaf:e.data.msg.result[i].isLeaf,disabled:e.data.msg.result[i].isDisabled});s(t)}})},addDep:function(){var e=this,t=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequestJson("/busi/baseinfo/organization",{name:this.orgData.name,code:this.orgData.code,faId:this.pDep,address:this.orgData.address,principal:this.orgData.principal,phone:this.orgData.phone,projectId:this.user.projectId}).then(function(a){t.treeLoading=!1,a&&200===a.status&&(e.getMssage(a.data.msg),e.getRewOrgcod(e.pDep))})},UpdateDep:function(){var e=this;this.putRequestJson("/busi/baseinfo/organization",{name:this.orgData2.name,code:this.orgData2.code,id:this.pDep,address:this.orgData2.address,principal:this.orgData2.principal,phone:this.orgData2.phone,projectId:this.user.projectId}).then(function(t){t&&200===t.status&&(e.getMssage(t.data.msg),e.orgDialogVisible=!1)})},getMssage:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.dialogVisible=!1}).catch(function(){})},showAddDepView:function(e,t){this.dialogVisible=!0,this.pDep=e.id,this.orgData.faName=e.label,t.stopPropagation()},showUpdateDep:function(e,t){var a=this;this.orgDialogVisible=!0,this.pDep=e.id,this.orgData2.faName=e.label,this.getRequest("/busi/baseinfo/organization?id="+e.id).then(function(e){e&&200===e.status&&((e.data.code=200)?(a.orgData2.code=e.data.msg.code,a.orgData2.name=e.data.msg.name,a.orgData2.phone=e.data.msg.phone,a.orgData2.principal=e.data.msg.principal,a.orgData2.address=e.data.msg.address):a.getMssage(e.data.msg))}),t.stopPropagation()},orgVisibleDep:function(e,t){var a=this;this.orgVisible=!0,this.pDep=e.id,this.orgData2.faName=e.label,this.getRequest("/busi/baseinfo/organization?id="+e.id).then(function(e){e&&200===e.status&&((e.data.code=200)?(a.orgData2.code=e.data.msg.code,a.orgData2.name=e.data.msg.name,a.orgData2.phone=e.data.msg.phone,a.orgData2.principal=e.data.msg.principal,a.orgData2.address=e.data.msg.address):a.getMssage(e.data.msg))}),t.stopPropagation()},deleteDep:function(e,t,a,i){var l=this,s=this,n=a.parent.key;e.children.length>0?this.$message({message:"该科室下尚有其他部门，不能被停用!",type:"warning"}):this.$confirm("停用["+e.label+"]科室, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.treeLoading=!0,s.deleteRequest("/busi/baseinfo/organization?id="+e.id+"&status="+i).then(function(e){s.treeLoading=!1,e&&200===e.status&&l.getMssage(e.data.msg),l.getRewOrgcod(n)})}).catch(function(){s.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},getRewOrgcod:function(e){var t=this;this.postRequestJson("/busi/baseinfo/organization/list",{orgId:e,projectId:this.user.projectId}).then(function(a){if(t.tableLoading=!1,a&&200===a.status){t.treeLoading=!1;for(var i=[],l=0;l<a.data.msg.result.length;l++)i.push({id:a.data.msg.result[l].id,label:a.data.msg.result[l].name,children:[],isLeaf:a.data.msg.result[l].isLeaf,disabled:a.data.msg.result[l].isDisabled});t.$refs.tree.updateKeyChildren(e,i)}})},renderContent:function(e,t){var a,i,s,n,r,o,c,d,p,u,m=this,g=t.node,h=t.data,v=(t.store,e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[g.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{type:"primary",icon:"el-icon-plus",round:!0,size:"mini"}},l()(a,"style","padding:3px"),l()(a,"on",{click:function(){return m.showAddDepView(h,event)}}),a)),e("el-button",(i={style:"font-size: 12px;",attrs:{type:"primary",round:!0,icon:"el-icon-edit",size:"mini"}},l()(i,"style","padding:3px"),l()(i,"on",{click:function(){return m.showUpdateDep(h,event)}}),i)),e("el-button",(s={style:"font-size: 12px;",attrs:{type:"primary",round:!0,icon:"el-icon-info",size:"mini"}},l()(s,"style","padding:3px"),l()(s,"on",{click:function(){return m.orgVisibleDep(h,event)}}),s)),e("el-button",l()({style:"font-size: 12px;",attrs:{type:"primary",round:!0,size:"mini"}},"style","padding:3px"),["启用科室"]),e("el-button",l()({on:{click:function(){return m.deleteDep(h,event,g,!1)}},style:"font-size: 12px;",attrs:{type:"danger",round:!0,size:"mini"}},"style","padding:3px"),["停用科室"])])]),e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[g.label])]),e("span",[e("el-button",(n={style:"font-size: 12px;",attrs:{type:"primary",icon:"el-icon-plus",round:!0,size:"mini"}},l()(n,"style","padding:3px"),l()(n,"on",{click:function(){return m.showAddDepView(h,event)}}),n)),e("el-button",(r={style:"font-size: 12px;",attrs:{type:"primary",round:!0,icon:"el-icon-edit",size:"mini"}},l()(r,"style","padding:3px"),l()(r,"on",{click:function(){return m.showUpdateDep(h,event)}}),r)),e("el-button",(o={style:"font-size: 12px;",attrs:{type:"primary",round:!0,icon:"el-icon-info",size:"mini"}},l()(o,"style","padding:3px"),l()(o,"on",{click:function(){return m.orgVisibleDep(h,event)}}),o))])])),f=e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[g.label])]),e("span",[e("el-button",(c={style:"font-size: 12px;",attrs:{type:"primary",icon:"el-icon-plus",round:!0,size:"mini"}},l()(c,"style","padding:3px"),l()(c,"on",{click:function(){return m.showAddDepView(h,event)}}),c)),e("el-button",(d={style:"font-size: 12px;",attrs:{type:"primary",round:!0,icon:"el-icon-edit",size:"mini"}},l()(d,"style","padding:3px"),l()(d,"on",{click:function(){return m.showUpdateDep(h,event)}}),d)),e("el-button",(p={style:"font-size: 12px;",attrs:{type:"primary",round:!0,icon:"el-icon-info",size:"mini"}},l()(p,"style","padding:3px"),l()(p,"on",{click:function(){return m.orgVisibleDep(h,event)}}),p)),e("el-button",l()({on:{click:function(){return m.deleteDep(h,event,g,!0)}},style:"font-size: 12px;",attrs:{type:"danger",round:!0,size:"mini"}},"style","padding:3px"),["停用科室"])])]),b=e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[g.label])]),e("span",[e("el-button",(u={style:"font-size: 12px;",attrs:{type:"primary",round:!0,size:"mini"}},l()(u,"style","padding:3px"),l()(u,"on",{click:function(){return m.deleteDep(h,event,g,!1)}}),u),["启用科室"])])]);return g.isLeaf?g.disabled?b:f:v}},computed:{user:function(){return this.$store.state.user}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"500px","margin-top":"10px"},attrs:{props:e.defaultProps,load:e.loadChild,"node-key":"id",lazy:"","filter-node-method":e.filterNode,"render-content":e.renderContent}}),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加科室",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室编号:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入类型名称"},model:{value:e.orgData.code,callback:function(t){e.$set(e.orgData,"code",t)},expression:"orgData.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室名称:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入科室名称"},model:{value:e.orgData.name,callback:function(t){e.$set(e.orgData,"name",t)},expression:"orgData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室负责人:"}},[a("el-input",{staticStyle:{width:"118px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入科室负责人"},model:{value:e.orgData.principal,callback:function(t){e.$set(e.orgData,"principal",t)},expression:"orgData.principal"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"上级单位:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",disabled:"disabled"},model:{value:e.orgData.faName,callback:function(t){e.$set(e.orgData,"faName",t)},expression:"orgData.faName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入联系方式"},model:{value:e.orgData.phone,callback:function(t){e.$set(e.orgData,"phone",t)},expression:"orgData.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室地址:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入科室地址"},model:{value:e.orgData.address,callback:function(t){e.$set(e.orgData,"address",t)},expression:"orgData.address"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDep}},[e._v("添加")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑科室",visible:e.orgDialogVisible,width:"50%"},on:{"update:visible":function(t){e.orgDialogVisible=t}}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室编号:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入类型名称"},model:{value:e.orgData2.code,callback:function(t){e.$set(e.orgData2,"code",t)},expression:"orgData2.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室名称:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入科室名称"},model:{value:e.orgData2.name,callback:function(t){e.$set(e.orgData2,"name",t)},expression:"orgData2.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室负责人:"}},[a("el-input",{staticStyle:{width:"118px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入科室负责人"},model:{value:e.orgData2.principal,callback:function(t){e.$set(e.orgData2,"principal",t)},expression:"orgData2.principal"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入联系方式"},model:{value:e.orgData2.phone,callback:function(t){e.$set(e.orgData2,"phone",t)},expression:"orgData2.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室地址:"}},[a("el-input",{staticStyle:{width:"130px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入科室地址"},model:{value:e.orgData2.address,callback:function(t){e.$set(e.orgData2,"address",t)},expression:"orgData2.address"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.orgDialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.UpdateDep}},[e._v("修改")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"科室信息",visible:e.orgVisible,width:"50%"},on:{"update:visible":function(t){e.orgVisible=t}}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室编号:"}},[e._v("\n                "+e._s(e.orgData2.code)+"\n              ")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室名称:"}},[e._v("\n                "+e._s(e.orgData2.name)+"\n              ")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室负责人:"}},[e._v("\n                "+e._s(e.orgData2.principal)+"\n              ")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式:"}},[e._v("\n                "+e._s(e.orgData2.phone)+"\n              ")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"科室地址:"}},[e._v("\n                "+e._s(e.orgData2.address)+"\n              ")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.orgVisible=!1}}},[e._v("关闭")])],1)],1)],1)],1)])},staticRenderFns:[]},c=a("VU/8")(r,o,!1,null,null,null);t.default=c.exports},Ovix:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{orgReportData:[],orgId:"",EdialogVisible:!1,treeData:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"},dialogTitle:"",date:"",curOrgName:""}},methods:{cancelEidt:function(){this.EdialogVisible=!1},showOrgTable:function(){this.dialogTitle="科室参照",this.EdialogVisible=!0},loadChild:function(e,t){var a=this,i=null==e.parent?null:e.data.id,l=t;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:this.$store.state.user.projectId}).then(function(e){if(a.tableLoading=!1,e&&200===e.status){for(var t=[],i=e.data.msg.result,s=0;s<i.length;s++)t.push({id:e.data.msg.result[s].id,label:e.data.msg.result[s].name,children:[],isLeaf:e.data.msg.result[s].isLeaf,disabled:!e.data.msg.result[s].isLeaf});l(t)}})},orgClick:function(){var e=this.$refs.tree.getCheckedNodes();this.curOrgName=e[0].label,this.orgId=e[0].id,this.EdialogVisible=!1},orgNodeClick:function(e,t){console.log(e),console.log(t);var a=[];a.push(e),console.log(this),this.$refs.tree.setCheckedNodes(a,!0)},clearOrgInput:function(){this.curOrgName="",this.orgId=""},searchReport:function(){var e=this,t=this.$loading({lock:!0,text:"数据加载中，请等待...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.orgReportData=[],this.postRequestJson("/report/org",{orgId:this.orgId,date:this.date}).then(function(a){if(t.close(),a&&"200"===a.data.code){var i=a.data.msg;if(0!==i.length)for(var l=0;l<i.length;l++)e.orgReportData.push({date:i[l].date,income:i[l].income,expend:i[l].expend});else e.$message({type:"fail",message:"该月份没有数据"})}else e.$message({type:"fail",message:a.data.msg})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"月份:",prop:"username"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"month",size:"mini","value-format":"yyyy-MM",format:"yyyy年MM月",placeholder:"选择月"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"科室:",prop:"orgId"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",value:e.curOrgName,size:"mini",placeholder:"选择科室"},on:{focus:e.showOrgTable}},[a("i",{staticClass:"el-input__icon el-icon-circle-close",attrs:{slot:"suffix"},on:{click:e.clearOrgInput},slot:"suffix"})])],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.searchReport}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orgReportData,border:"","show-summary":!0,size:"mini"}},[a("el-table-column",{attrs:{type:"index",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"income",align:"center",label:"总收入(天/元)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"expend",align:"center",label:"总支出(天/元)"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.EdialogVisible,width:"30%"},on:{"update:visible":function(t){e.EdialogVisible=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.treeData,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.orgClick}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("2buM")},"data-v-8a2af43c",null);t.default=s.exports},QeZx:function(e,t){},QvDi:function(e,t){},TnRj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",[a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.resourceList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"faid",align:"center",label:"父记录号"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"资源名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",align:"center",label:"URL"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",align:"center",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"componet",align:"center",label:"资源名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",align:"center",label:"图标"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scope",align:"center",label:"范围"}}),e._v(" "),a("el-table-column",{attrs:{prop:"requesmethod",align:"center",label:"资源请求方法"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iSDisabled",align:"center",label:"是否不可用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isRequireAuth",align:"center",label:"是否需要权限"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",align:"center",label:"版本"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n            ")])]}}])})],1)],1)],1),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.resourceVisible,width:"65%"},on:{"update:visible":function(t){e.resourceVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源名"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"URL:",prop:"startCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入URL"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"类型:",prop:"endCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入类型"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源名称:",prop:"endCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源名称"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"图 标:"}},[a("el-input",{staticStyle:{width:"155px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入图标"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源操作域:",prop:"startCode"}},[a("el-input",{staticStyle:{width:"110px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源操作域"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资源请求方法:",prop:"endCode"}},[a("el-input",{staticStyle:{width:"95px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入资源请求方法"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否不可用:",prop:"endCode"}},[a("el-select",{staticStyle:{width:"135px"},attrs:{size:"mini",placeholder:"是否需要权限"},model:{value:e.disabledid,callback:function(t){e.disabledid=t},expression:"disabledid"}},e._l(e.disabledData,function(e){return a("el-option",{key:e.disabledid,attrs:{label:e.mame,value:e.disabledid}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否需要权限:"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"是否需要权限"},model:{value:e.requireid,callback:function(t){e.requireid=t},expression:"requireid"}},e._l(e.requireData,function(e){return a("el-option",{key:e.requireid,attrs:{label:e.mame,value:e.requireid}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"版本:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入版本"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:e.madyifResource}},[e._v("修改资源")])],1)],1)],1)],1)],1)])],1)},staticRenderFns:[]};var l=a("VU/8")({data:function(){return{resourceList:[],tableLoading:!1,dialogTitle:"",resourceVisible:!1,disabledid:"1",requireid:"1",requireData:[{requireid:"1",mame:"是"},{requireid:"0",mame:"否"}],disabledData:[{disabledid:"1",mame:"是"},{disabledid:"0",mame:"否"}]}},mounted:function(){this.resourceVisible=!0},methods:{showEditEmpView:function(e){this.resourceVisible=!0},madyifResource:function(){this.dialogTitle="编辑资源信息",this.resourceVisible=!1}}},i,!1,function(e){a("4gno")},"data-v-38c963c2",null);t.default=l.exports},UuUC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{ServiceName:"",property:"",dialogTitle:"",docfileVisible:!1,tableLoading:!1,ServicedialogVisible:!1,MaydifydialogVisible:!1,ServiceList:[],docfileList:[],totalCount:-1,totalTaiCount:-1,currentPage:1,Servicetype:{name:"",property:"",price:"",salaryIndex:"",settleType:""},Servicetype2:{name:"",property:"",price:"",salaryIndex:"",settleType:""},serviceId:"",docfile:{CodeName:"",startCode:"",endCode:"",currentCode:""},docfile2:{name:"",startCode:"",currentCode:"",endCode:"",id:""},propertyData:[{property:"1",mame:"一对一"},{property:"2",mame:"一对多"},{property:"3",mame:"多对多"}],settleTypeData:[{settleType:"1",mame:"日"},{settleType:"2",mame:"例"}],rules:{name:[{required:!0,message:"必填:陪护类型名称",trigger:"blur"}],price:[{required:!0,message:"必填:单价",trigger:"blur"}],salaryIndex:[{required:!0,message:"必填:工资系数",trigger:"blur"}],CodeName:[{required:!0,message:"必填:单据名称",trigger:"blur"}],startCode:[{required:!0,message:"必填:起始单据号",trigger:"blur"}],endCode:[{required:!0,message:"必填:结束单据号",trigger:"blur"}]}}},mounted:function(){this.onServiceClick(),this.getdocfileList()},methods:{number:function(){this.Servicetype.salaryIndex=this.Servicetype.salaryIndex.replace(/[^\.\d]/g,""),this.Servicetype2.salaryIndex=this.Servicetype.salaryIndex.replace(/[^\.\d]/g,""),this.Servicetype.price=this.Servicetype.price.replace(/[^\.\d]/g,""),this.Servicetype2.price=this.Servicetype.price.replace(/[^\.\d]/g,"")},onServiceClick:function(){var e=this;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/caretype/list",{name:this.ServiceName,property:this.property,curPage:this.currentPage,projectId:this.user.projectId}).then(function(t){e.tableLoading=!1,t&&200===t.status?"200"===t.data.code?(e.ServiceList=t.data.msg.result,e.totalTaiCount=t.data.msg.totalSize):e.getMssage(t.data.msg):e.getMssage(t.status)})},ServiceChange:function(e){this.currentPage=e,this.getdocfileList()},ServiceTiaChange:function(e){this.currentPage=e,this.onServiceClick()},showAddEmpView:function(){this.dialogTitle="添加陪护类型",this.ServicedialogVisible=!0,this.Servicetype.price="",this.Servicetype.salaryIndex="",this.Servicetype.settleType="",this.Servicetype.name="",this.Servicetype.property=""},addServiceOnclick:function(){var e=this;this.postRequestJson("/busi/baseinfo/caretype",{name:this.Servicetype.name,property:this.Servicetype.property,price:this.Servicetype.price,salaryIndex:this.Servicetype.salaryIndex,settleType:this.Servicetype.settleType,projectId:this.user.projectId}).then(function(t){e.tableLoading=!1,t&&200===t.status?e.getMssage(t.data.msg):e.getMssage(t.status)})},MadfiyServiceOnclick:function(){var e=this;this.putRequestJson("/busi/baseinfo/caretype",{id:this.serviceId,name:this.Servicetype2.name,property:this.Servicetype2.property,price:this.Servicetype2.price,salaryIndex:this.Servicetype2.salaryIndex,settleType:this.Servicetype2.settleType,projectId:this.user.projectId}).then(function(t){e.tableLoading=!1,t&&200===t.status?e.getMssage(t.data.msg):e.getMssage(t.status)})},showEditEmpView:function(e){this.dialogTitle="编辑陪护类型",this.MaydifydialogVisible=!0,this.Servicetype2.price=e.price,this.Servicetype2.name=e.name,this.serviceId=e.id,this.Servicetype2.salaryIndex=e.salaryIndex},cancelEidt:function(){this.ServicedialogVisible=!1,this.MaydifydialogVisible=!1},getMssage:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.ServicedialogVisible=!1,t.MaydifydialogVisible=!1,t.docfileVisible=!1,t.onServiceClick(),t.getdocfileList()}).catch(function(){})},getdocfileList:function(){var e=this;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/docfile/list",{name:"",curPage:this.currentPage}).then(function(t){e.tableLoading=!1,t&&200===t.status?"200"===t.data.code?(e.docfileList=t.data.msg.result,e.totalCount=t.data.msg.totalSize):e.getMssage(t.data.msg):e.getMssage(t.status)})},onDocfileClick:function(){var e=this;this.postRequestJson("/busi/baseinfo/docfile",{name:this.docfile.CodeName,startCode:this.docfile.startCode,endCode:this.docfile.endCode,projectId:this.user.projectId}).then(function(t){t&&t.status,e.getMssage(t.data.msg)})},showDocfileView:function(e){this.dialogTitle="编辑单据编号",this.docfileVisible=!0,this.docfile2.id=e.id,this.docfile2.name=e.name,this.docfile2.startCode=e.startCode,this.docfile2.endCode=e.endCode},madyifdocfile:function(){var e=this;this.putRequestJson("/busi/baseinfo/docfile",{name:this.docfile2.name,startCode:this.docfile2.startCode,currentCode:this.docfile2.startCode,endCode:this.docfile2.endCode,id:this.docfile2.id,projectId:this.user.projectId}).then(function(t){t&&t.status,e.getMssage(t.data.msg)})}},components:{"menu-org":a("LpkV").default},computed:{user:function(){return this.$store.state.user}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"15px"}},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"科室管理",name:"Organization"}},[a("menu-org")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"陪护类型设置"}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"陪护类型名称"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入陪护类型名称"},model:{value:e.ServiceName,callback:function(t){e.ServiceName=t},expression:"ServiceName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"陪护属性:"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择陪护属性"},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}},e._l(e.propertyData,function(e){return a("el-option",{key:e.property,attrs:{label:e.mame,value:e.property}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{float:"left"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.onServiceClick}},[e._v("查 询")])],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("添加陪护类型 ")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.ServiceList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"陪护类型名称"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"price",align:"center",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propertyName",align:"center",label:"陪护属性"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salaryIndex",align:"center",label:"工资系数(%)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"settleTypeName",align:"center",label:"计算方式"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n                      ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalTaiCount},on:{"current-change":e.ServiceTiaChange}})],1)],1)],1),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.Servicetype,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.ServicedialogVisible,width:"65%"},on:{"update:visible":function(t){e.ServicedialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"陪护类型名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入类型名称"},model:{value:e.Servicetype.name,callback:function(t){e.$set(e.Servicetype,"name",t)},expression:"Servicetype.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"陪护属性:"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择陪护属性"},model:{value:e.Servicetype.property,callback:function(t){e.$set(e.Servicetype,"property",t)},expression:"Servicetype.property"}},e._l(e.propertyData,function(e){return a("el-option",{key:e.property,attrs:{label:e.mame,value:e.property}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单 价:",prop:"price"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入单价"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.Servicetype.price,callback:function(t){e.$set(e.Servicetype,"price",t)},expression:"Servicetype.price"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工资系数:",prop:"salaryIndex"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入工资系数"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.Servicetype.salaryIndex,callback:function(t){e.$set(e.Servicetype,"salaryIndex",t)},expression:"Servicetype.salaryIndex"}}),e._v("%\n                 ")],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"结算方式:",prop:"phone"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择结算方式"},model:{value:e.Servicetype.settleType,callback:function(t){e.$set(e.Servicetype,"settleType",t)},expression:"Servicetype.settleType"}},e._l(e.settleTypeData,function(e){return a("el-option",{key:e.settleType,attrs:{label:e.mame,value:e.settleType}})}),1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addServiceOnclick}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.Servicetype2,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.MaydifydialogVisible,width:"65%"},on:{"update:visible":function(t){e.MaydifydialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"陪护类型名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入类型名称"},model:{value:e.Servicetype2.name,callback:function(t){e.$set(e.Servicetype2,"name",t)},expression:"Servicetype2.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"陪护属性:"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择陪护属性"},model:{value:e.Servicetype2.property,callback:function(t){e.$set(e.Servicetype2,"property",t)},expression:"Servicetype2.property"}},e._l(e.propertyData,function(e){return a("el-option",{key:e.property,attrs:{label:e.mame,value:e.property}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单 价:",prop:"price"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入单价"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.Servicetype2.price,callback:function(t){e.$set(e.Servicetype2,"price",t)},expression:"Servicetype2.price"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工资系数:",prop:"salaryIndex"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入工资系数"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.Servicetype2.salaryIndex,callback:function(t){e.$set(e.Servicetype2,"salaryIndex",t)},expression:"Servicetype2.salaryIndex"}}),e._v("%\n                 ")],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"结算方式:",prop:"phone"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择结算方式"},model:{value:e.Servicetype2.settleType,callback:function(t){e.$set(e.Servicetype2,"settleType",t)},expression:"Servicetype2.settleType"}},e._l(e.settleTypeData,function(e){return a("el-option",{key:e.settleType,attrs:{label:e.mame,value:e.settleType}})}),1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.MadfiyServiceOnclick}},[e._v("确 定")])],1)],1)],1)])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"单据编号设置"}},[a("el-form",{attrs:{rules:e.rules},model:{value:e.docfile,callback:function(t){e.docfile=t},expression:"docfile"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单据名称",prop:"CodeName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入陪护类型名称"},model:{value:e.docfile.CodeName,callback:function(t){e.$set(e.docfile,"CodeName",t)},expression:"docfile.CodeName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"起始单据号",prop:"startCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入起始单据号"},model:{value:e.docfile.startCode,callback:function(t){e.$set(e.docfile,"startCode",t)},expression:"docfile.startCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束单据号",prop:"endCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入结束单据号"},model:{value:e.docfile.endCode,callback:function(t){e.$set(e.docfile,"endCode",t)},expression:"docfile.endCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{float:"left"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:e.onDocfileClick}},[e._v("添加单据号")])],1),e._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.getdocfileList}},[e._v("查 询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.docfileList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"单据名称"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"currentCode",align:"center",label:"当前单据编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startCode",align:"center",label:"起始单据编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endCode",align:"center",label:"结束单据编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showDocfileView(t.row)}}},[e._v("编辑\n                      ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.ServiceChange}})],1)],1)],1),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.docfile2}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.docfileVisible,width:"65%"},on:{"update:visible":function(t){e.docfileVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单据名称"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入陪护类型名称"},model:{value:e.docfile2.name,callback:function(t){e.$set(e.docfile2,"name",t)},expression:"docfile2.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"起始单据号",prop:"startCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入起始单据号"},model:{value:e.docfile2.startCode,callback:function(t){e.$set(e.docfile2,"startCode",t)},expression:"docfile2.startCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"结束单据号",prop:"endCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入结束单据号"},model:{value:e.docfile2.endCode,callback:function(t){e.$set(e.docfile2,"endCode",t)},expression:"docfile2.endCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:e.madyifdocfile}},[e._v("修改单据号")])],1)],1)],1)],1)],1)])],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("lNcc")},"data-v-9412b4c6",null);t.default=s.exports},ZPWa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{dialogVisible:!1,temptit:["待排班","已选中"],dateWork:"",dialogTitle:"",schedule:"1",careData:[],dataList:[],gradeData:[{grade:"1",mame:"白班"},{grade:"2",mame:"夜班"}]}},mounted:function(){this.getDataList()},methods:{getDataList:function(){var e=this;this.postRequestJson("/busi/careworker/list",{name:"",curPage:1,pageSize:1e3,isOnWork:!0,projectId:this.$store.state.user.projectId}).then(function(t){if(e.tableLoading=!1,t&&200===t.status){console.log(t.data.msg.result);for(var a=[],i=0;i<t.data.msg.result.length;i++)a.push({key:t.data.msg.result[i].careworkerId,label:t.data.msg.result[i].name});e.dataList=a}})},submitOnclik:function(){var e=this;this.postRequestJson("/busi/routine",{date:this.dateWork,dayIndex:1,schedule:this.schedule,property:1,careworkerIds:this.careData}).then(function(t){e.tableLoading=!1,t&&200===t.status&&e.getMasgg(t.data.msg)})},getMasgg:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.dialogVisible=!1}).catch(function(){})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"日期:"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"选择日期"},model:{value:e.dateWork,callback:function(t){e.dateWork=t},expression:"dateWork"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制定的班次:"}},[a("el-select",{attrs:{size:"mini",placeholder:"制定的班次"},model:{value:e.schedule,callback:function(t){e.schedule=t},expression:"schedule"}},e._l(e.gradeData,function(e){return a("el-option",{key:e.grade,attrs:{label:e.mame,value:e.grade}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:14}},[[a("el-transfer",{attrs:{data:e.dataList,titles:e.temptit},model:{value:e.careData,callback:function(t){e.careData=t},expression:"careData"}})]],2)],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"30px"},attrs:{span:14}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-circle-plus",type:"primary"},on:{click:e.submitOnclik}},[e._v("保存设置\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("QvDi")},null,null);t.default=s.exports},bT9Y:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("mtWM");var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请类型:",prop:"endCode"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"申请类型"},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}},e._l(e.typeData,function(e){return a("el-option",{key:e.property,attrs:{label:e.mame,value:e.property}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请时间:",prop:"startCode"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"155px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",size:"mini",placeholder:"选择日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请班次:",prop:"endCode"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"申请班次"},model:{value:e.schedule,callback:function(t){e.schedule=t},expression:"schedule"}},e._l(e.gradeData,function(e){return a("el-option",{key:e.schedule,attrs:{label:e.mame,value:e.schedule}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"护工姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入陪护类型名称"},on:{focus:e.onclick},model:{value:e.CareWorkName,callback:function(t){e.CareWorkName=t},expression:"CareWorkName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"时间长度:",prop:"endCode"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入时长"},model:{value:e.dayIndex,callback:function(t){e.dayIndex=t},expression:"dayIndex"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:e.subminOnclick}},[e._v("提交申请")])],1)],1)],1)],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.careWorkerList,border:"","highlight-current-row":"",size:"mini"},on:{"current-change":e.SelectionChange}},[a("el-table-column",{attrs:{prop:"code",align:"center",fixed:"",label:"员工编号"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"员工姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"所在科室"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDateTime",align:"center",label:"入职时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDateTime",align:"center",label:"离职时间"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onClickEmp}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]},l=a("VU/8")({data:function(){return{careWorkerList:[],dialogVisible:!1,dialogTitle:"",schedule:"1",dayIndex:"",property:"2",date:"",totalCount:-1,CareWorkName:"",currentPage:1,resourceSelection:[],tableLoading:!1,gradeData:[{schedule:"1",mame:"白班"},{grade:"2",schedule:"夜班"}],typeData:[{property:"3",mame:"请假"},{property:"2",mame:"加班"}]}},mounted:function(){},methods:{onclick:function(){this.dialogTitle="护工参照",this.dialogVisible=!0,this.getCareWorker()},SelectionChange:function(e){this.resourceSelection=e},getCareWorker:function(){var e=this;this.tableLoading=!0,this.postRequestJson("/busi/careworker/list",{name:this.name,curPage:this.currentPage,projectId:2}).then(function(t){if(e.tableLoading=!1,t&&200===t.status){var a=t.data;e.careWorkerList=t.data.msg.result,e.totalCount=a.msg.totalSize}})},onClickEmp:function(){this.resourceSelection.length<0?this.getMasgg("请选择护工"):(this.CareWorkName=this.resourceSelection.name,this.dialogVisible=!1)},subminOnclick:function(){var e=this,t=0;0<this.dayIndex<=1?((this.property=3)&&(t=0-this.dayIndex),this.postRequestJson("/busi/routine",{date:this.date,dayIndex:t,schedule:this.schedule,property:this.property,careworkerIds:[this.resourceSelection.careworkerId]}).then(function(t){e.tableLoading=!1,t&&200===t.status&&e.getMasgg(t.data.msg)})):this.getMasgg("时间长度绝对值不能大于1")},currentChange:function(e){this.currentPage=e,this.getCareWorker()},getMasgg:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.dialogVisible=!1}).catch(function(){})}}},i,!1,null,null,null);t.default=l.exports},bUYb:function(e,t){},dBPg:function(e,t){},dFTf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{searchConditonDTO:{name:null,orgId:null,isOnWork:"",curPage:1,pageSize:10},isOnWorkOptions:[{value:1,label:"在职"}],careWorkerList:[],roleList:[],SelectionChange:[],treeData:[],sexData:[{sex:"1",mame:"男"},{sex:"2",mame:"女"}],jodtitleData:[{jodtitle:"1",name:"护工"}],name:"",hideRow:!1,orgId:"",dialogTitle:"",orgdialogTitle:"",totalCount:-1,currentPage:1,startDateTime:"",dialogVisible:!1,editDialogVisible:!1,EdialogVisible:!1,detailedEmpdialogVisible:!1,tableLoading:!1,defaultProps:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"},orgDataNode:{orgId:"",orgName:""},editDTO:{orgId:null,orgName:"",startDate:null,careworkerId:null},editOrgTreeVisible:!1,emp:{careworkerId:"",code:"",name:"",idcard:"",sex:"",phone:"",address:"",jodtitle:"",orgName:"",startDate:""},insemp:{careworkerId:"",code:"",name:"",idcard:"",sex:"",phone:"",address:"",jodtitle:""},empData:{startDateTime:"",projectId:"",orgId:"",employee:""},rules:{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],idcard:[{required:!0,message:"必填:身份证",trigger:"blur"}],password:[{required:!0,message:"必填:密码",trigger:"blur"}],phone:[{required:!0,message:"必填:联系方式",trigger:"blur"}],address:[{required:!0,message:"必填:联系地址",trigger:"blur"}],sex:[{required:!0,message:"必选:性别",trigger:"change"}],jodtitle:[{required:!0,message:"必选:职务",trigger:"change"}]}}},mounted:function(){this.loadEmps()},methods:{clearOrgInput:function(){this.orgDataNode.orgName="",this.orgDataNode.orgId=null},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.careworkerId),t.$message({type:"success",message:"删除成功!"})}).catch(function(){})},doDelete:function(e){var t=this;this.tableLoading=!0;var a=this;this.deleteRequest("/busi/careworker?careworkerId="+e).then(function(e){a.tableLoading=!1,e&&200===e.status?(t.$confirm(e.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){}),a.loadEmps()):t.$confirm(e.data.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})})},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.postRequestJson("/busi/careworker/list",{name:this.name,curPage:this.currentPage,projectId:this.user.projectId,orgId:this.orgDataNode.orgId,isOnWork:1==this.searchConditonDTO.isOnWork}).then(function(a){if(console.log(a),e.tableLoading=!1,a&&200===a.status){var i=a.data;t.careWorkerList=a.data.msg.result,t.totalCount=i.msg.totalSize}})},addEmp:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.postRequestJson("/busi/careworker",{startDateTime:t.startDateTime,projectId:t.user.projectId,orgId:t.orgDataNode.orgId,employee:t.insemp}).then(function(e){e&&200===e.status?"200"===e.data.code?t.getMssage("添加成功"):t.getMssage(e.data.msg):t.getMssage(e)})})},modifyEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.putRequestJson("/busi/careworker",{startDateTime:t.editDTO.startDate,orgId:t.editDTO.orgId,careworkerId:t.editDTO.careworkerId}).then(function(e){a.tableLoading=!1,e&&e.status,t.getMssage(e.data.msg)})})},cancelEidt:function(){this.dialogVisible=!1,this.EdialogVisible=!1,this.editDialogVisible=!1,this.editOrgTreeVisible=!1},showEditEmpView:function(e){console.log(e),this.dialogTitle="编辑陪护人员信息",this.emp.code=e.code,this.emp.name=e.name,this.emp.orgName=e.orgName,this.emp.startDate=e.startDateTime,this.editDialogVisible=!0,this.editDTO.careworkerId=e.careworkerId,this.editDTO.orgId=null,this.editDTO.startDate=null},showEditOrgTable:function(){this.editOrgTreeVisible=!0},showdetailedEmp:function(e){this.dialogTitle="陪护人员详细信息",this.detailedEmpdialogVisible=!0,this.getDetailed(e.careworkerId)},getDetailed:function(e){var t=this;this.getRequest("/busi/careworker?careworkerId="+e).then(function(e){console.log(e),e&&200===e.status&&(t.emp.code=e.data.msg.employee.code,t.emp.name=e.data.msg.employee.name,t.emp.idcard=e.data.msg.employee.idcard,t.emp.phone=e.data.msg.employee.phone,t.emp.address=e.data.msg.employee.address,t.orgDataNode.orgName=e.data.msg.orgName,t.startDateTime=e.data.msg.startDateTime)})},showAddEmpView:function(){this.dialogTitle="添加陪护人员信息",this.dialogVisible=!0,this.insemp.address="",this.insemp.code="",this.insemp.idcard="",this.insemp.jodtitle="",this.insemp.sex="",this.insemp.phone="",this.insemp.name="",this.insemp.code="",this.insemp.careworkerId="",this.orgDataNode.orgName="",this.startDateTime=""},showOrgTable:function(){this.orgdialogTitle="科室参照",this.EdialogVisible=!0},loadChild:function(e,t){var a=this,i=null==e.parent?null:e.data.id,l=t;this.tableLoading=!0,this.postRequestJson("/busi/baseinfo/organization/list",{orgId:i,projectId:this.user.projectId}).then(function(e){if(a.tableLoading=!1,e&&200===e.status)if(e.data.code){for(var t=[],i=0;i<e.data.msg.result.length;i++)t.push({id:e.data.msg.result[i].id,label:e.data.msg.result[i].name,children:[],isLeaf:e.data.msg.result[i].isLeaf,disabled:!e.data.msg.result[i].isLeaf});l(t)}else a.getMssage(e.data.msg);else a.getMssage(e.status)})},orgClick:function(e){var t=this.$refs.tree.getCheckedNodes(!0,!1);"edit"===e?(this.editOrgTreeVisible=!1,this.editDTO.orgName=t[0].label,this.editDTO.orgId=t[0].id):(this.EdialogVisible=!1,this.orgDataNode.orgName=t[0].label,this.orgDataNode.orgId=t[0].id)},orgNodeClick:function(e,t){var a=[];a.push(e),this.$refs.tree.setCheckedNodes(a,!0)},detailedEmp:function(){this.detailedEmpdialogVisible=!1},getMssage:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.dialogVisible=!1,t.editDialogVisible=!1,t.loadEmps()}).catch(function(){})}},computed:{user:function(){return this.$store.state.user}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",[a("div",{},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px",width:"100%"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"护工姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",clearable:"",placeholder:"请输入护工姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"选择科室"},on:{focus:e.showOrgTable},model:{value:e.orgDataNode.orgName,callback:function(t){e.$set(e.orgDataNode,"orgName",t)},expression:"orgDataNode.orgName"}},[a("i",{staticClass:"el-input__icon el-icon-circle-close",attrs:{slot:"suffix"},on:{click:e.clearOrgInput},slot:"suffix"})])],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"在职情况:"}},[a("el-select",{attrs:{clearable:"",size:"mini"},model:{value:e.searchConditonDTO.isOnWork,callback:function(t){e.$set(e.searchConditonDTO,"isOnWork",t)},expression:"searchConditonDTO.isOnWork"}},e._l(e.isOnWorkOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.loadEmps}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v(" 添加护工信息")])],1)],1)],1)],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.careWorkerList,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"code",fixed:"",align:"center",label:"护工编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"护工姓名"}}),e._v(" "),e.hideRow?a("el-table-column",{attrs:{prop:"careworkerId",label:"陪护人员记录号",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",label:"所属科室",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDateTime",align:"center",label:"入职时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDateTime",align:"center",label:"离职时间"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.endDateTime?a("el-row",[a("el-button",{staticStyle:{padding:"3px 15px 3px 15px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n                ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 15px 3px 15px",margin:"2px"},attrs:{type:"danger",size:"small"},on:{click:function(a){return e.deleteEmp(t.row)}}},[e._v("离职\n                ")])],1):e._e()]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.insemp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"护工编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"190px"},attrs:{"prefix-icon":"el-icon-edit",placeholder:"请输入护工编号",size:"mini"},model:{value:e.insemp.code,callback:function(t){e.$set(e.insemp,"code",t)},expression:"insemp.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入姓名"},model:{value:e.insemp.name,callback:function(t){e.$set(e.insemp,"name",t)},expression:"insemp.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"身份证:",prop:"idcard"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"身份证"},model:{value:e.insemp.idcard,callback:function(t){e.$set(e.insemp,"idcard",t)},expression:"insemp.idcard"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"性 别:",prop:"sex"}},[a("el-select",{staticStyle:{width:"203px"},attrs:{size:"mini",placeholder:"性别"},model:{value:e.insemp.sex,callback:function(t){e.$set(e.insemp,"sex",t)},expression:"insemp.sex"}},e._l(e.sexData,function(e){return a("el-option",{key:e.sex,attrs:{label:e.mame,value:e.sex}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"职务:",prop:"jodtitle"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"职 务"},model:{value:e.insemp.jodtitle,callback:function(t){e.$set(e.insemp,"jodtitle",t)},expression:"insemp.jodtitle"}},e._l(e.jodtitleData,function(e){return a("el-option",{key:e.jodtitle,attrs:{label:e.name,value:e.jodtitle}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"科 室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"选择科室"},on:{focus:e.showOrgTable},model:{value:e.orgDataNode.orgName,callback:function(t){e.$set(e.orgDataNode,"orgName",t)},expression:"orgDataNode.orgName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式:",prop:"phone"}},[a("el-input",{staticStyle:{width:"176px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"联系方式"},model:{value:e.insemp.phone,callback:function(t){e.$set(e.insemp,"phone",t)},expression:"insemp.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"420px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"联系地址"},model:{value:e.insemp.address,callback:function(t){e.$set(e.insemp,"address",t)},expression:"insemp.address"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"入职时间:",prop:"startDateTime"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.startDateTime,callback:function(t){e.startDateTime=t},expression:"startDateTime"}})],1)])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"modifyEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.emp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.editDialogVisible,width:"65%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"护工编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini"},model:{value:e.emp.code,callback:function(t){e.$set(e.emp,"code",t)},expression:"emp.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"姓 名:",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"职 务:"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",value:"护工"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"科 室:"}},[a("el-input",{staticStyle:{width:"205px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini"},model:{value:e.emp.orgName,callback:function(t){e.$set(e.emp,"orgName",t)},expression:"emp.orgName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"入职时间:"}},[a("el-input",{staticStyle:{width:"185px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini"},model:{value:e.emp.startDate,callback:function(t){e.$set(e.emp,"startDate",t)},expression:"emp.startDate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"转入科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"选择科室"},on:{focus:e.showEditOrgTable},model:{value:e.editDTO.orgName,callback:function(t){e.$set(e.editDTO,"orgName",t)},expression:"editDTO.orgName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"转入时间:",prop:"startDateTime"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"185px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.editDTO.startDate,callback:function(t){e.$set(e.editDTO,"startDate",t)},expression:"editDTO.startDate"}})],1)])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.modifyEmp("modifyEmpForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"detailedEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.emp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.detailedEmpdialogVisible,width:"65%"},on:{"update:visible":function(t){e.detailedEmpdialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"护工编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini"},model:{value:e.emp.code,callback:function(t){e.$set(e.emp,"code",t)},expression:"emp.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",placeholder:"请输入姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"身份证:",prop:"idcard"}},[a("el-input",{staticStyle:{width:"165px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",placeholder:"身份证"},model:{value:e.emp.idcard,callback:function(t){e.$set(e.emp,"idcard",t)},expression:"emp.idcard"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[a("el-select",{staticStyle:{width:"170px"},attrs:{size:"mini",placeholder:"性别",disabled:"disabled"},model:{value:e.emp.sex,callback:function(t){e.$set(e.emp,"sex",t)},expression:"emp.sex"}},e._l(e.sexData,function(e){return a("el-option",{key:e.sex,attrs:{label:e.mame,value:e.sex}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"职务:",prop:"jodtitle"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",disabled:"disabled",placeholder:"职务"},model:{value:e.emp.jodtitle,callback:function(t){e.$set(e.emp,"jodtitle",t)},expression:"emp.jodtitle"}},e._l(e.jodtitleData,function(e){return a("el-option",{key:e.jodtitle,attrs:{label:e.name,value:e.jodtitle}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"科室:",prop:"orgName"}},[a("el-input",{staticStyle:{width:"189px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",placeholder:"选择科室"},model:{value:e.orgDataNode.orgName,callback:function(t){e.$set(e.orgDataNode,"orgName",t)},expression:"orgDataNode.orgName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"联系方式:",prop:"phone"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",placeholder:"联系方式"},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",placeholder:"联系地址"},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"入职时间:",disabled:"disabled",prop:"startDateTime"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini",placeholder:"联系地址"},model:{value:e.startDateTime,callback:function(t){e.startDateTime=t},expression:"startDateTime"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.detailedEmp}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.orgdialogTitle,"close-on-click-modal":!1,visible:e.EdialogVisible,width:"30%"},on:{"update:visible":function(t){e.EdialogVisible=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.defaultProps,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.orgClick()}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"OrgFormEdit",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:"科室参照","close-on-click-modal":!1,visible:e.editOrgTreeVisible,width:"30%"},on:{"update:visible":function(t){e.editOrgTreeVisible=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.defaultProps,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.orgClick("edit")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("2EgX")},null,null);t.default=s.exports},eY1r:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{salaryList:[],mergeArr:[],pos:0,date:""}},methods:{generalSalaryReport:function(){var e=this,t=this.$loading({lock:!0,text:"数据加载中，请等待...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.postRequestJson("/report/patient",{projectId:2,date:this.date}).then(function(a){if(console.log(a),t.close(),e.salaryList=[],a&&"200"===a.data.code){var i=a.data.msg;if(0!==i.length)for(var l=0;l<i.length;l++)e.salaryList.push({patientCode:i[l].patientCode,hospitailDate:i[l].hospitalDate,name:i[l].patientName,org:i[l].orgName,bedNum:i[l].bedNum,pay:i[l].pay,careType:i[l].careTypeName,price:i[l].price,status:i[l].status,leaveDate:i[l].leaveDate,day:i[l].days,amount:i[l].amount});else e.$message({type:"fail",message:"该月份没有数据"})}else e.$message({type:"fail",message:a.data.msg})})},exportExcelFile:function(){var e=this,t=this.$loading({lock:!0,text:"数据加载中，请等待...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.postRequestFile("/report/patient/file",{projectId:2,date:this.date}).then(function(a){if(console.log(a),t.close(),a&&200==a.status&&null==a.data.code){var i=new Blob([a.data],{type:"application/vnd.ms-excel"}),l=document.createElement("a");l.href=window.URL.createObjectURL(i),l.download="住院报表_"+e.date+".xlsx",l.click()}else if(null!=a.data.code)return void e.$message({type:"fail",message:a.data.msg})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"月份:",prop:"username"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"month",size:"mini","value-format":"yyyy-MM",format:"yyyy年MM月",placeholder:"选择月"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.generalSalaryReport}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-upload2",type:"primary"},on:{click:e.exportExcelFile}},[e._v("导出Excel")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salaryList,border:"",height:"650"}},[a("el-table-column",{attrs:{align:"center",type:"index",fixed:"left",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"patientCode",align:"center",fixed:"",label:"病人编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hospitailDate",align:"center",label:"入院时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"org",align:"center",label:"科室"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bedNum",align:"center",label:"床号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay",label:"预收款",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"careType",align:"center",label:"陪护类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",align:"center",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",align:"center",label:"服务状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaveDate",align:"center",label:"出院日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"day",align:"center",label:"天数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",align:"center",label:"服务金额"}})],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("QeZx")},"data-v-36172ad3",null);t.default=s.exports},fQWI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s={data:function(){var e;return e={missionList:[],carreName:"",patientName:"",hideRow:!1,tableLoading:!1,value1:"",totalSize:0,totalCount:-1,CareWorktotalCount:-1,currentPage:1,CareWorkcurrentPage:1,curPageSize:10,disData:[{isDisabled:"1",name:"待派遣"},{isDisabled:"0",name:"全部"}],DdialogTitle:"",DdialogVisible:!1,DispatchedList:[]},l()(e,"tableLoading",!1),l()(e,"resourceSelection",[]),l()(e,"DRequestCode",""),l()(e,"DDateTime",""),l()(e,"DList",[]),e},mounted:function(){this.searchMission()},methods:{searchMission:function(){var e=this;this.tableLoading=!0,this.missionList=[],this.postRequestJson("/busi/mission/list",{name:this.patientName,projectId:this.$store.state.user.projectId,isDisabled:"1"===this.disData.isDisabled,curPage:this.currentPage,pageSize:this.curPageSize}).then(function(t){if(e.tableLoading=!1,!t||"200"!==t.data.code)return"200"===t.data.code?void e.$message({type:"fail",message:t.data.msg}):void e.$message({type:"fail",message:t});var a=t.data.msg;e.totalSize=a.totalSize;var i=a.result,l="";console.log(i);for(var s=0;s<i.length;s++){var n=!0;null==i[s].missionDate&&null==i[s].requestEndDate?l="待派遣":null!=i[s].missionDate&&null==i[s].requestEndDate?l="服务中":null!=i[s].requestEndDate&&(l="已结束",n=!1),e.missionList.push({patientName:i[s].patientName,patientCode:i[s].patientCode,orgName:i[s].orgName,requestCode:i[s].requestCode,hospitalizedDate:i[s].hospitalizedDate,serviceDate:i[s].requestStartDate,serviceType:i[s].careTypePorperty,price:i[s].careTypePrice,serviceName:i[s].careTypeName,serviceTai:l,serviceStatus:n})}})},SelectionChange:function(e){this.resourceSelection=e},showDispatched:function(e){this.DdialogTitle="派遣任务",this.DdialogVisible=!0,this.DRequestCode=e.requestCode,this.getCareWork(),this.getCareWorkByRecode(e.requestCode)},CloseDispatched:function(e){var t=this;this.deleteRequest("/busi/mission?requestCode="+e.requestCode).then(function(e){t.tableLoading=!1,e&&200===e.status?t.getMsage(e.data.msg):t.getMsage(e.status)})},getCareWorkByRecode:function(e){var t=this;this.postRequestJson("/busi/mission/detail",{requestCode:e}).then(function(e){t.tableLoading=!1,e&&200===e.status?"200"===e.data.code?t.DList=e.data.msg.result:t.getMsage(e.data.msg):t.getMsage(e.status)})},getCareWorkChean:function(e){this.CareWorkcurrentPage=e,this.getCareWork()},getCareWork:function(){var e=this;this.tableLoading=!0,this.postRequestJson("/busi/careworker/list",{name:this.carreName,curPage:this.CareWorkcurrentPage,pageSize:10}).then(function(t){e.tableLoading=!1,t&&200===t.status?"200"===t.data.code?(e.DispatchedList=t.data.msg.result,e.CareWorktotalCount=t.data.msg.totalSize):e.getMsage(t.data.msg):e.getMsage(t.status)})},missionClick:function(){var e=this;if(""!==this.DDateTime)if(0!==this.resourceSelection.length){for(var t=[],a=0;a<this.resourceSelection.length;a++)t.push(this.resourceSelection[a].careworkerId);this.postRequestJson("/busi/mission",{careworkerIds:t,requestCode:this.DRequestCode,dateTime:this.DDateTime,clerk:this.user.name}).then(function(t){e.tableLoading=!1,t&&200===t.status?"200"===t.data.code?(e.getMsage("派遣成功"),e.DdialogVisible=!1):e.getMsage(t.data.msg):e.getMsage(t.status)})}else this.getMsage("请选择派遣护工，注意：已派遣的护工不能派遣");else this.getMsage("派遣时间不能为空")},getMsage:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.searchMission()}).catch(function(){})}},computed:{user:function(){return this.$store.state.user}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[a("el-row",[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"病人姓名:",prop:"username"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入病人姓名"},model:{value:e.patientName,callback:function(t){e.patientName=t},expression:"patientName"}})],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"派工状态:",prop:"username"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"派工状态"},model:{value:e.disData.isDisabled,callback:function(t){e.$set(e.disData,"isDisabled",t)},expression:"disData.isDisabled"}},e._l(e.disData,function(e){return a("el-option",{key:e.isDisabled,attrs:{label:e.name,value:e.isDisabled}})}),1)],1),e._v(" "),a("el-form-item",{staticStyle:{float:"left"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary"},on:{click:e.searchMission}},[e._v("查询")])],1)],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.missionList,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"patientName",align:"center",fixed:"",label:"病人姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"patientCode",align:"center",fixed:"",label:"病人编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"现在科室"}}),e._v(" "),e.hideRow?a("el-table-column",{attrs:{prop:"requestCode",align:"center",label:"服务编号"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"hospitalizedDate",label:"入院时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceDate",label:"服务开始时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceName",label:"服务名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceTai",label:"服务状态",align:"center"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"serviceType",label:"服务类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"服务单价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.serviceStatus?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showDispatched(t.row)}}},[e._v("派遣操作\n            ")]):e._e(),e._v(" "),t.row.serviceStatus?a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.CloseDispatched(t.row)}}},[e._v("取消派遣\n            ")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.curPageSize,layout:"prev, pager, next, jumper",total:e.totalSize},on:{"current-change":e.searchMission,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1),e._v(" "),a("el-form",{ref:"DispatchedForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"10px"},attrs:{title:e.DdialogTitle,"close-on-click-modal":!1,visible:e.DdialogVisible,width:"60%"},on:{"update:visible":function(t){e.DdialogVisible=t}}},[a("el-row",[a("el-form-item",{staticStyle:{"margin-top":"-30px"},attrs:{label:"已派遣护工"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.DList,stripe:"",height:"120",size:"mini"}},[a("el-table-column",{attrs:{prop:"careworkerCode",align:"center",fixed:"",label:"护工编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"careworkerName",align:"center",label:"护工名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"missionDate",label:"派遣时间",align:"center"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"护工姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入护工姓名"},model:{value:e.carreName,callback:function(t){e.carreName=t},expression:"carreName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getCareWork}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{staticStyle:{"margin-top":"-30px"},attrs:{label:"未派遣护工"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%",height:"200px"},attrs:{border:"",data:e.DispatchedList,stripe:"",height:"200",size:"mini"},on:{"selection-change":e.SelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),e.hideRow?a("el-table-column",{attrs:{prop:"careworkerId",label:"陪护人员记录号",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",fixed:"",label:"护工编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"护工名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"所属科室"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startDateTime",label:"入职时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDateTime",label:"离职时间",align:"center"}})],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.CareWorkcurrentPage,layout:"prev, pager, next",total:e.CareWorktotalCount},on:{"current-change":e.getCareWorkChean}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"执行派工时间:",prop:"username"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",placeholder:"选择日期"},model:{value:e.DDateTime,callback:function(t){e.DDateTime=t},expression:"DDateTime"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.missionClick}},[e._v("执行派工")])],1)],1)],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(e){a("GzbA")},"data-v-42e9916a",null);t.default=r.exports},gORT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var l=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(e){a("1uuo")},"data-v-d8ec41bc",null);t.default=l.exports},k9q9:function(e,t){},kfXf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("mtWM");var i={data:function(){return{patientList:[],transactionList:[],arrearageList:[],roleName:"",dialogTitle:"",resourceSelection:[],startDateAndEnd:"",totalCount:-1,InsCount:-1,ArrCount:-1,currentPage:1,InscurrentPage:1,ArrcurrentPage:1,dialogVisible:!1,tableLoading:!1,InsdialogVisible:!1,arrearageVisible:!1,transaVisible:!1,advanceSearchViewVisible:!1,patient:{code:null,name:"",idcard:"",sex:"",phone:"",address:"",linkman:""},Ipatient:{name:"",idCard:"",sex:"",phone:"",address:"",linkman:""},patientResource:{name:"",id:""},rules:{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],phone:[{required:!0,message:"必填:联系方式",trigger:"blur"}]},data:[],value1:[],sexData:[{sex:"1",mame:"男"},{sex:"2",mame:"女"}]}},mounted:function(){this.loadEmps()},methods:{keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},InsCountChange:function(e){this.InscurrentPage=e,this.getTransa()},ArrChange:function(e){this.ArrcurrentPage=e,this.getArrearage()},loadEmps:function(){var e=this,t=this;this.patientList=[],this.tableLoading=!0,this.postRequestJson("/baseinfo/patient/list",{name:this.roleName,curPage:this.currentPage,pageSize:10}).then(function(a){if(e.tableLoading=!1,a&&200===a.status)if("200"===a.data.code){console.log(a.data.msg.result);for(var i=a.data.msg.result,l=0;l<i.length;l++)t.patientList.push({code:i[l].code,name:i[l].name,idCard:i[l].idCard,sex:1==i[l].sex?"男":"女",balance:i[l].balance,phone:i[l].phone});t.totalCount=a.data.msg.totalSize}else e.getMsg(a.data.msg);else e.getMsg(a.status)})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.tableLoading=!0,t.postRequestJson("/baseinfo/patient",t.Ipatient).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible=!1,t.getMsg("添加成功"),t.InsdialogVisible=!1):t.getMsg(e.data.msg):t.getMsg(e.status)})})},modifyClick:function(){var e=this,t=this;this.tableLoading=!0,this.putRequestJson("/baseinfo/patient",this.patient).then(function(a){t.tableLoading=!1,a&&200===a.status?(e.getMsg(a.data.msg),e.dialogVisible=!1):e.getMsg(a.status)})},cancelEidt:function(){this.dialogVisible=!1,this.InsdialogVisible=!1,this.transaVisible=!1,this.arrearageVisible=!1},showEditEmpView:function(e){this.dialogTitle="编辑病人基础信息",this.patientResource.name=e.code,this.dialogVisible=!0,this.modifyPatent(e.code)},transaView:function(e){this.dialogTitle="病人交易记录",this.transaVisible=!0,this.getTransa(e.code)},getTransa:function(e){var t=this;this.tableLoading=!0,this.postRequestJson("/baseinfo/patient/transaction/list",{code:e,curPage:this.InscurrentPage,pageSize:10}).then(function(e){if(t.tableLoading=!1,e&&200===e.status)if("200"===e.data.code){for(var a=[],i="",l=0;l<e.data.msg.result.length;l++)1==e.data.msg.result[l].type?i="充值/续费":2==e.data.msg.result[l].type?i="结算":3==e.data.msg.result[l].type&&(i="退款"),a.push({code:e.data.msg.result[l].code,dateTime:e.data.msg.result[l].dateTime,money:e.data.msg.result[l].money,payMan:e.data.msg.result[l].payMan,type:i});t.transactionList=a,t.InsCount=e.data.msg.totalSize}else t.getMsg(e.data.msg);else t.getMsg(e.status)})},arrearageView:function(e){this.dialogTitle="病人欠费记录",this.arrearageVisible=!0,this.getArrearage(e.code)},getArrearage:function(e){var t=this;this.tableLoading=!0,this.postRequestJson("/baseinfo/patient/arrearage/list",{code:e,curPage:this.ArrcurrentPage,pageSize:10}).then(function(e){t.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(t.arrearageList=e.data.msg.result,t.ArrCount=e.data.msg.totalSize):t.getMsg(e.data.msg):t.getMsg(e.status)})},modifyPatent:function(e){var t=this;this.getRequest("/baseinfo/patient?code="+e).then(function(e){e&&200===e.status?"200"===e.data.code?(t.patient.code=e.data.msg.code,t.patient.name=e.data.msg.name,t.patient.linkman=e.data.msg.linkman,t.patient.idcard=e.data.msg.idCard,t.patient.address=e.data.msg.address,t.patient.phone=e.data.msg.phone,t.patientResource.id=e.data.msg.id):t.getMsg(e.data.msg):t.getMsg(e.status)})},showAddEmpView:function(){this.dialogTitle="添加病人基础信息",this.InsdialogVisible=!0,this.Ipatient.address="",this.Ipatient.idCard="",this.Ipatient.linkman="",this.Ipatient.name="",this.Ipatient.phone="",this.Ipatient.sex=""},getMsg:function(e){var t=this;this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.loadEmps()}).catch(function(){})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过病人姓名搜索病人信息,记得回车哦.",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchEmp(t)}},model:{value:e.roleName,callback:function(t){e.roleName=t},expression:"roleName"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n          添加病人\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.patientList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"code",align:"center",label:"病人编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idCard",align:"center",label:"身份证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",align:"center",label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",align:"center",label:"余额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return e.transaView(t.row)}}},[e._v("交易记录\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 10px 3px 10px",margin:"2px"},attrs:{type:"danger",size:"small"},on:{click:function(a){return e.arrearageView(t.row)}}},[e._v("欠费记录\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.Ipatient,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.InsdialogVisible,width:"65%"},on:{"update:visible":function(t){e.InsdialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓 名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入姓名"},model:{value:e.Ipatient.name,callback:function(t){e.$set(e.Ipatient,"name",t)},expression:"Ipatient.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性   别:",prop:"sex"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择性别"},model:{value:e.Ipatient.sex,callback:function(t){e.$set(e.Ipatient,"sex",t)},expression:"Ipatient.sex"}},e._l(e.sexData,function(e){return a("el-option",{key:e.sex,attrs:{label:e.mame,value:e.sex}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"身 份 证:",prop:"idcard"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入身份证"},model:{value:e.Ipatient.idCard,callback:function(t){e.$set(e.Ipatient,"idCard",t)},expression:"Ipatient.idCard"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"家属姓名:",prop:"linkman"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入家属姓名"},model:{value:e.Ipatient.linkman,callback:function(t){e.$set(e.Ipatient,"linkman",t)},expression:"Ipatient.linkman"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式:",prop:"phone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入联系方式"},model:{value:e.Ipatient.phone,callback:function(t){e.$set(e.Ipatient,"phone",t)},expression:"Ipatient.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入联系地址"},model:{value:e.Ipatient.address,callback:function(t){e.$set(e.Ipatient,"address",t)},expression:"Ipatient.address"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.patient,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"病人编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",disabled:"disabled",size:"mini"},model:{value:e.patient.code,callback:function(t){e.$set(e.patient,"code",t)},expression:"patient.code"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓 名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入姓名"},model:{value:e.patient.name,callback:function(t){e.$set(e.patient,"name",t)},expression:"patient.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性   别:",prop:"sex"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择性别"},model:{value:e.patient.sex,callback:function(t){e.$set(e.patient,"sex",t)},expression:"patient.sex"}},e._l(e.sexData,function(e){return a("el-option",{key:e.sex,attrs:{label:e.mame,value:e.sex}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"身 份 证:",prop:"idcard"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入身份证"},model:{value:e.patient.idcard,callback:function(t){e.$set(e.patient,"idcard",t)},expression:"patient.idcard"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"家属姓名:",prop:"linkman"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入家属姓名"},model:{value:e.patient.linkman,callback:function(t){e.$set(e.patient,"linkman",t)},expression:"patient.linkman"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式:",prop:"phone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入联系方式"},model:{value:e.patient.phone,callback:function(t){e.$set(e.patient,"phone",t)},expression:"patient.phone"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入联系地址"},model:{value:e.patient.address,callback:function(t){e.$set(e.patient,"address",t)},expression:"patient.address"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.modifyClick()}}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.transaVisible,width:"65%"},on:{"update:visible":function(t){e.transaVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"交易日期:"}},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",size:"mini"},model:{value:e.startDateAndEnd,callback:function(t){e.startDateAndEnd=t},expression:"startDateAndEnd"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getTransa}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.transactionList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"code",align:"center",label:"交易单据号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dateTime",align:"center",label:"交易日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",align:"center",label:"交易方式"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.InscurrentPage,layout:"prev, pager, next",total:e.InsCount},on:{"current-change":e.InsCountChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.cancelEidt()}}},[e._v("关 闭")])],1)],1)],1)]),e._v(" "),a("el-form",{staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.arrearageVisible,width:"65%"},on:{"update:visible":function(t){e.arrearageVisible=t}}},[a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.arrearageList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"recordCode",align:"center",label:"单据号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"欠费日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hospitalName",align:"center",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"欠费金额"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.ArrcurrentPage,layout:"prev, pager, next",total:e.ArrCount},on:{"current-change":e.ArrChange}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.cancelEidt()}}},[e._v("关 闭")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("bUYb")},null,null);t.default=s.exports},lFL5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{name:"OrgTree",treeProps:{children:"children",label:"label",id:"id",isLeaf:"isLeaf",disabled:"disabled"}}},method:{orgNodeClick:function(e,t){console.log(e),console.log(t);var a=[];a.push(e),console.log(this),this.$refs.tree.setCheckedNodes(a,!0)},submitClick:function(){}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"OrgForm",staticStyle:{margin:"0px",padding:"0px"}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.EdialogVisible,width:"30%"},on:{"update:visible":function(t){e.EdialogVisible=t}}},[a("el-row",[a("el-tree",{ref:"tree",attrs:{props:e.defaultProps,load:e.loadChild,"node-key":"id",lazy:"","show-checkbox":""},on:{check:e.orgNodeClick}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("HwlH")},"data-v-567dd47f",null);t.default=s.exports},lNcc:function(e,t){},nfyr:function(e,t){},q00q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("mtWM");var i={data:function(){return{projectNameList:[],roleList:[],projectName:"",dialogTitle:"",multipleSelection:[],totalCount:-1,currentPage:1,dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,emp:{id:"",username:"",nickname:"",isLocked:"",isDisabled:"",roleName:"",password:"",projectName:""},projectDaName:{id:"",name:""},rules:{name:[{required:!0,message:"必填:项目名称",trigger:"blur"}]}}},mounted:function(){this.loadEmps()},methods:{handleSelectionChange:function(e){},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id),t.$message({type:"success",message:"删除成功!"})}).catch(function(){})},doDelete:function(e){var t=this;this.tableLoading=!0;var a=this;this.deleteRequest("/aut/project?projectId="+e+"&disable=true").then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(t.getMsg(e.data.msg),a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)})},keywordsChange:function(e){""===e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.postRequestJson("/aut/project/list",{projectName:this.projectName,curPage:this.currentPage}).then(function(a){if(e.tableLoading=!1,a&&200===a.status)if("200"===a.data.code){for(var i=a.data,l=[],s="使用中",n=0;n<i.msg.result.length;n++)s=i.msg.result[n].isDisabled?"已弃用":"使用中",l.push({name:i.msg.result[n].name,code:i.msg.result[n].code,id:i.msg.result[n].id,createTime:i.msg.result[n].createTime,creator:i.msg.result[n].creator,isDisabled:s});t.projectNameList=l,t.totalCount=i.msg.totalSize}else e.getMsg(a.data.msg);else e.getMsg(a.status)})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("gfnjgn"),console.log(t.emp.id),t.projectDaName.id?(t.tableLoading=!0,t.putRequestJson("/aut/project",t.projectDaName).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)})):(t.tableLoading=!0,t.postRequestJson("/aut/project",{name:t.projectDaName.name}).then(function(e){a.tableLoading=!1,e&&200===e.status?"200"===e.data.code?(a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()):t.getMsg(e.data.msg):t.getMsg(e.status)}))})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showEditEmpView:function(e){this.dialogTitle="编辑项目",this.projectDaName.name=e.name,this.projectDaName.id=e.id,this.dialogVisible=!0},showAddEmpView:function(){this.dialogTitle="添加项目",this.dialogVisible=!0},getMsg:function(e){this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})},emptyEmpData:function(){this.emp={username:"",nickname:"",isLocked:"",isDisabled:"",roleName:"",projectName:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过项目名名搜索角色信息,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchEmp(t)}},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n          添加项目\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.projectNameList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"id",align:"center",label:"项目记录号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"项目编号",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",width:"200",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creator",label:"创建人",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isDisabled",align:"center",label:"使用状态",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{size:"small"},on:{click:function(a){return e.showEditEmpView(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 20px 3px 20px",margin:"2px"},attrs:{type:"danger",size:"small"},on:{click:function(a){return e.deleteEmp(t.row)}}},[e._v("删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px",float:"right"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.projectDaName,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("div",[a("el-form-item",{attrs:{label:"项目名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入项目名称"},model:{value:e.projectDaName.name,callback:function(t){e.$set(e.projectDaName,"name",t)},expression:"projectDaName.name"}})],1)],1)])],1),e._v(" "),a("el-row"),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("A0R1")},null,null);t.default=s.exports},"uj+4":function(e,t){},yQaU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{logList:[],tableLoading:!1,searchCondition:{curPage:1,totalSize:0,pageSize:10,startDate:null,endDate:null},date:""}},mounted:function(){this.loadLogList()},methods:{currentChange:function(e){console.log(e),this.searchCondition.curPage=e,this.loadLogList()},loadLogList:function(){var e=this;this.tableLoading=!0,this.logList=[],null!=this.date||""!=this.date?(this.searchCondition.startDate=this.date[0],this.searchCondition.endDate=this.date[1]):(this.searchCondition.startDate=null,this.searchCondition.endDate=null),this.postRequestJson("/aut/log",{curPage:this.searchCondition.curPage,pageSize:this.searchCondition.pageSize,startDate:this.searchCondition.startDate,endDate:this.searchCondition.endDate}).then(function(t){if(e.tableLoading=!1,t&&200==t.status&&"200"==t.data.code){var a=t.data.msg;e.searchCondition.curPage=a.curPage,e.searchCondition.pageSize=a.pageSize,e.searchCondition.totalSize=a.totalSize;for(var i=a.result,l=0;l<i.length;l++)e.logList.push({id:i[l].id,operationName:i[l].operationName,operator:i[l].operator,dateTime:i[l].dateTime,interface:i[l].interfaces,timeConsuming:i[l].timeConsuming,ipAddress:i[l].ipAddress})}})},showEditEmpView:function(e){this.resourceVisible=!0,this.curResource.id=e.id,this.curResource.faId=e.faId,this.curResource.name=e.name,this.curResource.uri=e.uri,this.curResource.type=e.type,this.curResource.icon=e.icon,this.curResource.version=e.version,this.curResource.requestMethod=e.requestMethod,this.curResource.scope=e.scope,this.curResource.componet=e.componet},madyifResource:function(){var e=this;this.dialogTitle="编辑资源信息",this.resourceVisible=!1,this.putRequestJson("/aut/resource",{id:this.curResource.id,componet:this.curResource.componet}).then(function(t){t&&200==t.status&&"200"==t.data.code?e.$message({type:"success",message:t.data.msg}):e.$message.error({type:"fail",message:t.data.msg})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",[a("el-row",[a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"日期范围:"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.loadLogList}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.logList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"id",label:"id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operationName",align:"center",label:"操作名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator",align:"center",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dateTime",align:"center",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"interface",align:"center",label:"请求接口"}}),e._v(" "),a("el-table-column",{attrs:{prop:"timeConsuming",align:"center",label:"耗时"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ipAddress",align:"center",label:"ip地址"}})],1)],1),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.searchCondition.curPage,layout:"prev, pager, next",total:e.searchCondition.totalSize},on:{"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,l,!1,function(e){a("uj+4")},"data-v-32e6598e",null);t.default=s.exports},z0eb:function(e,t){}});
//# sourceMappingURL=0.bf380b47fa549da65216.js.map